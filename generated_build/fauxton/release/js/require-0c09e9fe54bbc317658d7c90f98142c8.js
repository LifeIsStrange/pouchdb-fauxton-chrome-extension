var requirejs,require,define;(function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;e.length>n&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){return t&&eachProp(t,function(t,r){(n||!hasProp(e,r))&&(i&&"string"!=typeof t?(e[r]||(e[r]={}),mixin(e[r],t,n,i)):e[r]=t)}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){var r=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return r.requireType=e,r.requireModules=i,n&&(r.originalError=n),r}function newContext(e){function t(e){var t,n;for(t=0;e[t];t+=1)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,i){var r,o,s,a,l,c,u,d,h,p,f,g=n&&n.split("/"),m=g,v=w.map,y=v&&v["*"];if(e&&"."===e.charAt(0)&&(n?(m=getOwn(w.pkgs,n)?g=[n]:g.slice(0,g.length-1),e=m.concat(e.split("/")),t(e),o=getOwn(w.pkgs,r=e[0]),e=e.join("/"),o&&e===r+"/"+o.main&&(e=r)):0===e.indexOf("./")&&(e=e.substring(2))),i&&v&&(g||y)){for(a=e.split("/"),l=a.length;l>0;l-=1){if(u=a.slice(0,l).join("/"),g)for(c=g.length;c>0;c-=1)if(s=getOwn(v,g.slice(0,c).join("/")),s&&(s=getOwn(s,u))){d=s,h=l;break}if(d)break;!p&&y&&getOwn(y,u)&&(p=getOwn(y,u),f=l)}!d&&p&&(d=p,h=f),d&&(a.splice(0,h,d),e=a.join("/"))}return e}function i(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===E.contextName?(t.parentNode.removeChild(t),!0):void 0})}function r(e){var t=getOwn(w.paths,e);return t&&isArray(t)&&t.length>1?(i(e),t.shift(),E.require.undef(e),E.require([e]),!0):void 0}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function s(e,t,i,r){var s,a,l,c,u=null,d=t?t.name:null,h=e,p=!0,f="";return e||(p=!1,e="_@r"+(F+=1)),c=o(e),u=c[0],e=c[1],u&&(u=n(u,d,r),a=getOwn(T,u)),e&&(u?f=a&&a.normalize?a.normalize(e,function(e){return n(e,d,r)}):n(e,d,r):(f=n(e,d,r),c=o(f),u=c[0],f=c[1],i=!0,s=E.nameToUrl(f))),l=!u||a||i?"":"_unnormalized"+(N+=1),{prefix:u,name:f,parentMap:t,unnormalized:!!l,url:s,originalName:h,isDefine:p,id:(u?u+"!"+f:f)+l}}function a(e){var t=e.id,n=getOwn(A,t);return n||(n=A[t]=new E.Module(e)),n}function l(e,t,n){var i=e.id,r=getOwn(A,i);!hasProp(T,i)||r&&!r.defineEmitComplete?(r=a(e),r.error&&"error"===t?n(r.error):r.on(t,n)):"defined"===t&&n(T[i])}function c(e,t){var n=e.requireModules,i=!1;t?t(e):(each(n,function(t){var n=getOwn(A,t);n&&(n.error=e,n.events.error&&(i=!0,n.emit("error",e)))}),i||req.onError(e))}function u(){globalDefQueue.length&&(apsp.apply(x,[x.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function d(e){delete A[e],delete S[e]}function h(e,t,n){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,each(e.depMaps,function(i,r){var o=i.id,s=getOwn(A,o);!s||e.depMatched[r]||n[o]||(getOwn(t,o)?(e.defineDep(r,T[o]),e.check()):h(s,t,n))}),n[i]=!0)}function p(){var e,t,n,o,s=1e3*w.waitSeconds,a=s&&E.startTime+s<(new Date).getTime(),l=[],u=[],d=!1,f=!0;if(!y){if(y=!0,eachProp(S,function(n){if(e=n.map,t=e.id,n.enabled&&(e.isDefine||u.push(n),!n.error))if(!n.inited&&a)r(t)?(o=!0,d=!0):(l.push(t),i(t));else if(!n.inited&&n.fetched&&e.isDefine&&(d=!0,!e.prefix))return f=!1}),a&&l.length)return n=makeError("timeout","Load timeout for modules: "+l,null,l),n.contextName=E.contextName,c(n);f&&each(u,function(e){h(e,{},{})}),a&&!o||!d||!isBrowser&&!isWebWorker||_||(_=setTimeout(function(){_=0,p()},50)),y=!1}}function f(e){hasProp(T,e[0])||a(s(e[0],null,!0)).init(e[1],e[2])}function g(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function m(e){var t=e.currentTarget||e.srcElement;return g(t,E.onScriptLoad,"load","onreadystatechange"),g(t,E.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(u();x.length;){if(e=x.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));f(e)}}var y,b,E,C,_,w={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},A={},S={},D={},x=[],T={},k={},F=1,N=1;return C={require:function(e){return e.require?e.require:e.require=E.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?e.exports:e.exports=T[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){var t,n=getOwn(w.pkgs,e.map.id);return t=n?getOwn(w.config,e.map.id+"/"+n.main):getOwn(w.config,e.map.id),t||{}},exports:T[e.map.id]}}},b=function(e){this.events=getOwn(D,e.id)||{},this.map=e,this.shim=getOwn(w.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,E.startTime=(new Date).getTime();var e=this.map;return this.shim?(E.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})),void 0):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;k[e]||(k[e]=!0,E.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,i=this.depExports,r=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{r=E.execCb(n,o,i,r)}catch(s){e=s}else r=E.execCb(n,o,i,r);if(this.map.isDefine&&(t=this.module,t&&void 0!==t.exports&&t.exports!==this.exports?r=t.exports:void 0===r&&this.usingExports&&(r=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else r=o;this.exports=r,this.map.isDefine&&!this.ignore&&(T[n]=r,req.onResourceLoad&&req.onResourceLoad(E,this.map,this.depMaps)),d(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,i=s(e.prefix);this.depMaps.push(i),l(i,"defined",bind(this,function(i){var r,o,u,h=this.map.name,p=this.map.parentMap?this.map.parentMap.name:null,f=E.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(h=i.normalize(h,function(e){return n(e,p,!0)})||""),o=s(e.prefix+"!"+h,this.map.parentMap),l(o,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),u=getOwn(A,o.id),u&&(this.depMaps.push(o),this.events.error&&u.on("error",bind(this,function(e){this.emit("error",e)})),u.enable()),void 0):(r=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),r.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(A,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&d(e.map.id)}),c(e)}),r.fromText=bind(this,function(n,i){var o=e.name,l=s(o),u=useInteractive;i&&(n=i),u&&(useInteractive=!1),a(l),hasProp(w.config,t)&&(w.config[o]=w.config[t]);try{req.exec(n)}catch(d){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+d,d,[t]))}u&&(useInteractive=!0),this.depMaps.push(l),E.completeLoad(o),f([o],r)}),i.load(e.name,f,r,w),void 0)})),E.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){S[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i,r;if("string"==typeof e){if(e=s(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,r=getOwn(C,e.id))return this.depExports[t]=r(this),void 0;this.depCount+=1,l(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&l(e,"error",bind(this,this.errback))}n=e.id,i=A[n],hasProp(C,n)||!i||i.enabled||E.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(A,e.id);t&&!t.enabled&&E.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},E={config:w,contextName:e,registry:A,defined:T,urlFetched:k,defQueue:x,Module:b,makeModuleMap:s,nextTick:req.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=w.pkgs,n=w.shim,i={paths:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?"map"===t?(w.map||(w.map={}),mixin(w[t],e,!0,!0)):mixin(w[t],e,!0):w[t]=e}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=E.makeShimExports(e)),n[t]=e}),w.shim=n),e.packages&&(each(e.packages,function(e){var n;e="string"==typeof e?{name:e}:e,n=e.location,t[e.name]={name:e.name,location:n||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),w.pkgs=t),eachProp(A,function(e,t){e.inited||e.map.unnormalized||(e.map=s(t))}),(e.deps||e.callback)&&E.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function r(n,o,l){var u,d,h;return i.enableBuildCallback&&o&&isFunction(o)&&(o.__requireJsBuild=!0),"string"==typeof n?isFunction(o)?c(makeError("requireargs","Invalid require call"),l):t&&hasProp(C,n)?C[n](A[t.id]):req.get?req.get(E,n,t,r):(d=s(n,t,!1,!0),u=d.id,hasProp(T,u)?T[u]:c(makeError("notloaded",'Module name "'+u+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),E.nextTick(function(){v(),h=a(s(null,t)),h.skipMap=i.skipMap,h.init(n,o,l,{enabled:!0}),p()}),r)}return i=i||{},mixin(r,{isBrowser:isBrowser,toUrl:function(e){var i,r=e.lastIndexOf("."),o=e.split("/")[0],s="."===o||".."===o;return-1!==r&&(!s||r>1)&&(i=e.substring(r,e.length),e=e.substring(0,r)),E.nameToUrl(n(e,t&&t.id,!0),i,!0)},defined:function(e){return hasProp(T,s(e,t,!1,!0).id)},specified:function(e){return e=s(e,t,!1,!0).id,hasProp(T,e)||hasProp(A,e)}}),t||(r.undef=function(e){u();var n=s(e,t,!0),i=getOwn(A,e);delete T[e],delete k[n.url],delete D[e],i&&(i.events.defined&&(D[e]=i.events),d(e))}),r},enable:function(e){var t=getOwn(A,e.id);t&&a(e).enable()},completeLoad:function(e){var t,n,i,o=getOwn(w.shim,e)||{},s=o.exports;for(u();x.length;){if(n=x.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);f(n)}if(i=getOwn(A,e),!t&&!hasProp(T,e)&&i&&!i.inited){if(!(!w.enforceDefine||s&&getGlobal(s)))return r(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));f([e,o.deps||[],o.exportsFn])}p()},nameToUrl:function(e,t,n){var i,r,o,s,a,l,c,u,d;if(req.jsExtRegExp.test(e))u=e+(t||"");else{for(i=w.paths,r=w.pkgs,a=e.split("/"),l=a.length;l>0;l-=1){if(c=a.slice(0,l).join("/"),o=getOwn(r,c),d=getOwn(i,c)){isArray(d)&&(d=d[0]),a.splice(0,l,d);break}if(o){s=e===o.name?o.location+"/"+o.main:o.location,a.splice(0,l,s);break}}u=a.join("/"),u+=t||(/\?/.test(u)||n?"":".js"),u=("/"===u.charAt(0)||u.match(/^[\w\+\.\-]+:/)?"":w.baseUrl)+u}return w.urlArgs?u+((-1===u.indexOf("?")?"?":"&")+w.urlArgs):u},load:function(e,t){req.load(E,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=m(e);E.completeLoad(t.id)}},onScriptError:function(e){var t=m(e);return r(t.id)?void 0:c(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},E.require=E.makeRequire(),E}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.6",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||!navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"==""+opera,contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(void 0===define){if(requirejs!==void 0){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var r,o,s=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=i):e=[]),o&&o.context&&(s=o.context),r=getOwn(contexts,s),r||(r=contexts[s]=req.s.newContext(s)),o&&r.configure(o),r.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.load=function(e,t,n){var i,r=e&&e.config||{};if(isBrowser)return i=r.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),i.type=r.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&0>(""+i.attachEvent).indexOf("[native code")||isOpera?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(o){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,o,[t]))}},isBrowser&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,n){var i,r;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&((""+n).replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript(),i&&(e||(e=i.getAttribute("data-requiremodule")),r=contexts[i.getAttribute("data-requirecontext")])),(r?r.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}})(this),this.JST=this.JST||{},this.JST["app/templates/layouts/doc_editor.html"]=function(obj){obj||(obj={});var __p="";with(_.escape,Array.prototype.join,obj)__p+='\n\n<div id="dashboard" class="one-pane doc-editor-page">\n  <header class="fixed-header">\n    <div id="breadcrumbs"></div>\n    <div id="api-navbar"></div>\n  </header>\n\n  <div id="dashboard-content"></div>\n</div>\n';return __p},this.JST["app/templates/layouts/one_pane.html"]=function(obj){obj||(obj={});var __p="";with(_.escape,Array.prototype.join,obj)__p+='\n\n<div id="dashboard" class="one-pane">\n  <header class="fixed-header">\n    <div id="breadcrumbs"></div>\n    <div id="api-navbar"></div>\n    <div id="right-header"></div>\n  </header>\n\n  <div class="content-area container-fluid">\n    <div id="tabs"></div>\n    <div id="dashboard-content" class="scrollable"></div>\n    <div id="footer"></div>\n  </div>\n</div>\n';return __p},this.JST["app/templates/layouts/two_pane.html"]=function(obj){obj||(obj={});var __p="";with(_.escape,Array.prototype.join,obj)__p+='\n<div id="dashboard" class="two-pane">\n  <div class="row-fluid">\n    <div class="header-wrapper">\n      <div id="breadcrumbs" class="span5"></div>\n      <div class="right-header-wrapper span7">\n        <div id="react-headerbar"></div>\n        <div id="api-navbar"></div>\n        <div id="right-header"></div>\n      </div>\n    </div>\n  </div>\n  <div class="row-fluid content-area">\n    <div id="left-content" class="span5">\n\n    </div>\n    <div id="right-content" class="span7">\n      <section id="dashboard-content" class="list">\n        <div class="scrollable">\n          <div class="inner">\n            <div id="dashboard-lower-content"></div>\n          </div>\n        </div>\n        <div id="footer"></div>\n      </section>\n    </div>\n  </div>\n</div>\n';return __p},this.JST["app/templates/layouts/with_sidebar.html"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='\n<div id="dashboard" class="container-fluid">\n  <header class="fixed-header">\n    <div id="breadcrumbs"></div>\n    <div id="api-navbar"></div>\n  </header>\n\n  <div class="with-sidebar content-area">\n    <div id="sidebar-content"></div>\n    <div id="dashboard-content" class="scrollable list"></div>\n  </div>\n</div>\n';return __p},this.JST["app/templates/layouts/with_tabs.html"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='\n<div id="dashboard" class="container-fluid">\n\n  <div class="fixed-header">\n    <div id="breadcrumbs"></div>\n    <div id="api-navbar"></div>\n  </div>\n\n  <div class="row-fluid content-area">\n  	<div id="tabs" class="row-fluid"></div>\n    <div id="dashboard-content" class="list span12"></div>\n  </div>\n</div>\n';return __p},this.JST["app/templates/layouts/with_tabs_sidebar.html"]=function(obj){obj||(obj={});var __p="";with(_.escape,Array.prototype.join,obj)__p+='\n\n<div id="dashboard" class="container-fluid with-sidebar">\n\n  <div class="with-sidebar tabs-with-sidebar content-area">\n    <div class="header-wrapper">\n      <div id="breadcrumbs" class="sidebar"></div>\n      <div class="right-header-wrapper">\n        <div id="react-headerbar"></div>\n        <div id="api-navbar"></div>\n        <div id="right-header"></div>\n      </div>\n    </div>\n\n    <aside id="sidebar-content" class="scrollable"></aside>\n\n    <section id="dashboard-content" class="list">\n      <div class="scrollable">\n        <div class="inner">\n          <div id="dashboard-upper-content"></div>\n          <div id="dashboard-lower-content"></div>\n        </div>\n      </div>\n      <div id="footer"></div>\n    </section>\n  </div>\n</div>\n';return __p},this.JST["app/templates/layouts/with_tabs_sidebar_scroll.html"]=function(obj){obj||(obj={});var __p="";with(_.escape,Array.prototype.join,obj)__p+='\n\n<div id="dashboard" class="container-fluid with-sidebar">\n\n  <div class="with-sidebar tabs-with-sidebar content-area">\n    <div class="header-wrapper">\n      <div id="breadcrumbs" class="sidebar"></div>\n      <div class="right-header-wrapper">\n        <div id="react-headerbar"></div>\n        <div id="api-navbar"></div>\n        <div id="right-header"></div>\n      </div>\n    </div>\n\n    <aside id="sidebar-content" class="scrollable"></aside>\n\n    <section id="dashboard-content" class="list scrollable">\n      <div class="inner">\n        <div id="dashboard-upper-content"></div>\n        <div id="dashboard-lower-content"></div>\n      </div>\n      <div id="footer"></div>\n    </section>\n  </div>\n</div>\n';return __p},this.JST["app/addons/config/templates/add_config_option.html"]=function(obj){obj||(obj={});var __p="";with(_.escape,Array.prototype.join,obj)__p+='\n\n<a id="add-new-section" class="add-new-section-btn"><i class="icon icon-plus header-icon"></i> Add Option</a>\n\n<div class="add-section-tray tray">\n  <div class="add-on">Add Option</div>\n\n  <div class="js-form-error-config"></div>\n  <input type="text" name="section" placeholder="Section" autocomplete="off" autofocus>\n  <input type="text" name="name" placeholder="Name">\n  <input type="text" name="value" placeholder="Value">\n\n  <a class="btn" id="js-create-config-section">Create</a>\n</div>\n';return __p},this.JST["app/addons/config/templates/dashboard.html"]=function(obj){obj||(obj={});var __p="";with(_.escape,Array.prototype.join,obj)__p+='\n\n<table class="config table table-striped table-bordered">\n  <thead>\n    <th id="config-section" width="22%">Section</th>\n    <th id="config-option" width="20%">Option</th>\n    <th id="config-value">Value</th>\n    <th id="config-trash"></th>\n  </thead>\n  <tbody>\n  </tbody>\n</table>\n';return __p},this.JST["app/addons/config/templates/header.html"]=function(obj){obj||(obj={});var __p="";with(_.escape,Array.prototype.join,obj)__p+='\n\n<div id="add-section-button" class="button"></div>\n';return __p},this.JST["app/addons/config/templates/item.html"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(Array.prototype.join,obj)__p+="\n\n",__p+=0===option.index?"\n<th> "+__e(option.section)+" </th>\n":"\n<td></td>\n",__p+='\n<td class="js-edit-value">\n  <div class="js-show-value">\n    '+__e(option.name)+'\n  </div>\n  <div class="js-edit-value-form js-hidden">\n    <input class="js-value-input" type="text" name="name" value="'+__e(option.name)+'" />\n    <button class="js-save-value btn btn-success fonticon-ok-circled btn-small"> </button>\n    <button class="js-cancel-value btn btn-small fonticon-cancel-circled"> </button>\n  </div>\n</td>\n<td class="js-edit-value">\n  <div class="js-show-value">\n    '+__e(option.value)+'\n  </div>\n  <div class="js-edit-value-form js-hidden">\n    <input class="js-value-input" type="text" name="value" value="'+__e(option.value)+'" />\n    <button class="js-save-value btn btn-success fonticon-ok-circled btn-small"> </button>\n    <button class="js-cancel-value btn btn-small fonticon-cancel-circled"> </button>\n  </div>\n</td>\n<td class="js-delete-value text-center"> <i class="icon-trash"> </i> </td>\n';return __p},this.JST["app/addons/config/templates/sidebartabs.html"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(Array.prototype.join,obj)__p+='\n\n<ul class="nav nav-list">\n  ',_.each(sidebarItems,function(e){__p+='\n    <li>\n    <a data-type-select="'+__e(e.typeSelect)+'" href="#'+__e(e.link)+'">\n      <span class="'+__e(e.icon)+'"></span>\n      '+__e(e.title)+"\n    </a>\n    </li>\n  "}),__p+="\n</ul>\n";return __p},this.JST["app/addons/documents/templates/all_docs_header.html"]=function(obj){obj||(obj={});var __p="";with(_.escape,Array.prototype.join,obj)__p+='\n\n  \n  <div id="header-query-options" class="button">\n    <div id="query-options"></div>\n  </div>\n\n  \n  <div class="searchbox-wrapper">\n    <div id="header-search" class="js-search searchbox-container"></div>\n  </div>\n  \n  \n\n';return __p},this.JST["app/addons/documents/templates/code_editor.html"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(Array.prototype.join,obj)__p+='\n\n<div id="doc-editor-actions-panel">\n  <div class="doc-actions-left">\n    <button class="save-doc btn btn-success save" type="button"><i class="icon fonticon-ok-circled"></i> Save</button>\n    <div>\n      <a href="#" class="js-back cancel-button">Cancel</a>\n    </div>\n  </div>\n\n  <div class="alignRight">\n    <button class="btn string-edit" title="Edit line" disabled="true"><i class="icon icon-edit"></i></button>\n\n    ',attachments&&(__p+='\n    <div class="panel-section btn-group">\n      <button class="panel-button dropdown-toggle btn" data-bypass="true" data-toggle="dropdown" title="View Attachments"\n        id="view-attachments-menu">\n        <i class="icon fonticon-picture"></i>\n        <span>View Attachments</span>\n        <span class="caret"></span>\n      </button>\n\n      <ul class="dropdown-menu" role="menu" aria-labelledby="view-attachments-menu">\n        ',_.each(attachments,function(e){__p+='\n        <li>\n          <a href="'+__e(e.url)+'" target="_blank" data-bypass="true"> <strong> '+__e(e.fileName)+" </strong> -\n            <span> "+__e(e.contentType)+", "+__e(formatSize(e.size))+" </span>\n          </a>\n        </li>\n        "}),__p+="\n      </ul>\n    </div>\n    "),__p+='\n\n    <div class="doc-editor-extension-icons"></div>\n\n    <div class="panel-section">\n      <button class="panel-button upload" title="Upload attachment">\n        <i class="icon icon-circle-arrow-up"></i>\n        <span>Upload Attachment</span>\n      </button>\n    </div>\n    <div class="panel-section">\n      <button class="panel-button duplicate" title="Clone document">\n        <i class="icon icon-repeat"></i>\n        <span>Clone Document</span>\n      </button>\n    </div>\n    <div class="panel-section">\n      <button class="panel-button delete" title="Delete">\n        <i class="icon icon-trash"></i>\n        <span>Delete</span>\n      </button>\n    </div>\n  </div>\n</div>\n\n<div class="code-region">\n  <div class="bgEditorGutter"></div>\n  <div id="editor-container" class="doc-code">'+__e(JSON.stringify(doc.attributes,null,"  "))+'</div>\n</div>\n\n<div id="upload-modal"> </div>\n<div id="duplicate-modal"> </div>\n<div id="delete-doc-modal"> </div>\n<div id="string-edit-modal"> </div>\n';return __p},this.JST["app/addons/documents/templates/delete_database_modal.html"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(Array.prototype.join,obj)__p+='\n\n<div class="modal hide fade">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n    <h3>Delete Database</h3>\n  </div>\n  <div class="modal-body">\n    <form id="delete-db-check" class="form" method="post">\n      ',isSystemDatabase&&(__p+='\n      <p class="warning"><b>You are about to delete a system database, be careful!</b></p>\n      '),__p+="\n      <p>\n      You've asked to <b>permanently delete</b> <code>"+__e(database.id)+'</code>.\n      Please enter the database name below to confirm the deletion of the\n      database and all documents and attachments within.\n      </p>\n      <input class="input-block-level" type="text" name="db-name" id="db-name"></input>\n      <br/>\n      <div id="modal-error" class="alert alert-error hide" style="font-size: 16px;"></div>\n    </form>\n  </div>\n  <div class="modal-footer">\n    <button data-dismiss="modal" data-bypass="true" class="btn cancel-button">\n      <i class="icon fonticon-cancel-circled"></i> Cancel</button>\n    <button id="delete-db-btn" data-bypass="true" class="btn btn-danger save">\n      <i class="icon fonticon-ok-circled"></i> Delete</button>\n  </div>\n</div>\n\n';return __p},this.JST["app/addons/documents/templates/duplicate_doc_modal.html"]=function(obj){obj||(obj={});var __p="";with(_.escape,Array.prototype.join,obj)__p+='\n\n<div class="modal hide fade">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n    <h3>Clone Document</h3>\n  </div>\n  <div class="modal-body">\n    <div id="modal-error" class="hide alert alert-error"/>\n    <form id="doc-duplicate" class="form" method="post">\n      <p class="help-block">\n      Set new documents ID:\n      </p>\n      <input id="dup-id" type="text" class="input-block-level" >\n    </form>\n\n  </div>\n  <div class="modal-footer">\n    <button data-dismiss="modal" class="btn"><i class="icon fonticon-cancel-circled"></i> Cancel</button>\n    <button id="duplicate-btn" class="btn btn-success save"><i class="fonticon-ok-circled"></i> Clone</button>\n  </div>\n</div>\n\n\n';return __p},this.JST["app/addons/documents/templates/jumpdoc.html"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='\n\n<form id="jump-to-doc" class="pull-right">\n  <div class="input-append">\n    <input type="text" id="jump-to-doc-id" class="input-large" autocomplete="off" placeholder="Document ID"></input>\n    <button class="btn btn-primary" type="submit"><i class="icon icon-search"></i></button>\n  </div>\n</form>\n';return __p},this.JST["app/addons/documents/templates/string_edit_modal.html"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='\n\n<div class="modal hide fade">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n    <h3>Edit text <span id="string-edit-header"></span></h3>\n  </div>\n  <div class="modal-body">\n    <div id="modal-error" class="hide alert alert-error"/>\n    <div id="string-editor-wrapper"><div id="string-editor-container" class="doc-code"></div></div>\n  </div>\n  <div class="modal-footer">\n    <button data-dismiss="modal" class="btn"><i class="icon fonticon-circle-x"></i> Cancel</button>\n    <button id="string-edit-save-btn" class="btn btn-success save"><i class="fonticon-circle-check"></i> Save</button>\n  </div>\n</div>\n\n\n';return __p},this.JST["app/addons/documents/templates/upload_modal.html"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='\n\n<div class="modal hide fade">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n    <h3>Upload an Attachment</h3>\n  </div>\n  <div class="modal-body">\n    <div id="modal-error" class="alert alert-error hide" style="font-size: 16px;"> </div>\n    <form id="file-upload" class="form" method="post">\n      <p class="help-block">\n      Please select the file you want to upload as an attachment to this document. \n      Please note that this will result in the immediate creation of a new revision of the document, \n      so it\'s not necessary to save the document after the upload.\n      </p>\n      <input id="_attachments" type="file" name="_attachments">\n      <input id="_rev" type="hidden" name="_rev" value="" >\n      <br/>\n    </form>\n\n    <div class="progress progress-info">\n      <div class="bar" style="width: 0%"></div>\n    </div>\n  </div>\n  <div class="modal-footer">\n    <button href="#" data-dismiss="modal" data-bypass="true" class="btn"><i class="icon fonticon-cancel-circled"></i> Cancel</button>\n    <button href="#" id="upload-btn" data-bypass="true" class="btn btn-success save"><i class="icon fonticon-ok-circled"></i> Upload</button>\n  </div>\n</div>\n\n';return __p},this.JST["app/addons/fauxton/templates/api_bar.html"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(Array.prototype.join,obj)__p+='\n\n<a class="btn btn-primary pull-right api-url-btn">\n  <i class="fonticon-link header-icon"></i>\n  API URL\n</a>\n<div class="clearfix"></div>\n<div class="api-navbar tray">\n    <div class="input-prepend input-append">\n      <span class="add-on">\n        API URL\n        <a class="help-link" data-bypass="true" href="'+__e(documentation)+'" target="_blank">\n          <i class="icon icon-question-sign"></i>\n        </a>\n      </span>\n      <input id="api-url-text" type="text" class="input-xxlarge" value="'+__e(endpoint)+'">\n      <a class="btn copy-url" data-clipboard-target="api-url-text">\n        <i class="fonticon-clipboard icon"></i>\n        Copy\n      </a>\n\n      <div class="add-on">\n        <a data-bypass="true" href="'+__e(endpoint)+'" target="_blank" class="btn">\n          <i class="fonticon-eye icon"></i>\n          View JSON\n        </a>\n      </div>\n    </div>\n</div>\n\n';
return __p},this.JST["app/addons/fauxton/templates/breadcrumbs.html"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(Array.prototype.join,obj){__p+="\n\n",_.each(_.initial(crumbs),function(e,t){__p+="\n\n  ","back"===e.type?__p+='\n    <li class="pull-left breadcrumb-back-link">\n      <a href="#'+__e(e.link)+'" class="fonticon fonticon-left-open"></a>\n    </li>\n  ':(__p+='\n    <li class="pull-left">\n      <a href="#'+__e(e.link)+'" class="fonticon '+__e(e.className)+'">'+__e(e.name)+"</a>\n    </li>\n\n    ",nextCrumbHasLabel(e,t)&&(__p+='\n    <li class="divider fonticon-right-open"></li>\n    '),__p+="\n  "),__p+="\n\n"}),__p+="\n\n";var last=_.last(crumbs)||{name:"",className:"",dataEvent:""};__p+='\n<li class="js-lastelement active '+__e(last.className)+'" title="'+__e(last.name)+'">'+__e(last.name)+"</li>\n"}return __p},this.JST["app/addons/fauxton/templates/confirmation_modal.html"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(Array.prototype.join,obj)__p+='\n\n<div class="modal hide fade">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n    <h3>'+__e(title)+'</h3>\n  </div>\n  <div class="modal-body">\n    <p>\n      '+__e(text)+'\n    </p>\n  </div>\n  <div class="modal-footer">\n    <button data-dismiss="modal" class="btn"><i class="icon fonticon-cancel-circled"></i> Cancel</button>\n    <button class="btn btn-success js-btn-success"><i class="fonticon-ok-circled"></i> Okay</button>\n  </div>\n</div>\n';return __p},this.JST["app/addons/fauxton/templates/filter.html"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(Array.prototype.join,obj)__p+='\n\n<form class="form-inline js-filter-form">\n  <fieldset>\n    <input type="text" name="filter" placeholder="Type a filter">\n    <button type="submit" class="btn btn-primary">Filter</button>\n    <div class="help-block">\n      <strong> Eg. debug or <1.4.1> or any regex </strong>\n      ',tooltipText&&(__p+='\n        <i class="js-filter-tooltip icon icon-question-sign" data-toggle="tooltip"\n          title="" data-original-title="'+__e(tooltipText)+'"></i>\n      '),__p+='\n    </div>\n  </fieldset>\n</form>\n<ul class="filter-list"></ul>\n';return __p},this.JST["app/addons/fauxton/templates/filter_item.html"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='\n\n<span class="label label-info">'+__e(filter)+'</span>\n<a class="label label-info js-remove-filter" data-bypass="true" href="#">&times;</a>\n';return __p},this.JST["app/addons/fauxton/templates/header_left.html"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='\n\n<div id="header-breadcrumbs"></div>\n\n\n<div id="header-dropdown-menu" class="add-dropdown"></div>\n\n\n<div id="header-lookahead"></div>';return __p},this.JST["app/addons/fauxton/templates/lookahead_tray.html"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(Array.prototype.join,obj)__p+='\n<input type="text" class="search-autocomplete" placeholder="'+__e(placeholder)+'" />\n<button class="btn btn-primary search-btn" type="submit"><i class="icon icon-search"></i></button>\n<div id="js-close-tray" class="fonticon-cancel"></div>\n';return __p},this.JST["app/addons/fauxton/templates/menu_dropdown.html"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='\n\n<a class="dropdown-toggle icon '+(null==(__t=icon)?"":__t)+'" data-toggle="dropdown" href="#" data-bypass="true"></a>\n<ul class="dropdown-menu arrow" role="menu" aria-labelledby="dLabel">\n  ',_.each(links,function(e){__p+="\n    ",e.title&&(__p+='\n    <li class="header-label"> '+__e(e.title)+" </li>\n    "),__p+="\n    ",_.each(e.links,function(e){__p+="\n      <li>\n        <a\n          ",e.trigger&&(__p+=' data-bypass="true" triggerEvent="'+__e(e.trigger)+'" '),__p+="\n          ",e.icon&&(__p+='\n          class="icon '+__e(e.icon)+'"\n          '),__p+='\n          href="'+__e(e.url)+'"\n          ',e.external&&(__p+=' data-bypass="true" target="_blank" '),__p+=" >\n          "+__e(e.title)+"\n        </a>\n      </li>\n    "}),__p+="\n  "}),__p+="\n </ul>\n\n";return __p},this.JST["app/addons/fauxton/templates/notification.html"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='\n\n<div class="global-notification alert alert-'+__e(type)+'">\n  <a data-bypass href="#" class="js-dismiss"><i class="pull-right fonticon-cancel"></i></a>\n  <i class="notification-icon '+__e(icon)+'"></i>\n  '+(null==(__t=htmlToRender)?"":__t)+"\n</div>\n";return __p},this.JST["app/addons/fauxton/templates/pagination.html"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(Array.prototype.join,obj)__p+="\n",__p+=page>1?'\n  <li> <a href="'+__e(urlFun(page-1))+'">&laquo;</a></li>\n':'\n  <li class="disabled"> <a href="'+__e(urlFun(page))+'">&laquo;</a></li>\n',__p+="\n",_.each(_.range(from,to),function(e){__p+="\n  <li ",page==e&&(__p+='class="active"'),__p+='> <a href="'+__e(urlFun(e))+'">'+__e(e)+"</a></li>\n"}),__p+="\n",__p+=totalPages>page?'\n  <li><a href="'+__e(urlFun(page+1))+'">&raquo;</a></li>\n':'\n  <li class="disabled"> <a href="'+__e(urlFun(page))+'">&raquo;</a></li>\n',__p+="\n\n\n";return __p},this.JST["app/addons/replication/templates/form.html"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(Array.prototype.join,obj)__p+='\n\n<form id="replication" class="form-horizontal">\n  <div class="from form_set local">\n    <div class="btn-group">\n      <button class="btn local-btn" type="button" value="local">Local</button>\n      <button class="btn remote-btn" type="button" value="remote">Remote</button>\n    </div>\n\n    <div class="from_local local_option">\n      <select id="from_name" name="source">\n        ',_.each(databases,function(e){__p+='\n           <option value="'+__e(e.name)+'" ',selectedDB==e.name&&(__p+="selected"),__p+=" >"+__e(e.name)+"</option>\n        "}),__p+='\n      </select>\n    </div>\n    <div class="from_to_remote remote_option">\n      <input type="text" id="from_url" name="source" size="30" value="http://">\n    </div>\n  </div>\n\n  <div class="form_set middle">\n    <span class="circle"></span>\n    <a href="#" title="Switch Target and Source" class="swap">\n      <span class="fonticon-swap-arrows"></span>\n    </a>\n  </div>\n\n  <div class="to form_set local">\n    <div class="btn-group">\n      <button class="btn local-btn" type="button" value="local">Local</button>\n      <button class="btn remote-btn" type="button" value="remote">Remote</button>\n    </div>\n    <div class="to_local local_option">\n      <input type="text" id="to_name" name="target" size="30" placeholder="database name">\n    </div>\n\n    <div class="to_remote remote_option">\n      <input type="text" id="to_url" name="target" size="30" value="http://">\n    </div>\n  </div>\n\n	<div class="actions">\n		<div class="control-group">\n			<label for="continuous">\n				<input type="checkbox" name="continuous" value="true" id="continuous">\n				Continuous\n			</label>\n\n			<label for="createTarget">\n				<input type="checkbox" name="create_target" value="true" id="createTarget">\n				Create Target <a class="help-link" data-bypass="true" href="'+__e(getDocUrl("REPLICATION"))+'" target="_blank"><i class="icon-question-sign" rel="tooltip" title="Create the target database"></i></a>\n			</label>\n		</div>\n\n		<button class="btn btn-success btn-large save" type="submit">Replicate</button>\n	</div>\n</form>\n\n<div id="replicationStatus"></div>\n';return __p},this.JST["app/addons/replication/templates/progress.html"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='\n<p class="span6 break">Replicating <strong>'+__e(source)+"</strong> to <strong>"+__e(target)+'</strong></p>\n\n<div class="span4 progress progress-striped active">\n  <div class="bar" style="width: '+(null==(__t=progress||0)?"":__t)+'%;">'+(null==(__t=progress||"0")?"":__t)+'%</div>\n</div>\n\n<span class="span1">\n	<button class="cancel btn btn-danger btn-large delete task-cancel-button" data-source="'+__e(source)+'"  data-rep-id="'+__e(repid)+'" data-continuous="'+__e(continuous)+'" data-target="'+__e(target)+'">Cancel</button>\n</span>\n';return __p},this.JST["app/addons/styletests/templates/theme.html"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='\n<div class="container theme-showcase">\n\n  \n  <div class="jumbotron">\n    <h1>Fauxton Style Guide <small>mostly made of Bootstrap 2.x</small></h1>\n    <p>(Mostly) Standard Bootstrap styles customized for Fauxton.</p>\n  </div>\n\n  <div class="page-header">\n    <h1>Typography</h1>\n  </div>\n  <h1>h1. Heading 1</h1>\n  <h2>h2. Heading 2</h2>\n  <h3>h3. Heading 3</h3>\n  <h4>h4. Heading 4</h4>\n  <h5>h5. Heading 5</h5>\n  <h6>h6. Heading 6</h6>\n\n  <div class="page-header">\n    <h1>Buttons</h1>\n  </div>\n\n  <h4>Bootstrap Standard Button class names</h4>\n  <p>.btn.btn-large.btn-*<br />\n    <button type="button" class="btn btn-large btn-default">Default</button>\n    <button type="button" class="btn btn-large btn-primary">Primary</button>\n    <button type="button" class="btn btn-large btn-success">Success</button>\n    <button type="button" class="btn btn-large btn-info">Info</button>\n    <button type="button" class="btn btn-large btn-warning">Warning</button>\n    <button type="button" class="btn btn-large btn-danger">Danger</button>\n    <button type="button" class="btn btn-large btn-link">Link</button>\n  </p>\n  <p>.btn.btn-*<br />\n    <button type="button" class="btn btn-default">Default</button>\n    <button type="button" class="btn btn-primary">Primary</button>\n    <button type="button" class="btn btn-success">Success</button>\n    <button type="button" class="btn btn-info">Info</button>\n    <button type="button" class="btn btn-warning">Warning</button>\n    <button type="button" class="btn btn-danger">Danger</button>\n    <button type="button" class="btn btn-link">Link</button>\n  </p>\n  <p>.btn.btn-small.btn-*<br />\n    <button type="button" class="btn btn-small btn-default">Default</button>\n    <button type="button" class="btn btn-small btn-primary">Primary</button>\n    <button type="button" class="btn btn-small btn-success">Success</button>\n    <button type="button" class="btn btn-small btn-info">Info</button>\n    <button type="button" class="btn btn-small btn-warning">Warning</button>\n    <button type="button" class="btn btn-small btn-danger">Danger</button>\n    <button type="button" class="btn btn-small btn-link">Link</button>\n  </p>\n  <p>.btn.btn-mini.btn-*<br />\n    <button type="button" class="btn btn-mini btn-default">Default</button>\n    <button type="button" class="btn btn-mini btn-primary">Primary</button>\n    <button type="button" class="btn btn-mini btn-success">Success</button>\n    <button type="button" class="btn btn-mini btn-info">Info</button>\n    <button type="button" class="btn btn-mini btn-warning">Warning</button>\n    <button type="button" class="btn btn-mini btn-danger">Danger</button>\n    <button type="button" class="btn btn-mini btn-link">Link</button>\n  </p>\n\n  <h4>with Icons</h4>\n  <p>.btn.btn-large.btn-*<br />\n    <button type="button" class="btn btn-large btn-default"><i class="icon fonticon-new-database"></i> Default</button>\n    <button type="button" class="btn btn-large btn-primary"><i class="icon fonticon-new-database"></i> Primary</button>\n    <button type="button" class="btn btn-large btn-success"><i class="icon fonticon-new-database"></i> Success</button>\n    <button type="button" class="btn btn-large btn-info"><i class="icon fonticon-new-database"></i> Info</button>\n    <button type="button" class="btn btn-large btn-warning"><i class="icon fonticon-new-database"></i> Warning</button>\n    <button type="button" class="btn btn-large btn-danger"><i class="icon fonticon-new-database"></i> Danger</button>\n    <button type="button" class="btn btn-large btn-link"><i class="icon fonticon-new-database"></i> Link</button>\n  </p>\n\n  <p>.btn.btn-*<br />\n    <button type="button" class="btn btn-default"><i class="icon fonticon-new-database"></i> Default</button>\n    <button type="button" class="btn btn-primary"><i class="icon fonticon-new-database"></i> Primary</button>\n    <button type="button" class="btn btn-success"><i class="icon fonticon-new-database"></i> Success</button>\n    <button type="button" class="btn btn-info"><i class="icon fonticon-new-database"></i> Info</button>\n    <button type="button" class="btn btn-warning"><i class="icon fonticon-new-database"></i> Warning</button>\n    <button type="button" class="btn btn-danger"><i class="icon fonticon-new-database"></i> Danger</button>\n    <button type="button" class="btn btn-link"><i class="icon fonticon-new-database"></i> Link</button>\n  </p>\n  <p>.btn.btn-small.btn-*<br />\n    <button type="button" class="btn btn-small btn-default"><i class="icon fonticon-new-database"></i> Default</button>\n    <button type="button" class="btn btn-small btn-primary"><i class="icon fonticon-new-database"></i> Primary</button>\n    <button type="button" class="btn btn-small btn-success"><i class="icon fonticon-new-database"></i> Success</button>\n    <button type="button" class="btn btn-small btn-info"><i class="icon fonticon-new-database"></i> Info</button>\n    <button type="button" class="btn btn-small btn-warning"><i class="icon fonticon-new-database"></i> Warning</button>\n    <button type="button" class="btn btn-small btn-danger"><i class="icon fonticon-new-database"></i> Danger</button>\n    <button type="button" class="btn btn-small btn-link"><i class="icon fonticon-new-database"></i> Link</button>\n  </p>\n  <p>.btn.btn-mini.btn-*<br />\n    <button type="button" class="btn btn-mini btn-default"><i class="icon fonticon-new-database"></i> Default</button>\n    <button type="button" class="btn btn-mini btn-primary"><i class="icon fonticon-new-database"></i> Primary</button>\n    <button type="button" class="btn btn-mini btn-success"><i class="icon fonticon-new-database"></i> Success</button>\n    <button type="button" class="btn btn-mini btn-info"><i class="icon fonticon-new-database"></i> Info</button>\n    <button type="button" class="btn btn-mini btn-warning"><i class="icon fonticon-new-database"></i> Warning</button>\n    <button type="button" class="btn btn-mini btn-danger"><i class="icon fonticon-new-database"></i> Danger</button>\n    <button type="button" class="btn btn-mini btn-link"><i class="icon fonticon-new-database"></i> Link</button>\n  </p>\n\n  <h4>just Icons</h4>\n  <p>.btn.btn-large.btn-*<br />\n    <button type="button" class="btn btn-large btn-default"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-large btn-primary"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-large btn-success"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-large btn-info"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-large btn-warning"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-large btn-danger"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-large btn-link"><i class="icon fonticon-new-database"></i></button>\n  </p>\n\n  <p>.btn.btn-*<br />\n    <button type="button" class="btn btn-default"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-primary"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-success"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-info"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-warning"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-danger"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-link"><i class="icon fonticon-new-database"></i></button>\n  </p>\n  <p>.btn.btn-small.btn-*<br />\n    <button type="button" class="btn btn-small btn-default"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-small btn-primary"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-small btn-success"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-small btn-info"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-small btn-warning"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-small btn-danger"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-small btn-link"><i class="icon fonticon-new-database"></i></button>\n  </p>\n  <p>.btn.btn-mini.btn-*<br />\n    <button type="button" class="btn btn-mini btn-default"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-mini btn-primary"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-mini btn-success"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-mini btn-info"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-mini btn-warning"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-mini btn-danger"><i class="icon fonticon-new-database"></i></button>\n    <button type="button" class="btn btn-mini btn-link"><i class="icon fonticon-new-database"></i></button>\n  </p>\n  <p>.btn-group<br />\n    <div class="btn-group">\n      <a href="#" class="btn btn-small edits">Edit design doc</a>\n      <button href="#" class="btn btn-small btn-danger delete" title="Delete this document."><i class="icon icon-trash"></i></button>\n    </div>\n  </p>\n\n  <h4>disabled</h4>\n  <p>.btn.btn-*<br />\n    <button type="button" disabled="disabled" class="btn btn-default"><i class="icon fonticon-new-database"></i> Default</button>\n    <button type="button" disabled="disabled" class="btn btn-primary"><i class="icon fonticon-new-database"></i> Primary</button>\n    <button type="button" disabled="disabled" class="btn btn-success"><i class="icon fonticon-new-database"></i> Success</button>\n    <button type="button" disabled="disabled" class="btn btn-info"><i class="icon fonticon-new-database"></i> Info</button>\n    <button type="button" disabled="disabled" class="btn btn-warning"><i class="icon fonticon-new-database"></i> Warning</button>\n    <button type="button" disabled="disabled" class="btn btn-danger"><i class="icon fonticon-new-database"></i> Danger</button>\n    <button type="button" disabled="disabled" class="btn btn-link"><i class="icon fonticon-new-database"></i> Link</button>\n  </p>\n  <p>.btn.btn-*<br />\n    <button type="button" disabled="disabled" class="btn btn-default">Default</button>\n    <button type="button" disabled="disabled" class="btn btn-primary">Primary</button>\n    <button type="button" disabled="disabled" class="btn btn-success">Success</button>\n    <button type="button" disabled="disabled" class="btn btn-info">Info</button>\n    <button type="button" disabled="disabled" class="btn btn-warning">Warning</button>\n    <button type="button" disabled="disabled" class="btn btn-danger">Danger</button>\n    <button type="button" disabled="disabled" class="btn btn-link">Link</button>\n  </p>\n\n  <div class="page-header">\n    <h1>Forms</h1>\n  </div>\n\n  <form class="navbar-form database-search">\n    <div class="input-append">\n      <input class="search-autocomplete" name="search-query" autocomplete="off" placeholder="Database name" type="text">\n      <button class="btn btn-primary" type="submit"><i class="icon icon-search"></i></button>\n    </div>\n  </form>\n\n  <form class="navbar-form database-search">\n    <div class="input-append">\n      <input class="search-autocomplete" name="search-query" autocomplete="off" placeholder="Database name" type="text">\n      <button class="btn btn-primary" type="submit"><i class="icon icon-search"></i> Search</button>\n    </div>\n  </form>\n\n  <form class="navbar-form">\n    <div class="input-append">\n      <input name="search-query" placeholder="Database name" type="text">\n      <button class="btn btn-primary" type="submit">Search</button>\n    </div>\n  </form>\n\n  <form>\n    <fieldset>\n      <legend>Legend</legend>\n      <label>Label name</label>\n      <input type="text" placeholder="Type something">\n      <span class="help-block">Example block-level help text here.</span>\n      <label class="checkbox">\n        <input type="checkbox"> Check me out\n      </label>\n      <button type="submit" class="btn">Submit</button>\n    </fieldset>\n  </form>\n\n  <p>Search</p>\n  <form class="form-search">\n    <input type="text" class="input-medium search-query">\n    <button type="submit" class="btn">Search</button>\n  </form>\n\n  <p>Sign in</p>\n  <form class="form-inline">\n    <input type="text" class="input-small" placeholder="Email">\n    <input type="password" class="input-small" placeholder="Password">\n    <label class="checkbox">\n      <input type="checkbox"> Remember me\n    </label>\n    <button type="submit" class="btn">Sign in</button>\n  </form>\n\n  <p>Whole form</p>\n  <form class="form-horizontal">\n  <div class="control-group">\n    <label class="control-label" for="inputEmail">Email</label>\n    <div class="controls">\n      <input type="text" id="inputEmail" placeholder="Email">\n    </div>\n  </div>\n  <div class="control-group">\n    <label class="control-label" for="inputPassword">Password</label>\n    <div class="controls">\n      <input type="password" id="inputPassword" placeholder="Password">\n    </div>\n  </div>\n  <div class="control-group">\n    <div class="controls">\n      <label class="checkbox">\n        <input type="checkbox"> Remember me\n      </label>\n      <button type="submit" class="btn">Sign in</button>\n    </div>\n  </div>\n  </form>\n\n  <p>Selects</p>\n  <select>\n    <option>1</option>\n    <option>2</option>\n    <option>3</option>\n    <option>4</option>\n    <option>5</option>\n  </select>\n   \n  <select multiple="multiple">\n    <option>1</option>\n    <option>2</option>\n    <option>3</option>\n    <option>4</option>\n    <option>5</option>\n  </select>\n\n  <p>Inputs with pre</p>\n  <div class="input-prepend">\n    <span class="add-on">@</span>\n    <input class="span2" id="prependedInput" type="text" placeholder="Username">\n  </div>\n  <p>Inputs with post</p>\n  <div class="input-append">\n    <input class="span2" id="appendedInput" type="text">\n    <span class="add-on">.00</span>\n  </div>\n  <p>Inputs with pre and post</p>\n  <div class="input-prepend input-append">\n    <span class="add-on">$</span>\n    <input class="span2" id="appendedPrependedInput" type="text">\n    <span class="add-on">.00</span>\n  </div>\n  <p>Inputs with button</p>\n<div class="input-append">\n  <input class="span2" id="appendedInputButton" type="text">\n  <button class="btn" type="button">Go!</button>\n</div>\n  <p>Inputs with two buttons</p>\n<div class="input-append">\n  <input class="span2" id="appendedInputButtons" type="text">\n  <button class="btn" type="button">Search</button>\n  <button class="btn" type="button">Options</button>\n</div>\n<p>Inputs with dropdown button</p>\n<div class="input-append">\n  <input class="span2" id="appendedDropdownButton" type="text">\n  <div class="btn-group">\n    <button class="btn dropdown-toggle" data-toggle="dropdown">\n      Action\n      <span class="caret"></span>\n    </button>\n    <ul class="dropdown-menu">\n      ...\n    </ul>\n  </div>\n</div>\n<p>Inputs sizes</p>\n<input class="input-mini" type="text" placeholder=".input-mini">\n<input class="input-small" type="text" placeholder=".input-small">\n<input class="input-medium" type="text" placeholder=".input-medium">\n<input class="input-large" type="text" placeholder=".input-large">\n<input class="input-xlarge" type="text" placeholder=".input-xlarge">\n<input class="input-xxlarge" type="text" placeholder=".input-xxlarge">\n\n\n  <div class="page-header">\n    <h1>Thumbnails</h1>\n  </div>\n<img src="https://dl.dropboxusercontent.com/u/44146427/ripley.jpeg" class="img-rounded">\n<img src="https://dl.dropboxusercontent.com/u/44146427/ripley.jpeg" class="img-circle">\n<img src="https://dl.dropboxusercontent.com/u/44146427/ripley.jpeg" class="img-polaroid">\n\n\n  <div class="page-header">\n    <h1>Dropdown menus</h1>\n  </div>\n  <div class="dropdown theme-dropdown clearfix">\n    <a id="dropdownMenu1" href="#" role="button" class="sr-only dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>\n    <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">\n      <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Action</a></li>\n      <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Another action</a></li>\n      <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Something else here</a></li>\n      <li role="presentation" class="divider"></li>\n      <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Separated link</a></li>\n    </ul>\n  </div>\n\n\n\n\n  <div class="page-header">\n    <h1>Navbars</h1>\n  </div>\n\n  <div class="navbar navbar-default">\n    <div class="container">\n      <div class="navbar-header">\n        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n        </button>\n        <a class="navbar-brand" href="#">Project name</a>\n      </div>\n      <div class="navbar-collapse collapse">\n        <ul class="nav navbar-nav">\n          <li class="active"><a href="#">Home</a></li>\n          <li><a href="#about">About</a></li>\n          <li><a href="#contact">Contact</a></li>\n        </ul>\n        <ul class="nav navbar-nav navbar-right">\n          <li><a href="../navbar/">Default</a></li>\n          <li><a href="../navbar-static-top/">Static top</a></li>\n          <li class="active"><a href="./">Fixed top</a></li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <div class="navbar navbar-inverse">\n    <div class="container">\n      <div class="navbar-header">\n        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n        </button>\n        <a class="navbar-brand" href="#">Project name</a>\n      </div>\n      <div class="navbar-collapse collapse">\n        <ul class="nav navbar-nav">\n          <li class="active"><a href="#">Home</a></li>\n          <li><a href="#about">About</a></li>\n          <li><a href="#contact">Contact</a></li>\n        </ul>\n        <ul class="nav navbar-nav navbar-right">\n          <li><a href="../navbar/">Default</a></li>\n          <li><a href="../navbar-static-top/">Static top</a></li>\n          <li class="active"><a href="./">Fixed top</a></li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n\n\n  <div class="page-header">\n    <h1>Alerts</h1>\n  </div>\n  <div class="alert alert-success">\n    <strong>Well done!</strong> You successfully read this important alert message.\n  </div>\n  <div class="alert alert-info">\n    <strong>Heads up!</strong> This alert needs your attention, but it\'s not super important.\n  </div>\n  <div class="alert alert-warning">\n    <strong>Warning!</strong> Best check yo self, you\'re not looking too good.\n  </div>\n  <div class="alert alert-danger">\n    <strong>Oh snap!</strong> Change a few things up and try submitting again.\n  </div>\n\n\n\n  <div class="page-header">\n    <h1>Progresss</h1>\n  </div>\n  <div class="progress">\n    <div class="bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;"><span class="sr-only">60% Complete</span></div>\n  </div>\n  <div class="progress">\n    <div class="bar bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 40%"><span class="sr-only">40% Complete (success)</span></div>\n  </div>\n  <div class="progress">\n    <div class="bar bar-info" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 20%"><span class="sr-only">20% Complete</span></div>\n  </div>\n  <div class="progress">\n    <div class="bar bar-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%"><span class="sr-only">60% Complete (warning)</span></div>\n  </div>\n  <div class="progress">\n    <div class="bar bar-danger" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 80%"><span class="sr-only">80% Complete (danger)</span></div>\n  </div>\n  <div class="progress">\n    <div class="bar bar-success" style="width: 35%"><span class="sr-only">35% Complete (success)</span></div>\n    <div class="bar bar-warning" style="width: 20%"><span class="sr-only">20% Complete (warning)</span></div>\n    <div class="bar bar-danger" style="width: 10%"><span class=\'sr-only\'>10% Complete (danger)</span></div>\n  </div>\n\n\n\n  <div class="page-header">\n    <h1>List groups</h1>\n  </div>\n  <div class="row">\n    <div class="col-sm-4">\n      <ul class="nav nav-tabs nav-stacked">\n        <li class="list-group-item">Cras justo odio</li>\n        <li class="list-group-item">Dapibus ac facilisis in</li>\n        <li class="list-group-item">Morbi leo risus</li>\n        <li class="list-group-item">Porta ac consectetur ac</li>\n        <li class="list-group-item">Vestibulum at eros</li>\n      </ul>\n    </div>\n    <div class="col-sm-4">\n      <div class="nav nav-tabs nav-stacked">\n        <a href="#" class="list-group-item active">\n          Cras justo odio\n        </a>\n        <a href="#" class="list-group-item">Dapibus ac facilisis in</a>\n        <a href="#" class="list-group-item">Morbi leo risus</a>\n        <a href="#" class="list-group-item">Porta ac consectetur ac</a>\n        <a href="#" class="list-group-item">Vestibulum at eros</a>\n      </div>\n    </div>\n    <div class="col-sm-4">\n      <div class="nav nav-tabs nav-stacked">\n        <a href="#" class="list-group-item active">\n          <h4 class="list-group-item-heading">List group item heading</h4>\n          <p class="list-group-item-text">Donec id elit non mi porta gravida at eget metus. Maecenas sed diam eget risus varius blandit.</p>\n        </a>\n        <a href="#" class="list-group-item">\n          <h4 class="list-group-item-heading">List group item heading</h4>\n          <p class="list-group-item-text">Donec id elit non mi porta gravida at eget metus. Maecenas sed diam eget risus varius blandit.</p>\n        </a>\n        <a href="#" class="list-group-item">\n          <h4 class="list-group-item-heading">List group item heading</h4>\n          <p class="list-group-item-text">Donec id elit non mi porta gravida at eget metus. Maecenas sed diam eget risus varius blandit.</p>\n        </a>\n      </div>\n    </div>\n  </div>\n\n  <div class="page-header">\n    <h1>Wells</h1>\n  </div>\n  <div class="well">\n    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sed diam eget risus varius blandit sit amet non magna. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Cras mattis consectetur purus sit amet fermentum. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Aenean lacinia bibendum nulla sed consectetur.</p>\n  </div>\n\n\n</div> \n';
return __p},define("initialize",[],function(){var e={root:"/_utils/",version:"1.0",host:"../..",zeroClipboardPath:"js/zeroclipboard/ZeroClipboard.swf",i18n:{en_US:{"mango-descripton":"Mango is an easy way to find documents on predefined indexes.","new-mango-index":"Mango Indexes","mango-help-title":"Mango","run-query-with-mango":"Run A Query with Mango","mango-title-editor":"Mango Query","mango-descripton-index-editor":"Mango is an easy way to find documents on predefined indexes. <br/><br/>Create an Index to query it afterwards. The example in the editor shows how to create an index for the field '_id'. <br/><br/>The Indexes that you already created are listed on the right.","mango-additional-indexes-heading":"Your additional Indexes:","mango-indexeditor-title":"Mango"}}};return e}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=ot.type(e);return"function"===n||ot.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(ot.isFunction(t))return ot.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ot.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(pt.test(t))return ot.filter(t,e,n);t=ot.filter(t,e)}return ot.grep(e,function(e){return ot.inArray(e,t)>=0!==n})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=Ct[e]={};return ot.each(e.match(Et)||[],function(e,n){t[n]=!0}),t}function s(){gt.addEventListener?(gt.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1)):(gt.detachEvent("onreadystatechange",a),e.detachEvent("onload",a))}function a(){(gt.addEventListener||"load"===event.type||"complete"===gt.readyState)&&(s(),ot.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(Dt,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:St.test(n)?ot.parseJSON(n):n}catch(r){}ot.data(e,t,n)}else n=void 0}return n}function c(e){var t;for(t in e)if(("data"!==t||!ot.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,n,i){if(ot.acceptData(e)){var r,o,s=ot.expando,a=e.nodeType,l=a?ot.cache:e,c=a?e[s]:e[s]&&s;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof t)return c||(c=a?e[s]=K.pop()||ot.guid++:s),l[c]||(l[c]=a?{}:{toJSON:ot.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[c]=ot.extend(l[c],t):l[c].data=ot.extend(l[c].data,t)),o=l[c],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ot.camelCase(t)]=n),"string"==typeof t?(r=o[t],null==r&&(r=o[ot.camelCase(t)])):r=o,r}}function d(e,t,n){if(ot.acceptData(e)){var i,r,o=e.nodeType,s=o?ot.cache:e,a=o?e[ot.expando]:ot.expando;if(s[a]){if(t&&(i=n?s[a]:s[a].data)){ot.isArray(t)?t=t.concat(ot.map(t,ot.camelCase)):t in i?t=[t]:(t=ot.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!c(i):!ot.isEmptyObject(i))return}(n||(delete s[a].data,c(s[a])))&&(o?ot.cleanData([e],!0):it.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function h(){return!0}function p(){return!1}function f(){try{return gt.activeElement}catch(e){}}function g(e){var t=Bt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function m(e,t){var n,i,r=0,o=typeof e.getElementsByTagName!==At?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==At?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||ot.nodeName(i,t)?o.push(i):ot.merge(o,m(i,t));return void 0===t||t&&ot.nodeName(e,t)?ot.merge([e],o):o}function v(e){Nt.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return ot.nodeName(e,"table")&&ot.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ot.find.attr(e,"type"))+"/"+e.type,e}function E(e){var t=Kt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){for(var n,i=0;null!=(n=e[i]);i++)ot._data(n,"globalEval",!t||ot._data(t[i],"globalEval"))}function _(e,t){if(1===t.nodeType&&ot.hasData(e)){var n,i,r,o=ot._data(e),s=ot._data(t,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)ot.event.add(t,n,a[n][i])}s.data&&(s.data=ot.extend({},s.data))}}function w(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!it.noCloneEvent&&t[ot.expando]){r=ot._data(t);for(i in r.events)ot.removeEvent(t,i,r.handle);t.removeAttribute(ot.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,E(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),it.html5Clone&&e.innerHTML&&!ot.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Nt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function A(t,n){var i=ot(n.createElement(t)).appendTo(n.body),r=e.getDefaultComputedStyle?e.getDefaultComputedStyle(i[0]).display:ot.css(i[0],"display");return i.detach(),r}function S(e){var t=gt,n=en[e];return n||(n=A(e,t),"none"!==n&&n||(Zt=(Zt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Zt[0].contentWindow||Zt[0].contentDocument).document,t.write(),t.close(),n=A(e,t),Zt.detach()),en[e]=n),n}function D(e,t){return{get:function(){var n=e();if(null!=n)return n?(delete this.get,void 0):(this.get=t).apply(this,arguments)}}}function x(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=fn.length;r--;)if(t=fn[r]+n,t in e)return t;return i}function T(e,t){for(var n,i,r,o=[],s=0,a=e.length;a>s;s++)i=e[s],i.style&&(o[s]=ot._data(i,"olddisplay"),n=i.style.display,t?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&kt(i)&&(o[s]=ot._data(i,"olddisplay",S(i.nodeName)))):o[s]||(r=kt(i),(n&&"none"!==n||!r)&&ot._data(i,"olddisplay",r?n:ot.css(i,"display"))));for(s=0;a>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[s]||"":"none"));return e}function k(e,t,n){var i=un.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function F(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=ot.css(e,n+Tt[o],!0,r)),i?("content"===n&&(s-=ot.css(e,"padding"+Tt[o],!0,r)),"margin"!==n&&(s-=ot.css(e,"border"+Tt[o]+"Width",!0,r))):(s+=ot.css(e,"padding"+Tt[o],!0,r),"padding"!==n&&(s+=ot.css(e,"border"+Tt[o]+"Width",!0,r)));return s}function N(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=tn(e),s=it.boxSizing()&&"border-box"===ot.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=nn(e,t,o),(0>r||null==r)&&(r=e.style[t]),on.test(r))return r;i=s&&(it.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+F(e,t,n||(s?"border":"content"),i,o)+"px"}function M(e,t,n,i,r){return new M.prototype.init(e,t,n,i,r)}function R(){return setTimeout(function(){gn=void 0}),gn=ot.now()}function L(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Tt[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function I(e,t,n){for(var i,r=(Cn[t]||[]).concat(Cn["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,t,e))return i}function O(e,t,n){var i,r,o,s,a,l,c,u,d=this,h={},p=e.style,f=e.nodeType&&kt(e),g=ot._data(e,"fxshow");n.queue||(a=ot._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,ot.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=ot.css(e,"display"),u=S(e.nodeName),"none"===c&&(c=u),"inline"===c&&"none"===ot.css(e,"float")&&(it.inlineBlockNeedsLayout&&"inline"!==u?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",it.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],vn.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;f=!0}h[i]=g&&g[i]||ot.style(e,i)}if(!ot.isEmptyObject(h)){g?"hidden"in g&&(f=g.hidden):g=ot._data(e,"fxshow",{}),o&&(g.hidden=!f),f?ot(e).show():d.done(function(){ot(e).hide()}),d.done(function(){var t;ot._removeData(e,"fxshow");for(t in h)ot.style(e,t,h[t])});for(i in h)s=I(f?g[i]:0,i,d),i in g||(g[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function B(e,t){var n,i,r,o,s;for(n in e)if(i=ot.camelCase(n),r=t[i],o=e[n],ot.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),s=ot.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function P(e,t,n){var i,r,o=0,s=En.length,a=ot.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=gn||R(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(o);return a.notifyWith(e,[c,o,n]),1>o&&l?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:ot.extend({},t),opts:ot.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:gn||R(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ot.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for(B(u,c.opts.specialEasing);s>o;o++)if(i=En[o].call(c,e,u,c.opts))return i;return ot.map(u,I,c),ot.isFunction(c.opts.start)&&c.opts.start.call(e,c),ot.fx.timer(ot.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function $(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(Et)||[];if(ot.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function U(e,t,n,i){function r(a){var l;return o[a]=!0,ot.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},s=e===zn;return r(t.dataTypes[0])||!o["*"]&&r("*")}function V(e,t){var n,i,r=ot.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&ot.extend(!0,e,n),e}function j(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||e.converters[s+" "+l[0]]){o=s;break}i||(i=s)}o=o||i}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function H(e,t,n,i){var r,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=c[l+" "+o]||c["* "+o],!s)for(r in c)if(a=r.split(" "),a[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[r]:c[r]!==!0&&(o=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function W(e,t,n,i){var r;if(ot.isArray(t))ot.each(t,function(t,r){n||Yn.test(e)?i(e,r):W(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==ot.type(t))i(e,t);else for(r in t)W(e+"["+r+"]",t[r],n,i)}function z(){try{return new e.XMLHttpRequest}catch(t){}}function q(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function G(e){return ot.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var K=[],Y=K.slice,X=K.concat,Q=K.push,J=K.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,nt="".trim,it={},rt="1.11.0",ot=function(e,t){return new ot.fn.init(e,t)},st=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,lt=/-([\da-z])/gi,ct=function(e,t){return t.toUpperCase()};ot.fn=ot.prototype={jquery:rt,constructor:ot,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=ot.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ot.each(this,e,t)},map:function(e){return this.pushStack(ot.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:K.sort,splice:K.splice},ot.extend=ot.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||ot.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(r=arguments[a]))for(i in r)e=s[i],n=r[i],s!==n&&(c&&n&&(ot.isPlainObject(n)||(t=ot.isArray(n)))?(t?(t=!1,o=e&&ot.isArray(e)?e:[]):o=e&&ot.isPlainObject(e)?e:{},s[i]=ot.extend(c,o,n)):void 0!==n&&(s[i]=n));return s},ot.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw Error(e)},noop:function(){},isFunction:function(e){return"function"===ot.type(e)},isArray:Array.isArray||function(e){return"array"===ot.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ot.type(e)||e.nodeType||ot.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(it.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&ot.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(at,"ms-").replace(lt,ct)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,s=e.length,a=n(e);if(i){if(a)for(;s>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(a)for(;s>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:nt&&!nt.call("")?function(e){return null==e?"":nt.call(e)}:function(e){return null==e?"":(e+"").replace(st,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?ot.merge(i,"string"==typeof e?[e]:e):Q.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(J)return J.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,s=e.length,a=!n;s>o;o++)i=!t(e[o],o),i!==a&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,s=e.length,a=n(e),l=[];if(a)for(;s>o;o++)r=t(e[o],o,i),null!=r&&l.push(r);else for(o in e)r=t(e[o],o,i),null!=r&&l.push(r);return X.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(r=e[t],t=e,e=r),ot.isFunction(e)?(n=Y.call(arguments,2),i=function(){return e.apply(t||this,n.concat(Y.call(arguments)))},i.guid=e.guid=e.guid||ot.guid++,i):void 0},now:function(){return+new Date},support:it}),ot.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ut=function(e){function t(e,t,n,i){var r,o,s,a,l,c,d,f,g,m;if((t?t.ownerDocument||t:U)!==M&&N(t),t=t||M,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(L&&!i){if(r=yt.exec(e))if(s=r[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&P(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((s=r[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(s)),n}if(w.qsa&&(!I||!I.test(e))){if(f=d=$,g=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=h(e),(d=t.getAttribute("id"))?f=d.replace(Et,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+p(c[l]);g=bt.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return Z.apply(n,g.querySelectorAll(m)),n}catch(v){}finally{d||t.removeAttribute("id")}}}return C(e.replace(lt,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>A.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[$]=!0,e}function r(e){var t=M.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)A.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function u(e){return e&&typeof e.getElementsByTagName!==G&&e}function d(){}function h(e,n){var i,r,o,s,a,l,c,u=W[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=A.preFilter;a;){(!i||(r=ct.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ut.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(lt," ")}),a=a.slice(i.length));for(s in A.filter)!(r=ft[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):W(e,l).slice(0)}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=j++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,l,c=[V,o];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[$]||(t[$]={}),(a=l[i])&&a[0]===V&&a[1]===o)return c[2]=a[2];if(l[i]=c,c[2]=e(t,n,s))return!0}}}function g(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,c=null!=t;l>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),c&&t.push(a));return s}function v(e,t,n,r,o,s){return r&&!r[$]&&(r=v(r)),o&&!o[$]&&(o=v(o,s)),i(function(i,s,a,l){var c,u,d,h=[],p=[],f=s.length,g=i||E(t||"*",a.nodeType?[a]:a,[]),v=!e||!i&&t?g:m(g,h,e,a,l),y=n?o||(i?e:f||r)?[]:s:v;if(n&&n(v,y,a,l),r)for(c=m(y,p),r(c,[],a,l),u=c.length;u--;)(d=c[u])&&(y[p[u]]=!(v[p[u]]=d));if(i){if(o||e){if(o){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(v[u]=d);o(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=o?tt.call(i,d):h[u])>-1&&(i[c]=!(s[c]=d))}}else y=m(y===s?y.splice(f,y.length):y),o?o(null,s,y,l):Z.apply(s,y)})}function y(e){for(var t,n,i,r=e.length,o=A.relative[e[0].type],s=o||A.relative[" "],a=o?1:0,l=f(function(e){return e===t},s,!0),c=f(function(e){return tt.call(t,e)>-1},s,!0),u=[function(e,n,i){return!o&&(i||n!==T)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];r>a;a++)if(n=A.relative[e[a].type])u=[f(g(u),n)];else{if(n=A.filter[e[a].type].apply(null,e[a].matches),n[$]){for(i=++a;r>i&&!A.relative[e[i].type];i++);return v(a>1&&g(u),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(lt,"$1"),n,i>a&&y(e.slice(a,i)),r>i&&y(e=e.slice(i)),r>i&&p(e))}u.push(n)}return g(u)}function b(e,n){var r=n.length>0,o=e.length>0,s=function(i,s,a,l,c){var u,d,h,p=0,f="0",g=i&&[],v=[],y=T,b=i||o&&A.find.TAG("*",c),E=V+=null==y?1:Math.random()||.1,C=b.length;for(c&&(T=s!==M&&s);f!==C&&null!=(u=b[f]);f++){if(o&&u){for(d=0;h=e[d++];)if(h(u,s,a)){l.push(u);break}c&&(V=E)}r&&((u=!h&&u)&&p--,i&&g.push(u))}if(p+=f,r&&f!==p){for(d=0;h=n[d++];)h(g,v,s,a);if(i){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=Q.call(l));v=m(v)}Z.apply(l,v),c&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return c&&(V=E,T=y),g};return r?i(s):s}function E(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function C(e,t,n,i){var r,o,s,a,l,c=h(e);if(!i&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===t.nodeType&&L&&A.relative[o[1].type]){if(t=(A.find.ID(s.matches[0].replace(Ct,_t),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(r=ft.needsContext.test(e)?0:o.length;r--&&(s=o[r],!A.relative[a=s.type]);)if((l=A.find[a])&&(i=l(s.matches[0].replace(Ct,_t),bt.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&p(o),!e)return Z.apply(n,i),n;break}}return x(e,c)(i,t,!L,n,bt.test(e)&&u(t.parentNode)||t),n}var _,w,A,S,D,x,T,k,F,N,M,R,L,I,O,B,P,$="sizzle"+-new Date,U=e.document,V=0,j=0,H=n(),W=n(),z=n(),q=function(e,t){return e===t&&(F=!0),0},G="undefined",K=1<<31,Y={}.hasOwnProperty,X=[],Q=X.pop,J=X.push,Z=X.push,et=X.slice,tt=X.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=rt.replace("w","w#"),st="\\["+it+"*("+rt+")"+it+"*(?:([*^$|!~]?=)"+it+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ot+")|)|)"+it+"*\\]",at=":("+rt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+st.replace(3,8)+")*)|.*)\\)|)",lt=RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ct=RegExp("^"+it+"*,"+it+"*"),ut=RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),dt=RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ht=RegExp(at),pt=RegExp("^"+ot+"$"),ft={ID:RegExp("^#("+rt+")"),CLASS:RegExp("^\\.("+rt+")"),TAG:RegExp("^("+rt.replace("w","w*")+")"),ATTR:RegExp("^"+st),PSEUDO:RegExp("^"+at),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:RegExp("^(?:"+nt+")$","i"),needsContext:RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,Et=/'|\\/g,Ct=RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),_t=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{Z.apply(X=et.call(U.childNodes),U.childNodes),X[U.childNodes.length].nodeType}catch(wt){Z={apply:X.length?function(e,t){J.apply(e,et.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}w=t.support={},D=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},N=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:U,i=n.defaultView;return n!==M&&9===n.nodeType&&n.documentElement?(M=n,R=n.documentElement,L=!D(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){N()},!1):i.attachEvent&&i.attachEvent("onunload",function(){N()})),w.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=r(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(n.getElementsByClassName)&&r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),w.getById=r(function(e){return R.appendChild(e).id=$,!n.getElementsByName||!n.getElementsByName($).length}),w.getById?(A.find.ID=function(e,t){if(typeof t.getElementById!==G&&L){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},A.filter.ID=function(e){var t=e.replace(Ct,_t);return function(e){return e.getAttribute("id")===t}}):(delete A.find.ID,A.filter.ID=function(e){var t=e.replace(Ct,_t);return function(e){var n=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return n&&n.value===t}}),A.find.TAG=w.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==G?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},A.find.CLASS=w.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==G&&L?t.getElementsByClassName(e):void 0},O=[],I=[],(w.qsa=vt.test(n.querySelectorAll))&&(r(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&I.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+it+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||I.push(":checked")}),r(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(w.matchesSelector=vt.test(B=R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&r(function(e){w.disconnectedMatch=B.call(e,"div"),B.call(e,"[s!='']:x"),O.push("!=",at)}),I=I.length&&RegExp(I.join("|")),O=O.length&&RegExp(O.join("|")),t=vt.test(R.compareDocumentPosition),P=t||vt.test(R.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return F=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!w.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===U&&P(U,e)?-1:t===n||t.ownerDocument===U&&P(U,t)?1:k?tt.call(k,e)-tt.call(k,t):0:4&i?-1:1)}:function(e,t){if(e===t)return F=!0,0;var i,r=0,o=e.parentNode,a=t.parentNode,l=[e],c=[t];if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:k?tt.call(k,e)-tt.call(k,t):0;if(o===a)return s(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[r]===c[r];)r++;return r?s(l[r],c[r]):l[r]===U?-1:c[r]===U?1:0},n):M},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==M&&N(e),n=n.replace(dt,"='$1']"),!(!w.matchesSelector||!L||O&&O.test(n)||I&&I.test(n)))try{var i=B.call(e,n);if(i||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&N(e),P(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&N(e);var n=A.attrHandle[t.toLowerCase()],i=n&&Y.call(A.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==i?i:w.attributes||!L?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(F=!w.detectDuplicates,k=!w.sortStable&&e.slice(0),e.sort(q),F){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return k=null,e},S=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=S(t);return n},A=t.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ct,_t),e[3]=(e[4]||e[5]||"").replace(Ct,_t),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ft.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&ht.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ct,_t).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,p,f,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(u=m[$]||(m[$]={}),c=u[e]||[],p=c[0]===V&&c[1],h=c[0]===V&&c[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[V,p,h];break}}else if(y&&(c=(t[$]||(t[$]={}))[e])&&c[0]===V)h=c[1];else for(;(d=++p&&d&&d[g]||(h=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[$]||(d[$]={}))[e]=[V,h]),d!==t)););return h-=r,h===i||0===h%i&&h/i>=0}}},PSEUDO:function(e,n){var r,o=A.pseudos[e]||A.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[$]?o(n):o.length>1?(r=[e,e,"",n],A.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),s=r.length;s--;)i=tt.call(e,r[s]),e[i]=!(t[i]=r[s])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=x(e.replace(lt,"$1"));return r[$]?i(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:i(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Ct,_t).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===R},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();
return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(6>e.nodeType)return!1;return!0},parent:function(e){return!A.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;t>++i;)e.push(i);return e})}},A.pseudos.nth=A.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[_]=a(_);for(_ in{submit:!0,reset:!0})A.pseudos[_]=l(_);return d.prototype=A.filters=A.pseudos,A.setFilters=new d,x=t.compile=function(e,t){var n,i=[],r=[],o=z[e+" "];if(!o){for(t||(t=h(e)),n=t.length;n--;)o=y(t[n]),o[$]?i.push(o):r.push(o);o=z(e,b(r,i))}return o},w.sortStable=$.split("").sort(q).join("")===$,w.detectDuplicates=!!F,N(),w.sortDetached=r(function(e){return 1&e.compareDocumentPosition(M.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(nt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);ot.find=ut,ot.expr=ut.selectors,ot.expr[":"]=ot.expr.pseudos,ot.unique=ut.uniqueSort,ot.text=ut.getText,ot.isXMLDoc=ut.isXML,ot.contains=ut.contains;var dt=ot.expr.match.needsContext,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pt=/^.[^:#\[\.,]*$/;ot.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ot.find.matchesSelector(i,e)?[i]:[]:ot.find.matches(e,ot.grep(t,function(e){return 1===e.nodeType}))},ot.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(ot(e).filter(function(){for(t=0;r>t;t++)if(ot.contains(i[t],this))return!0}));for(t=0;r>t;t++)ot.find(e,i[t],n);return n=this.pushStack(r>1?ot.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&dt.test(e)?ot(e):e||[],!1).length}});var ft,gt=e.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,vt=ot.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:mt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ft).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ot?t[0]:t,ot.merge(this,ot.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:gt,!0)),ht.test(n[1])&&ot.isPlainObject(t))for(n in t)ot.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(i=gt.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return ft.find(e);this.length=1,this[0]=i}return this.context=gt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ot.isFunction(e)?ft.ready!==void 0?ft.ready(e):e(ot):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ot.makeArray(e,this))};vt.prototype=ot.fn,ft=ot(gt);var yt=/^(?:parents|prev(?:Until|All))/,bt={children:!0,contents:!0,next:!0,prev:!0};ot.extend({dir:function(e,t,n){for(var i=[],r=e[t];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!ot(r).is(n));)1===r.nodeType&&i.push(r),r=r[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ot.fn.extend({has:function(e){var t,n=ot(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(ot.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=dt.test(e)||"string"!=typeof e?ot(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(s?s.index(n)>-1:1===n.nodeType&&ot.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ot.unique(o):o)},index:function(e){return e?"string"==typeof e?ot.inArray(this[0],ot(e)):ot.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ot.unique(ot.merge(this.get(),ot(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ot.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ot.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ot.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return ot.dir(e,"nextSibling")},prevAll:function(e){return ot.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ot.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ot.dir(e,"previousSibling",n)},siblings:function(e){return ot.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ot.sibling(e.firstChild)},contents:function(e){return ot.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ot.merge([],e.childNodes)}},function(e,t){ot.fn[e]=function(n,i){var r=ot.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ot.filter(i,r)),this.length>1&&(bt[e]||(r=ot.unique(r)),yt.test(e)&&(r=r.reverse())),this.pushStack(r)}});var Et=/\S+/g,Ct={};ot.Callbacks=function(e){e="string"==typeof e?Ct[e]||o(e):ot.extend({},e);var t,n,i,r,s,a,l=[],c=!e.once&&[],u=function(o){for(n=e.memory&&o,i=!0,s=a||0,a=0,r=l.length,t=!0;l&&r>s;s++)if(l[s].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(c?c.length&&u(c.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var i=l.length;(function o(t){ot.each(t,function(t,n){var i=ot.type(n);"function"===i?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==i&&o(n)})})(arguments),t?r=l.length:n&&(a=i,u(n))}return this},remove:function(){return l&&ot.each(arguments,function(e,n){for(var i;(i=ot.inArray(n,l,i))>-1;)l.splice(i,1),t&&(r>=i&&r--,s>=i&&s--)}),this},has:function(e){return e?ot.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||d.disable(),this},locked:function(){return!c},fireWith:function(e,n){return!l||i&&!c||(n=n||[],n=[e,n.slice?n.slice():n],t?c.push(n):u(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},ot.extend({Deferred:function(e){var t=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ot.Deferred(function(n){ot.each(t,function(t,o){var s=ot.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&ot.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ot.extend(e,i):i}},r={};return i.pipe=i.then,ot.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=Y.call(arguments),s=o.length,a=1!==s||e&&ot.isFunction(e.promise)?s:0,l=1===a?e:ot.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?Y.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=Array(s),n=Array(s),i=Array(s);s>r;r++)o[r]&&ot.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,t)):--a;return a||l.resolveWith(i,o),l.promise()}});var _t;ot.fn.ready=function(e){return ot.ready.promise().done(e),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ot.readyWait++:ot.ready(!0)},ready:function(e){if(e===!0?!--ot.readyWait:!ot.isReady){if(!gt.body)return setTimeout(ot.ready);ot.isReady=!0,e!==!0&&--ot.readyWait>0||(_t.resolveWith(gt,[ot]),ot.fn.trigger&&ot(gt).trigger("ready").off("ready"))}}}),ot.ready.promise=function(t){if(!_t)if(_t=ot.Deferred(),"complete"===gt.readyState)setTimeout(ot.ready);else if(gt.addEventListener)gt.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1);else{gt.attachEvent("onreadystatechange",a),e.attachEvent("onload",a);var n=!1;try{n=null==e.frameElement&&gt.documentElement}catch(i){}n&&n.doScroll&&function r(){if(!ot.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}s(),ot.ready()}}()}return _t.promise(t)};var wt,At="undefined";for(wt in ot(it))break;it.ownLast="0"!==wt,it.inlineBlockNeedsLayout=!1,ot(function(){var e,t,n=gt.getElementsByTagName("body")[0];n&&(e=gt.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",t=gt.createElement("div"),n.appendChild(e).appendChild(t),typeof t.style.zoom!==At&&(t.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(it.inlineBlockNeedsLayout=3===t.offsetWidth)&&(n.style.zoom=1)),n.removeChild(e),e=t=null)}),function(){var e=gt.createElement("div");if(null==it.deleteExpando){it.deleteExpando=!0;try{delete e.test}catch(t){it.deleteExpando=!1}}e=null}(),ot.acceptData=function(e){var t=ot.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var St=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Dt=/([A-Z])/g;ot.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ot.cache[e[ot.expando]]:e[ot.expando],!!e&&!c(e)},data:function(e,t,n){return u(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return u(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ot.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=ot.data(o),1===o.nodeType&&!ot._data(o,"parsedAttrs"))){for(n=s.length;n--;)i=s[n].name,0===i.indexOf("data-")&&(i=ot.camelCase(i.slice(5)),l(o,i,r[i]));ot._data(o,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ot.data(this,e)}):arguments.length>1?this.each(function(){ot.data(this,e,t)}):o?l(o,e,ot.data(o,e)):void 0},removeData:function(e){return this.each(function(){ot.removeData(this,e)})}}),ot.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ot._data(e,t),n&&(!i||ot.isArray(n)?i=ot._data(e,t,ot.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ot.queue(e,t),i=n.length,r=n.shift(),o=ot._queueHooks(e,t),s=function(){ot.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ot._data(e,n)||ot._data(e,n,{empty:ot.Callbacks("once memory").add(function(){ot._removeData(e,t+"queue"),ot._removeData(e,n)})})}}),ot.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),n>arguments.length?ot.queue(this[0],e):void 0===t?this:this.each(function(){var n=ot.queue(this,e,t);ot._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ot.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ot.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=ot.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=ot._data(o[s],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Tt=["Top","Right","Bottom","Left"],kt=function(e,t){return e=t||e,"none"===ot.css(e,"display")||!ot.contains(e.ownerDocument,e)},Ft=ot.access=function(e,t,n,i,r,o,s){var a=0,l=e.length,c=null==n;if("object"===ot.type(n)){r=!0;for(a in n)ot.access(e,t,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,ot.isFunction(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(ot(e),n)})),t))for(;l>a;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):l?t(e[0],n):o},Nt=/^(?:checkbox|radio)$/i;(function(){var e=gt.createDocumentFragment(),t=gt.createElement("div"),n=gt.createElement("input");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a>",it.leadingWhitespace=3===t.firstChild.nodeType,it.tbody=!t.getElementsByTagName("tbody").length,it.htmlSerialize=!!t.getElementsByTagName("link").length,it.html5Clone="<:nav></:nav>"!==gt.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),it.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",it.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,it.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){it.noCloneEvent=!1}),t.cloneNode(!0).click()),null==it.deleteExpando){it.deleteExpando=!0;try{delete t.test}catch(i){it.deleteExpando=!1}}e=t=n=null})(),function(){var t,n,i=gt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(it[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),it[t+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var Mt=/^(?:input|select|textarea)$/i,Rt=/^key/,Lt=/^(?:mouse|contextmenu)|click/,It=/^(?:focusinfocus|focusoutblur)$/,Ot=/^([^.]*)(?:\.(.+)|)$/;ot.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,c,u,d,h,p,f,g,m=ot._data(e);if(m){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=ot.guid++),(s=m.events)||(s=m.events={}),(u=m.handle)||(u=m.handle=function(e){return typeof ot===At||e&&ot.event.triggered===e.type?void 0:ot.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(Et)||[""],a=t.length;a--;)o=Ot.exec(t[a])||[],p=g=o[1],f=(o[2]||"").split(".").sort(),p&&(c=ot.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,c=ot.event.special[p]||{},d=ot.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ot.expr.match.needsContext.test(r),namespace:f.join(".")},l),(h=s[p])||(h=s[p]=[],h.delegateCount=0,c.setup&&c.setup.call(e,i,f,u)!==!1||(e.addEventListener?e.addEventListener(p,u,!1):e.attachEvent&&e.attachEvent("on"+p,u))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),ot.event.global[p]=!0);e=null}},remove:function(e,t,n,i,r){var o,s,a,l,c,u,d,h,p,f,g,m=ot.hasData(e)&&ot._data(e);if(m&&(u=m.events)){for(t=(t||"").match(Et)||[""],c=t.length;c--;)if(a=Ot.exec(t[c])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(d=ot.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=u[p]||[],a=a[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)s=h[o],!r&&g!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(h.splice(o,1),s.selector&&h.delegateCount--,d.remove&&d.remove.call(e,s));l&&!h.length&&(d.teardown&&d.teardown.call(e,f,m.handle)!==!1||ot.removeEvent(e,p,m.handle),delete u[p])}else for(p in u)ot.event.remove(e,p+t[c],n,i,!0);ot.isEmptyObject(u)&&(delete m.handle,ot._removeData(e,"events"))}},trigger:function(t,n,i,r){var o,s,a,l,c,u,d,h=[i||gt],p=tt.call(t,"type")?t.type:t,f=tt.call(t,"namespace")?t.namespace.split("."):[];if(a=u=i=i||gt,3!==i.nodeType&&8!==i.nodeType&&!It.test(p+ot.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),s=0>p.indexOf(":")&&"on"+p,t=t[ot.expando]?t:new ot.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:ot.makeArray(n,[t]),c=ot.event.special[p]||{},r||!c.trigger||c.trigger.apply(i,n)!==!1)){if(!r&&!c.noBubble&&!ot.isWindow(i)){for(l=c.delegateType||p,It.test(l+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),u=a;u===(i.ownerDocument||gt)&&h.push(u.defaultView||u.parentWindow||e)}for(d=0;(a=h[d++])&&!t.isPropagationStopped();)t.type=d>1?l:c.bindType||p,o=(ot._data(a,"events")||{})[t.type]&&ot._data(a,"handle"),o&&o.apply(a,n),o=s&&a[s],o&&o.apply&&ot.acceptData(a)&&(t.result=o.apply(a,n),t.result===!1&&t.preventDefault());if(t.type=p,!r&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(h.pop(),n)===!1)&&ot.acceptData(i)&&s&&i[p]&&!ot.isWindow(i)){u=i[s],u&&(i[s]=null),ot.event.triggered=p;try{i[p]()}catch(g){}ot.event.triggered=void 0,u&&(i[s]=u)}return t.result}},dispatch:function(e){e=ot.event.fix(e);var t,n,i,r,o,s=[],a=Y.call(arguments),l=(ot._data(this,"events")||{})[e.type]||[],c=ot.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(s=ot.event.handlers.call(this,e,l),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((ot.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,a),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],o=0;a>o;o++)i=t[o],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?ot(n,this).index(l)>=0:ot.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&s.push({elem:l,handlers:r})}return t.length>a&&s.push({elem:this,handlers:t.slice(a)}),s},fix:function(e){if(e[ot.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Lt.test(r)?this.mouseHooks:Rt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new ot.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=o.srcElement||gt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||gt,r=i.documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ot.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ot.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=ot.extend(new ot.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ot.event.trigger(r,null,t):ot.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},ot.removeEvent=gt.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===At&&(e[i]=null),e.detachEvent(i,n))},ot.Event=function(e,t){return this instanceof ot.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&(e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault())?h:p):this.type=e,t&&ot.extend(this,t),this.timeStamp=e&&e.timeStamp||ot.now(),this[ot.expando]=!0,void 0):new ot.Event(e,t)},ot.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=h,this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ot.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!ot.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),it.submitBubbles||(ot.event.special.submit={setup:function(){return ot.nodeName(this,"form")?!1:(ot.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ot.nodeName(t,"input")||ot.nodeName(t,"button")?t.form:void 0;n&&!ot._data(n,"submitBubbles")&&(ot.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ot._data(n,"submitBubbles",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ot.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ot.nodeName(this,"form")?!1:(ot.event.remove(this,"._submit"),void 0)}}),it.changeBubbles||(ot.event.special.change={setup:function(){return Mt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ot.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ot.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ot.event.simulate("change",this,e,!0)})),!1):(ot.event.add(this,"beforeactivate._change",function(e){var t=e.target;Mt.test(t.nodeName)&&!ot._data(t,"changeBubbles")&&(ot.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ot.event.simulate("change",this.parentNode,e,!0)}),ot._data(t,"changeBubbles",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ot.event.remove(this,"._change"),!Mt.test(this.nodeName)}}),it.focusinBubbles||ot.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ot.event.simulate(t,e.target,ot.event.fix(e),!0)};ot.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=ot._data(i,t);r||i.addEventListener(e,n,!0),ot._data(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ot._data(i,t)-1;r?ot._data(i,t,r):(i.removeEventListener(e,n,!0),ot._removeData(i,t))}}}),ot.fn.extend({on:function(e,t,n,i,r){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=p;else if(!i)return this;return 1===r&&(s=i,i=function(e){return ot().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=ot.guid++)),this.each(function(){ot.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ot(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){ot.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ot.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ot.event.trigger(e,t,n,!0):void 0}});var Bt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Pt=/ jQuery\d+="(?:null|\d+)"/g,$t=RegExp("<(?:"+Bt+")[\\s/>]","i"),Ut=/^\s+/,Vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jt=/<([\w:]+)/,Ht=/<tbody/i,Wt=/<|&#?\w+;/,zt=/<(?:script|style|link)/i,qt=/checked\s*(?:[^=]|=\s*.checked.)/i,Gt=/^$|\/(?:java|ecma)script/i,Kt=/^true\/(.*)/,Yt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:it.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qt=g(gt),Jt=Qt.appendChild(gt.createElement("div"));Xt.optgroup=Xt.option,Xt.tbody=Xt.tfoot=Xt.colgroup=Xt.caption=Xt.thead,Xt.th=Xt.td,ot.extend({clone:function(e,t,n){var i,r,o,s,a,l=ot.contains(e.ownerDocument,e);if(it.html5Clone||ot.isXMLDoc(e)||!$t.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Jt.innerHTML=e.outerHTML,Jt.removeChild(o=Jt.firstChild)),!(it.noCloneEvent&&it.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ot.isXMLDoc(e)))for(i=m(o),a=m(e),s=0;null!=(r=a[s]);++s)i[s]&&w(r,i[s]);if(t)if(n)for(a=a||m(e),i=i||m(o),s=0;null!=(r=a[s]);s++)_(r,i[s]);else _(e,o);return i=m(o,"script"),i.length>0&&C(i,!l&&m(e,"script")),i=a=r=null,o},buildFragment:function(e,t,n,i){for(var r,o,s,a,l,c,u,d=e.length,h=g(t),p=[],f=0;d>f;f++)if(o=e[f],o||0===o)if("object"===ot.type(o))ot.merge(p,o.nodeType?[o]:o);else if(Wt.test(o)){for(a=a||h.appendChild(t.createElement("div")),l=(jt.exec(o)||["",""])[1].toLowerCase(),u=Xt[l]||Xt._default,a.innerHTML=u[1]+o.replace(Vt,"<$1></$2>")+u[2],r=u[0];r--;)a=a.lastChild;if(!it.leadingWhitespace&&Ut.test(o)&&p.push(t.createTextNode(Ut.exec(o)[0])),!it.tbody)for(o="table"!==l||Ht.test(o)?"<table>"!==u[1]||Ht.test(o)?0:a:a.firstChild,r=o&&o.childNodes.length;r--;)ot.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(ot.merge(p,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=h.lastChild}else p.push(t.createTextNode(o));for(a&&h.removeChild(a),it.appendChecked||ot.grep(m(p,"input"),v),f=0;o=p[f++];)if((!i||-1===ot.inArray(o,i))&&(s=ot.contains(o.ownerDocument,o),a=m(h.appendChild(o),"script"),s&&C(a),n))for(r=0;o=a[r++];)Gt.test(o.type||"")&&n.push(o);return a=null,h},cleanData:function(e,t){for(var n,i,r,o,s=0,a=ot.expando,l=ot.cache,c=it.deleteExpando,u=ot.event.special;null!=(n=e[s]);s++)if((t||ot.acceptData(n))&&(r=n[a],o=r&&l[r])){if(o.events)for(i in o.events)u[i]?ot.event.remove(n,i):ot.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[a]:typeof n.removeAttribute!==At?n.removeAttribute(a):n[a]=null,K.push(r))}}}),ot.fn.extend({text:function(e){return Ft(this,function(e){return void 0===e?ot.text(this):this.empty().append((this[0]&&this[0].ownerDocument||gt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ot.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||ot.cleanData(m(n)),n.parentNode&&(t&&ot.contains(n.ownerDocument,n)&&C(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ot.cleanData(m(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ot.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ot.clone(this,e,t)})},html:function(e){return Ft(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Pt,""):void 0;if(!("string"!=typeof e||zt.test(e)||!it.htmlSerialize&&$t.test(e)||!it.leadingWhitespace&&Ut.test(e)||Xt[(jt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Vt,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(ot.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ot.cleanData(m(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=X.apply([],e);var n,i,r,o,s,a,l=0,c=this.length,u=this,d=c-1,h=e[0],p=ot.isFunction(h);if(p||c>1&&"string"==typeof h&&!it.checkClone&&qt.test(h))return this.each(function(n){var i=u.eq(n);p&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)});if(c&&(a=ot.buildFragment(e,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(o=ot.map(m(a,"script"),b),r=o.length;c>l;l++)i=a,l!==d&&(i=ot.clone(i,!0,!0),r&&ot.merge(o,m(i,"script"))),t.call(this[l],i,l);if(r)for(s=o[o.length-1].ownerDocument,ot.map(o,E),l=0;r>l;l++)i=o[l],Gt.test(i.type||"")&&!ot._data(i,"globalEval")&&ot.contains(s,i)&&(i.src?ot._evalUrl&&ot._evalUrl(i.src):ot.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Yt,"")));a=n=null}return this}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ot.fn[e]=function(e){for(var n,i=0,r=[],o=ot(e),s=o.length-1;s>=i;i++)n=i===s?this:this.clone(!0),ot(o[i])[t](n),Q.apply(r,n.get());return this.pushStack(r)}});var Zt,en={};(function(){var e,t,n=gt.createElement("div"),i="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],e.style.cssText="float:left;opacity:.5",it.opacity=/^0.5/.test(e.style.opacity),it.cssFloat=!!e.style.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===n.style.backgroundClip,e=n=null,it.shrinkWrapBlocks=function(){var e,n,r,o;if(null==t){if(e=gt.getElementsByTagName("body")[0],!e)return;o="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",n=gt.createElement("div"),r=gt.createElement("div"),e.appendChild(n).appendChild(r),t=!1,typeof r.style.zoom!==At&&(r.style.cssText=i+";width:1px;padding:1px;zoom:1",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t=3!==r.offsetWidth),e.removeChild(n),e=n=r=null
}return t}})();var tn,nn,rn=/^margin/,on=RegExp("^("+xt+")(?!px)[a-z%]+$","i"),sn=/^(top|right|bottom|left)$/;e.getComputedStyle?(tn=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},nn=function(e,t,n){var i,r,o,s,a=e.style;return n=n||tn(e),s=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==s||ot.contains(e.ownerDocument,e)||(s=ot.style(e,t)),on.test(s)&&rn.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0===s?s:s+""}):gt.documentElement.currentStyle&&(tn=function(e){return e.currentStyle},nn=function(e,t,n){var i,r,o,s,a=e.style;return n=n||tn(e),s=n?n[t]:void 0,null==s&&a&&a[t]&&(s=a[t]),on.test(s)&&!sn.test(t)&&(i=a.left,r=e.runtimeStyle,o=r&&r.left,o&&(r.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),void 0===s?s:s+""||"auto"}),function(){function t(){var t,n,i=gt.getElementsByTagName("body")[0];i&&(t=gt.createElement("div"),n=gt.createElement("div"),t.style.cssText=c,i.appendChild(t).appendChild(n),n.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",ot.swap(i,null!=i.style.zoom?{zoom:1}:{},function(){r=4===n.offsetWidth}),o=!0,s=!1,a=!0,e.getComputedStyle&&(s="1%"!==(e.getComputedStyle(n,null)||{}).top,o="4px"===(e.getComputedStyle(n,null)||{width:"4px"}).width),i.removeChild(t),n=i=null)}var n,i,r,o,s,a,l=gt.createElement("div"),c="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",u="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=l.getElementsByTagName("a")[0],n.style.cssText="float:left;opacity:.5",it.opacity=/^0.5/.test(n.style.opacity),it.cssFloat=!!n.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===l.style.backgroundClip,n=l=null,ot.extend(it,{reliableHiddenOffsets:function(){if(null!=i)return i;var e,t,n,r=gt.createElement("div"),o=gt.getElementsByTagName("body")[0];if(o)return r.setAttribute("className","t"),r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=gt.createElement("div"),e.style.cssText=c,o.appendChild(e).appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=r.getElementsByTagName("td"),t[0].style.cssText="padding:0;margin:0;border:0;display:none",n=0===t[0].offsetHeight,t[0].style.display="",t[1].style.display="none",i=n&&0===t[0].offsetHeight,o.removeChild(e),r=o=null,i},boxSizing:function(){return null==r&&t(),r},boxSizingReliable:function(){return null==o&&t(),o},pixelPosition:function(){return null==s&&t(),s},reliableMarginRight:function(){var t,n,i,r;if(null==a&&e.getComputedStyle){if(t=gt.getElementsByTagName("body")[0],!t)return;n=gt.createElement("div"),i=gt.createElement("div"),n.style.cssText=c,t.appendChild(n).appendChild(i),r=i.appendChild(gt.createElement("div")),r.style.cssText=i.style.cssText=u,r.style.marginRight=r.style.width="0",i.style.width="1px",a=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight),t.removeChild(n)}return a}})}(),ot.swap=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r};var an=/alpha\([^)]*\)/i,ln=/opacity\s*=\s*([^)]*)/,cn=/^(none|table(?!-c[ea]).+)/,un=RegExp("^("+xt+")(.*)$","i"),dn=RegExp("^([+-])=("+xt+")","i"),hn={position:"absolute",visibility:"hidden",display:"block"},pn={letterSpacing:0,fontWeight:400},fn=["Webkit","O","Moz","ms"];ot.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":it.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=ot.camelCase(t),l=e.style;if(t=ot.cssProps[a]||(ot.cssProps[a]=x(l,a)),s=ot.cssHooks[t]||ot.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:l[t];if(o=typeof n,"string"===o&&(r=dn.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(ot.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||ot.cssNumber[a]||(n+="px"),it.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(e,n,i)))))try{l[t]="",l[t]=n}catch(c){}}},css:function(e,t,n,i){var r,o,s,a=ot.camelCase(t);return t=ot.cssProps[a]||(ot.cssProps[a]=x(e.style,a)),s=ot.cssHooks[t]||ot.cssHooks[a],s&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=nn(e,t,i)),"normal"===o&&t in pn&&(o=pn[t]),""===n||n?(r=parseFloat(o),n===!0||ot.isNumeric(r)?r||0:o):o}}),ot.each(["height","width"],function(e,t){ot.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&cn.test(ot.css(e,"display"))?ot.swap(e,hn,function(){return N(e,t,i)}):N(e,t,i):void 0},set:function(e,n,i){var r=i&&tn(e);return k(e,n,i?F(e,t,i,it.boxSizing()&&"border-box"===ot.css(e,"boxSizing",!1,r),r):0)}}}),it.opacity||(ot.cssHooks.opacity={get:function(e,t){return ln.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=ot.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ot.trim(o.replace(an,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=an.test(o)?o.replace(an,r):o+" "+r)}}),ot.cssHooks.marginRight=D(it.reliableMarginRight,function(e,t){return t?ot.swap(e,{display:"inline-block"},nn,[e,"marginRight"]):void 0}),ot.each({margin:"",padding:"",border:"Width"},function(e,t){ot.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Tt[i]+t]=o[i]||o[i-2]||o[0];return r}},rn.test(e)||(ot.cssHooks[e+t].set=k)}),ot.fn.extend({css:function(e,t){return Ft(this,function(e,t,n){var i,r,o={},s=0;if(ot.isArray(t)){for(i=tn(e),r=t.length;r>s;s++)o[t[s]]=ot.css(e,t[s],!1,i);return o}return void 0!==n?ot.style(e,t,n):ot.css(e,t)},e,t,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){kt(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=M,M.prototype={constructor:M,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ot.cssNumber[n]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(e){var t,n=M.propHooks[this.prop];return this.pos=t=this.options.duration?ot.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ot.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ot.fx.step[e.prop]?ot.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ot.cssProps[e.prop]]||ot.cssHooks[e.prop])?ot.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ot.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ot.fx=M.prototype.init,ot.fx.step={};var gn,mn,vn=/^(?:toggle|show|hide)$/,yn=RegExp("^(?:([+-])=|)("+xt+")([a-z%]*)$","i"),bn=/queueHooks$/,En=[O],Cn={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=yn.exec(t),o=r&&r[3]||(ot.cssNumber[e]?"":"px"),s=(ot.cssNumber[e]||"px"!==o&&+i)&&yn.exec(ot.css(n.elem,e)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do a=a||".5",s/=a,ot.style(n.elem,e,s+o);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};ot.Animation=ot.extend(P,{tweener:function(e,t){ot.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],Cn[n]=Cn[n]||[],Cn[n].unshift(t)},prefilter:function(e,t){t?En.unshift(e):En.push(e)}}),ot.speed=function(e,t,n){var i=e&&"object"==typeof e?ot.extend({},e):{complete:n||!n&&t||ot.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ot.isFunction(t)&&t};return i.duration=ot.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ot.fx.speeds?ot.fx.speeds[i.duration]:ot.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ot.isFunction(i.old)&&i.old.call(this),i.queue&&ot.dequeue(this,i.queue)},i},ot.fn.extend({fadeTo:function(e,t,n,i){return this.filter(kt).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=ot.isEmptyObject(e),o=ot.speed(t,n,i),s=function(){var t=P(this,ot.extend({},e),o);(r||ot._data(this,"finish"))&&t.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=ot.timers,s=ot._data(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&bn.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));(t||!n)&&ot.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ot._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=ot.timers,s=i?i.length:0;for(n.finish=!0,ot.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ot.each(["toggle","show","hide"],function(e,t){var n=ot.fn[t];ot.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(L(t,!0),e,i,r)}}),ot.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ot.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ot.timers=[],ot.fx.tick=function(){var e,t=ot.timers,n=0;for(gn=ot.now();t.length>n;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ot.fx.stop(),gn=void 0},ot.fx.timer=function(e){ot.timers.push(e),e()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){mn||(mn=setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){clearInterval(mn),mn=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(e,t){return e=ot.fx?ot.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,r=gt.createElement("div");r.setAttribute("className","t"),r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=r.getElementsByTagName("a")[0],n=gt.createElement("select"),i=n.appendChild(gt.createElement("option")),t=r.getElementsByTagName("input")[0],e.style.cssText="top:1px",it.getSetAttribute="t"!==r.className,it.style=/top/.test(e.getAttribute("style")),it.hrefNormalized="/a"===e.getAttribute("href"),it.checkOn=!!t.value,it.optSelected=i.selected,it.enctype=!!gt.createElement("form").enctype,n.disabled=!0,it.optDisabled=!i.disabled,t=gt.createElement("input"),t.setAttribute("value",""),it.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),it.radioValue="t"===t.value,e=t=n=i=r=null}();var _n=/\r/g;ot.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=ot.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,ot(this).val()):e,null==r?r="":"number"==typeof r?r+="":ot.isArray(r)&&(r=ot.map(r,function(e){return null==e?"":e+""})),t=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=ot.valHooks[r.type]||ot.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(_n,""):null==n?"":n)}}}),ot.extend({valHooks:{option:{get:function(e){var t=ot.find.attr(e,"value");return null!=t?t:ot.text(e)}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(it.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ot.nodeName(n.parentNode,"optgroup"))){if(t=ot(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=ot.makeArray(t),s=r.length;s--;)if(i=r[s],ot.inArray(ot.valHooks.option.get(i),o)>=0)try{i.selected=n=!0}catch(a){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(e,t){return ot.isArray(t)?e.checked=ot.inArray(ot(e).val(),t)>=0:void 0}},it.checkOn||(ot.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wn,An,Sn=ot.expr.attrHandle,Dn=/^(?:checked|selected)$/i,xn=it.getSetAttribute,Tn=it.input;ot.fn.extend({attr:function(e,t){return Ft(this,ot.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ot.removeAttr(this,e)})}}),ot.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===At?ot.prop(e,t,n):(1===o&&ot.isXMLDoc(e)||(t=t.toLowerCase(),i=ot.attrHooks[t]||(ot.expr.match.bool.test(t)?An:wn)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=ot.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):(ot.removeAttr(e,t),void 0))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(Et);if(o&&1===e.nodeType)for(;n=o[r++];)i=ot.propFix[n]||n,ot.expr.match.bool.test(n)?Tn&&xn||!Dn.test(n)?e[i]=!1:e[ot.camelCase("default-"+n)]=e[i]=!1:ot.attr(e,n,""),e.removeAttribute(xn?n:i)},attrHooks:{type:{set:function(e,t){if(!it.radioValue&&"radio"===t&&ot.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),An={set:function(e,t,n){return t===!1?ot.removeAttr(e,n):Tn&&xn||!Dn.test(n)?e.setAttribute(!xn&&ot.propFix[n]||n,n):e[ot.camelCase("default-"+n)]=e[n]=!0,n}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Sn[t]||ot.find.attr;Sn[t]=Tn&&xn||!Dn.test(t)?function(e,t,i){var r,o;return i||(o=Sn[t],Sn[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,Sn[t]=o),r}:function(e,t,n){return n?void 0:e[ot.camelCase("default-"+t)]?t.toLowerCase():null}}),Tn&&xn||(ot.attrHooks.value={set:function(e,t,n){return ot.nodeName(e,"input")?(e.defaultValue=t,void 0):wn&&wn.set(e,t,n)}}),xn||(wn={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Sn.id=Sn.name=Sn.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},ot.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:wn.set},ot.attrHooks.contenteditable={set:function(e,t,n){wn.set(e,""===t?!1:t,n)}},ot.each(["width","height"],function(e,t){ot.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),it.style||(ot.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var kn=/^(?:input|select|textarea|button|object)$/i,Fn=/^(?:a|area)$/i;ot.fn.extend({prop:function(e,t){return Ft(this,ot.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ot.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ot.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!ot.isXMLDoc(e),o&&(t=ot.propFix[t]||t,r=ot.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=ot.find.attr(e,"tabindex");return t?parseInt(t,10):kn.test(e.nodeName)||Fn.test(e.nodeName)&&e.href?0:-1}}}}),it.hrefNormalized||ot.each(["href","src"],function(e,t){ot.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),it.optSelected||(ot.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this}),it.enctype||(ot.propFix.enctype="encoding");var Nn=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(e){var t,n,i,r,o,s,a=0,l=this.length,c="string"==typeof e&&e;if(ot.isFunction(e))return this.each(function(t){ot(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(Et)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Nn," "):" ")){for(o=0;r=t[o++];)0>i.indexOf(" "+r+" ")&&(i+=r+" ");s=ot.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,i,r,o,s,a=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(ot.isFunction(e))return this.each(function(t){ot(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(Et)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Nn," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=e?ot.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ot.isFunction(e)?this.each(function(n){ot(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,r=ot(this),o=e.match(Et)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===At||"boolean"===n)&&(this.className&&ot._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ot._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Nn," ").indexOf(t)>=0)return!0;return!1}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ot.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ot.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Mn=ot.now(),Rn=/\?/,Ln=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ot.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,r=ot.trim(t+"");return r&&!ot.trim(r.replace(Ln,function(e,t,r,o){return n&&t&&(i=0),0===i?e:(n=r||t,i+=!o-!r,"")}))?Function("return "+r)():ot.error("Invalid JSON: "+t)},ot.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new DOMParser,n=i.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+t),n};var In,On,Bn=/#.*$/,Pn=/([?&])_=[^&]*/,$n=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Un=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Vn=/^(?:GET|HEAD)$/,jn=/^\/\//,Hn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Wn={},zn={},qn="*/".concat("*");try{On=location.href}catch(Gn){On=gt.createElement("a"),On.href="",On=On.href}In=Hn.exec(On.toLowerCase())||[],ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:On,type:"GET",isLocal:Un.test(In[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?V(V(e,ot.ajaxSettings),t):V(ot.ajaxSettings,e)},ajaxPrefilter:$(Wn),ajaxTransport:$(zn),ajax:function(e,t){function n(e,t,n,i){var r,u,v,y,E,_=t;2!==b&&(b=2,a&&clearTimeout(a),c=void 0,s=i||"",C.readyState=e>0?4:0,r=e>=200&&300>e||304===e,n&&(y=j(d,C,n)),y=H(d,y,C,r),r?(d.ifModified&&(E=C.getResponseHeader("Last-Modified"),E&&(ot.lastModified[o]=E),E=C.getResponseHeader("etag"),E&&(ot.etag[o]=E)),204===e||"HEAD"===d.type?_="nocontent":304===e?_="notmodified":(_=y.state,u=y.data,v=y.error,r=!v)):(v=_,(e||!_)&&(_="error",0>e&&(e=0))),C.status=e,C.statusText=(t||_)+"",r?f.resolveWith(h,[u,_,C]):f.rejectWith(h,[C,_,v]),C.statusCode(m),m=void 0,l&&p.trigger(r?"ajaxSuccess":"ajaxError",[C,d,r?u:v]),g.fireWith(h,[C,_]),l&&(p.trigger("ajaxComplete",[C,d]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,s,a,l,c,u,d=ot.ajaxSetup({},t),h=d.context||d,p=d.context&&(h.nodeType||h.jquery)?ot(h):ot.event,f=ot.Deferred(),g=ot.Callbacks("once memory"),m=d.statusCode||{},v={},y={},b=0,E="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!u)for(u={};t=$n.exec(s);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||E;return c&&c.abort(t),n(0,t),this}};if(f.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,d.url=((e||d.url||On)+"").replace(Bn,"").replace(jn,In[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ot.trim(d.dataType||"*").toLowerCase().match(Et)||[""],null==d.crossDomain&&(i=Hn.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===In[1]&&i[2]===In[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(In[3]||("http:"===In[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ot.param(d.data,d.traditional)),U(Wn,d,t,C),2===b)return C;l=d.global,l&&0===ot.active++&&ot.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Vn.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Rn.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Pn.test(o)?o.replace(Pn,"$1_="+Mn++):o+(Rn.test(o)?"&":"?")+"_="+Mn++)),d.ifModified&&(ot.lastModified[o]&&C.setRequestHeader("If-Modified-Since",ot.lastModified[o]),ot.etag[o]&&C.setRequestHeader("If-None-Match",ot.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+qn+"; q=0.01":""):d.accepts["*"]);for(r in d.headers)C.setRequestHeader(r,d.headers[r]);if(d.beforeSend&&(d.beforeSend.call(h,C,d)===!1||2===b))return C.abort();E="abort";for(r in{success:1,error:1,complete:1})C[r](d[r]);if(c=U(zn,d,t,C)){C.readyState=1,l&&p.trigger("ajaxSend",[C,d]),d.async&&d.timeout>0&&(a=setTimeout(function(){C.abort("timeout")},d.timeout));try{b=1,c.send(v,n)}catch(_){if(!(2>b))throw _;n(-1,_)}}else n(-1,"No Transport");return C},getJSON:function(e,t,n){return ot.get(e,t,n,"json")},getScript:function(e,t){return ot.get(e,void 0,t,"script")}}),ot.each(["get","post"],function(e,t){ot[t]=function(e,n,i,r){return ot.isFunction(n)&&(r=r||i,i=n,n=void 0),ot.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ot.fn[t]=function(e){return this.on(t,e)}}),ot._evalUrl=function(e){return ot.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(e){if(ot.isFunction(e))return this.each(function(t){ot(this).wrapAll(e.call(this,t))});if(this[0]){var t=ot(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ot.isFunction(e)?this.each(function(t){ot(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ot(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ot.isFunction(e);return this.each(function(n){ot(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!it.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ot.css(e,"display"))},ot.expr.filters.visible=function(e){return!ot.expr.filters.hidden(e)};var Kn=/%20/g,Yn=/\[\]$/,Xn=/\r?\n/g,Qn=/^(?:submit|button|image|reset|file)$/i,Jn=/^(?:input|select|textarea|keygen)/i;ot.param=function(e,t){var n,i=[],r=function(e,t){t=ot.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(e)||e.jquery&&!ot.isPlainObject(e))ot.each(e,function(){r(this.name,this.value)});else for(n in e)W(n,e[n],t,r);return i.join("&").replace(Kn,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ot.prop(this,"elements");return e?ot.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ot(this).is(":disabled")&&Jn.test(this.nodeName)&&!Qn.test(e)&&(this.checked||!Nt.test(e))}).map(function(e,t){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(e){return{name:t.name,value:e.replace(Xn,"\r\n")}}):{name:t.name,value:n.replace(Xn,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&z()||q()}:z;var Zn=0,ei={},ti=ot.ajaxSettings.xhr();e.ActiveXObject&&ot(e).on("unload",function(){for(var e in ei)ei[e](void 0,!0)}),it.cors=!!ti&&"withCredentials"in ti,ti=it.ajax=!!ti,ti&&ot.ajaxTransport(function(e){if(!e.crossDomain||it.cors){var t;return{send:function(n,i){var r,o=e.xhr(),s=++Zn;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&o.setRequestHeader(r,n[r]+"");o.send(e.hasContent&&e.data||null),t=function(n,r){var a,l,c;if(t&&(r||4===o.readyState))if(delete ei[s],t=void 0,o.onreadystatechange=ot.noop,r)4!==o.readyState&&o.abort();else{c={},a=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(u){l=""}a||!e.isLocal||e.crossDomain?1223===a&&(a=204):a=c.text?200:404}c&&i(a,l,c,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=ei[s]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ot.globalEval(e),e}}}),ot.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ot.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=gt.head||ot("head")[0]||gt.documentElement;return{send:function(i,r){t=gt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||r(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ni=[],ii=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ni.pop()||ot.expando+"_"+Mn++;return this[e]=!0,e}}),ot.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,s,a=t.jsonp!==!1&&(ii.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ii.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=ot.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(ii,"$1"+r):t.jsonp!==!1&&(t.url+=(Rn.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||ot.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){s=arguments},i.always(function(){e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,ni.push(r)),s&&ot.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),ot.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||gt;var i=ht.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=ot.buildFragment([e],t,r),r&&r.length&&ot(r).remove(),ot.merge([],i.childNodes))};var ri=ot.fn.load;ot.fn.load=function(e,t,n){if("string"!=typeof e&&ri)return ri.apply(this,arguments);var i,r,o,s=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),ot.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&ot.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){r=arguments,s.html(i?ot("<div>").append(ot.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){s.each(n,r||[e.responseText,t,e])}),this},ot.expr.filters.animated=function(e){return ot.grep(ot.timers,function(t){return e===t.elem}).length};var oi=e.document.documentElement;ot.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,c,u=ot.css(e,"position"),d=ot(e),h={};"static"===u&&(e.style.position="relative"),a=d.offset(),o=ot.css(e,"top"),l=ot.css(e,"left"),c=("absolute"===u||"fixed"===u)&&ot.inArray("auto",[o,l])>-1,c?(i=d.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),ot.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):d.css(h)}},ot.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ot.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return t=o.documentElement,ot.contains(t,r)?(typeof r.getBoundingClientRect!==At&&(i=r.getBoundingClientRect()),n=G(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===ot.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ot.nodeName(e[0],"html")||(n=e.offset()),n.top+=ot.css(e[0],"borderTopWidth",!0),n.left+=ot.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ot.css(i,"marginTop",!0),left:t.left-n.left-ot.css(i,"marginLeft",!0)}
}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||oi;e&&!ot.nodeName(e,"html")&&"static"===ot.css(e,"position");)e=e.offsetParent;return e||oi})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ot.fn[e]=function(i){return Ft(this,function(e,i,r){var o=G(e);return void 0===r?o?t in o?o[t]:o.document.documentElement[i]:e[i]:(o?o.scrollTo(n?ot(o).scrollLeft():r,n?r:ot(o).scrollTop()):e[i]=r,void 0)},e,i,arguments.length,null)}}),ot.each(["top","left"],function(e,t){ot.cssHooks[t]=D(it.pixelPosition,function(e,n){return n?(n=nn(e,t),on.test(n)?ot(e).position()[t]+"px":n):void 0})}),ot.each({Height:"height",Width:"width"},function(e,t){ot.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){ot.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return Ft(this,function(t,n,i){var r;return ot.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?ot.css(t,n,s):ot.style(t,n,i,s)},t,o?i:void 0,o,null)}})}),ot.fn.size=function(){return this.length},ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var si=e.jQuery,ai=e.$;return ot.noConflict=function(t){return e.$===ot&&(e.$=ai),t&&e.jQuery===ot&&(e.jQuery=si),ot},typeof t===At&&(e.jQuery=e.$=ot),ot}),function(e){function t(e,t,n){for(var i=(n||0)-1,r=e.length;r>++i;)if(e[i]===t)return i;return-1}function n(e,t){var n=e.index,i=t.index;if(e=e.criteria,t=t.criteria,e!==t){if(e>t||e===Yt)return 1;if(t>e||t===Yt)return-1}return i>n?-1:1}function i(e){return"\\"+gn[e]}function r(){}function o(e){return e instanceof o?e:new s(e)}function s(e){this.__wrapped__=e}function a(e,t,n,i){function r(){var i=arguments,u=s?this:t;if(o||(e=t[a]),n.length&&(i=i.length?(i=Un.call(i),c?i.concat(n):n.concat(i)):n),this instanceof r){u=l(e.prototype);var d=e.apply(u,i);return D(d)?d:u}return e.apply(u,i)}var o=S(e),s=!n,a=t;if(s){var c=i;n=t}else if(!o){if(!i)throw new TypeError;t=e}return r}function l(e){return D(e)?Mn(e):{}}function c(e){return Gn[e]}function u(){var e=(e=o.indexOf)===ct?t:e;return e}function d(e){return Kn[e]}function h(e){return Fn.call(e)==on}function p(e){if(!e)return e;for(var t=1,n=arguments.length;n>t;t++){var i=arguments[t];if(i)for(var r in i)e[r]=i[r]}return e}function f(e){return D(e)?Wn(e)?Un.call(e):p({},e):e}function g(e){if(!e)return e;for(var t=1,n=arguments.length;n>t;t++){var i=arguments[t];if(i)for(var r in i)null==e[r]&&(e[r]=i[r])}return e}function m(e){var t=[];return Yn(e,function(e,n){S(e)&&t.push(n)}),t.sort()}function v(e,t){return e?xn.call(e,t):!1}function y(e){for(var t=-1,n=qn(e),i=n.length,r={};i>++t;){var o=n[t];r[e[o]]=o}return r}function b(e){return e===!0||e===!1||Fn.call(e)==an}function E(e){return e?"object"==typeof e&&Fn.call(e)==ln:!1}function C(e){return e?1===e.nodeType:!1}function _(e){if(!e)return!0;if(Wn(e)||N(e))return!e.length;for(var t in e)if(xn.call(e,t))return!1;return!0}function w(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;var r=typeof e,s=typeof t;if(e===e&&(!e||"function"!=r&&"object"!=r)&&(!t||"function"!=s&&"object"!=s))return!1;if(null==e||null==t)return e===t;var a=Fn.call(e),l=Fn.call(t);if(a!=l)return!1;switch(a){case an:case ln:return+e==+t;case un:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case hn:case pn:return e==t+""}var c=a==sn;if(!c){if(e instanceof o||t instanceof o)return w(e.__wrapped__||e,t.__wrapped__||t,n,i);if(a!=dn)return!1;var u=e.constructor,d=t.constructor;if(u!=d&&!(S(u)&&u instanceof u&&S(d)&&d instanceof d))return!1}n||(n=[]),i||(i=[]);for(var h=n.length;h--;)if(n[h]==e)return i[h]==t;var p=!0,f=0;if(n.push(e),i.push(t),c){if(f=t.length,p=f==e.length)for(;f--&&(p=w(e[f],t[f],n,i)););return p}return Yn(t,function(t,r,o){return xn.call(o,r)?(f++,!(p=xn.call(e,r)&&w(e[r],t,n,i))&&Qt):Yt}),p&&Yn(e,function(e,t,n){return xn.call(n,t)?!(p=--f>-1)&&Qt:Yt}),p}function A(e){return Ln(e)&&!In(parseFloat(e))}function S(e){return"function"==typeof e}function D(e){return!(!e||!fn[typeof e])}function x(e){return k(e)&&e!=+e}function T(e){return null===e}function k(e){return"number"==typeof e||Fn.call(e)==un}function F(e){return!(!e||!fn[typeof e])&&Fn.call(e)==hn}function N(e){return"string"==typeof e||Fn.call(e)==pn}function M(e){return e===Yt}function R(e){var t=u(),n=Sn.apply(bn,Un.call(arguments,1)),i={};return Yn(e,function(e,r){0>t(n,r)&&(i[r]=e)}),i}function L(e){for(var t=-1,n=qn(e),i=n.length,r=Array(i);i>++t;){var o=n[t];r[t]=[o,e[o]]}return r}function I(e){for(var t=-1,n=Sn.apply(bn,Un.call(arguments,1)),i=n.length,r={};i>++t;){var o=n[t];o in e&&(r[o]=e[o])}return r}function O(e){for(var t=-1,n=qn(e),i=n.length,r=Array(i);i>++t;)r[t]=e[n[t]];return r}function B(e,t){var n=u(),i=e?e.length:0,r=!1;return i&&"number"==typeof i?r=n(e,t)>-1:Xn(e,function(e){return(r=e===t)&&Qt}),r}function P(e,t,n){var i={};return t=Dt(t,n),H(e,function(e,n,r){n=t(e,n,r)+"",xn.call(i,n)?i[n]++:i[n]=1}),i}function $(e,t,n){var i=!0;t=Dt(t,n);var r=-1,o=e?e.length:0;if("number"==typeof o)for(;o>++r&&(i=!!t(e[r],r,e)););else Xn(e,function(e,n,r){return!(i=!!t(e,n,r))&&Qt});return i}function U(e,t,n){var i=[];t=Dt(t,n);var r=-1,o=e?e.length:0;if("number"==typeof o)for(;o>++r;){var s=e[r];t(s,r,e)&&i.push(s)}else Xn(e,function(e,n,r){t(e,n,r)&&i.push(e)});return i}function V(e,t,n){t=Dt(t,n);var i=-1,r=e?e.length:0;if("number"!=typeof r){var o;return Xn(e,function(e,n,i){return t(e,n,i)?(o=e,Qt):Yt}),o}for(;r>++i;){var s=e[i];if(t(s,i,e))return s}}function j(e,t){return rt(e,t,!0)}function H(e,t,n){var i=-1,r=e?e.length:0;if(t=t&&n===Yt?t:Dt(t,n),"number"==typeof r)for(;r>++i&&t(e[i],i,e)!==Qt;);else Xn(e,t)}function W(e,t,n){var i={};return t=Dt(t,n),H(e,function(e,n,r){n=t(e,n,r)+"",(xn.call(i,n)?i[n]:i[n]=[]).push(e)}),i}function z(e,t){var n=Un.call(arguments,2),i=-1,r="function"==typeof t,o=e?e.length:0,s=Array("number"==typeof o?o:0);return H(e,function(e){s[++i]=(r?t:e[t]).apply(e,n)}),s}function q(e,t,n){var i=-1,r=e?e.length:0;if(t=Dt(t,n),"number"==typeof r)for(var o=Array(r);r>++i;)o[i]=t(e[i],i,e);else o=[],Xn(e,function(e,n,r){o[++i]=t(e,n,r)});return o}function G(e,t,n){var i=-1/0,r=i,o=-1,s=e?e.length:0;if(t||"number"!=typeof s)t=Dt(t,n),H(e,function(e,n,o){var s=t(e,n,o);s>i&&(i=s,r=e)});else for(;s>++o;){var a=e[o];a>r&&(r=a)}return r}function K(e,t,n){var i=1/0,r=i,o=-1,s=e?e.length:0;if(t||"number"!=typeof s)t=Dt(t,n),H(e,function(e,n,o){var s=t(e,n,o);i>s&&(i=s,r=e)});else for(;s>++o;){var a=e[o];r>a&&(r=a)}return r}function Y(e,t){var n=-1,i=e?e.length:0;if("number"==typeof i)for(var r=Array(i);i>++n;)r[n]=e[n][t];return r||q(e,t)}function X(e,t,n,i){if(!e)return n;var r=3>arguments.length;t=Dt(t,i,4);var o=-1,s=e.length;if("number"==typeof s)for(r&&(n=e[++o]);s>++o;)n=t(n,e[o],o,e);else Xn(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)});return n}function Q(e,t,n,i){var r=e,o=e?e.length:0,s=3>arguments.length;if("number"!=typeof o){var a=qn(e);o=a.length}return t=Dt(t,i,4),H(e,function(e,i,l){i=a?a[--o]:--o,n=s?(s=!1,r[i]):t(n,r[i],i,l)}),n}function J(e,t,n){return t=Dt(t,n),U(e,function(e,n,i){return!t(e,n,i)})}function Z(e){var t=-1,n=e?e.length:0,i=Array("number"==typeof n?n:0);return H(e,function(e){var n=Dn($n()*(++t+1));i[t]=i[n],i[n]=e}),i}function et(e){var t=e?e.length:0;return"number"==typeof t?t:qn(e).length}function tt(e,t,n){var i;t=Dt(t,n);var r=-1,o=e?e.length:0;if("number"==typeof o)for(;o>++r&&!(i=t(e[r],r,e)););else Xn(e,function(e,n,r){return(i=t(e,n,r))&&Qt});return!!i}function nt(e,t,i){var r=-1,o=e?e.length:0,s=Array("number"==typeof o?o:0);for(t=Dt(t,i),H(e,function(e,n,i){s[++r]={criteria:t(e,n,i),index:r,value:e}}),o=s.length,s.sort(n);o--;)s[o]=s[o].value;return s}function it(e){return Wn(e)?Un.call(e):e&&"number"==typeof e.length?q(e):O(e)}function rt(e,t,n){return n&&_(t)?null:(n?V:U)(e,t)}function ot(e){for(var t=-1,n=e?e.length:0,i=[];n>++t;){var r=e[t];r&&i.push(r)}return i}function st(e){for(var t=-1,n=u(),i=e.length,r=Sn.apply(bn,Un.call(arguments,1)),o=[];i>++t;){var s=e[t];0>n(r,s)&&o.push(s)}return o}function at(e,t,n){if(e){var i=0,r=e.length;if("number"!=typeof t&&null!=t){var o=-1;for(t=Dt(t,n);r>++o&&t(e[o],o,e);)i++}else if(i=t,null==i||n)return e[0];return Un.call(e,0,Pn(Bn(0,i),r))}}function lt(e,t){for(var n=-1,i=e?e.length:0,r=[];i>++n;){var o=e[n];Wn(o)?Tn.apply(r,t?o:lt(o)):r.push(o)}return r}function ct(e,n,i){if("number"==typeof i){var r=e?e.length:0;i=0>i?Bn(0,r+i):i||0}else if(i){var o=mt(e,n);return e[o]===n?o:-1}return e?t(e,n,i):-1}function ut(e,t,n){if(!e)return[];var i=0,r=e.length;if("number"!=typeof t&&null!=t){var o=r;for(t=Dt(t,n);o--&&t(e[o],o,e);)i++}else i=null==t||n?1:t||i;return Un.call(e,0,Pn(Bn(0,r-i),r))}function dt(e){var t=arguments,n=t.length,i=-1,r=u(),o=e?e.length:0,s=[];e:for(;o>++i;){var a=e[i];if(0>r(s,a)){for(var l=n;--l;)if(0>r(t[l],a))continue e;s.push(a)}}return s}function ht(e,t,n){if(e){var i=0,r=e.length;if("number"!=typeof t&&null!=t){var o=r;for(t=Dt(t,n);o--&&t(e[o],o,e);)i++}else if(i=t,null==i||n)return e[r-1];return Un.call(e,Bn(0,r-i))}}function pt(e,t,n){var i=e?e.length:0;for("number"==typeof n&&(i=(0>n?Bn(0,i+n):Pn(n,i-1))+1);i--;)if(e[i]===t)return i;return-1}function ft(e,t,n){e=+e||0,n=+n||1,null==t&&(t=e,e=0);for(var i=-1,r=Bn(0,wn((t-e)/n)),o=Array(r);r>++i;)o[i]=e,e+=n;return o}function gt(e,t,n){if("number"!=typeof t&&null!=t){var i=0,r=-1,o=e?e.length:0;for(t=Dt(t,n);o>++r&&t(e[r],r,e);)i++}else i=null==t||n?1:Bn(0,t);return Un.call(e,i)}function mt(e,t,n,i){var r=0,o=e?e.length:r;for(n=n?Dt(n,i,1):Ot,t=n(t);o>r;){var s=r+o>>>1;t>n(e[s])?r=s+1:o=s}return r}function vt(e){return Wn(e)||(arguments[0]=e?Un.call(e):bn),yt(Sn.apply(bn,arguments))}function yt(e,t,n,i){var r=-1,o=u(),s=e?e.length:0,a=[],l=a;for("boolean"!=typeof t&&null!=t&&(i=n,n=t,t=!1),null!=n&&(l=[],n=Dt(n,i));s>++r;){var c=e[r],d=n?n(c,r,e):c;(t?!r||l[l.length-1]!==d:0>o(l,d))&&(n&&l.push(d),a.push(c))}return a}function bt(e){return st(e,Un.call(arguments,1))}function Et(e){for(var t=-1,n=e?G(Y(arguments,"length")):0,i=Array(0>n?0:n);n>++t;)i[t]=Y(arguments,t);return i}function Ct(e,t){for(var n=-1,i=e?e.length:0,r={};i>++n;){var o=e[n];t?r[o]=t[n]:r[o[0]]=o[1]}return r}function _t(e,t){return 1>e?t():function(){return 1>--e?t.apply(this,arguments):Yt}}function wt(e,t){return Hn.fastBind||Nn&&arguments.length>2?Nn.call.apply(Nn,arguments):a(e,t,Un.call(arguments,2))}function At(e){for(var t=arguments.length>1?Sn.apply(bn,Un.call(arguments,1)):m(e),n=-1,i=t.length;i>++n;){var r=t[n];e[r]=wt(e[r],e)}return e}function St(){var e=arguments;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function Dt(e,t,n){if(null==e)return Ot;var i=typeof e;if("function"!=i){if("object"!=i)return function(t){return t[e]};var r=qn(e);return function(t){for(var n=r.length,i=!1;n--&&(i=t[r[n]]===e[r[n]]););return i}}return t===Yt?e:1===n?function(n){return e.call(t,n)}:2===n?function(n,i){return e.call(t,n,i)}:4===n?function(n,i,r,o){return e.call(t,n,i,r,o)}:function(n,i,r){return e.call(t,n,i,r)}}function xt(e,t,n){function i(){a=null,n||(o=e.apply(s,r))}var r,o,s,a=null;return function(){var l=n&&!a;return r=arguments,s=this,An(a),a=kn(i,t),l&&(o=e.apply(s,r)),o}}function Tt(e){var t=Un.call(arguments,1);return kn(function(){e.apply(Yt,t)},1)}function kt(e,t){var n=Un.call(arguments,2);return kn(function(){e.apply(Yt,n)},t)}function Ft(e,t){var n={};return function(){var i=Jt+(t?t.apply(this,arguments):arguments[0]);return xn.call(n,i)?n[i]:n[i]=e.apply(this,arguments)}}function Nt(e){var t,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Mt(e){return a(e,Un.call(arguments,1))}function Rt(e,t){function n(){s=new Date,a=null,r=e.apply(o,i)}var i,r,o,s=0,a=null;return function(){var l=new Date,c=t-(l-s);return i=arguments,o=this,0>=c?(An(a),a=null,s=l,r=e.apply(o,i)):a||(a=kn(n,c)),r}}function Lt(e,t){return function(){var n=[e];return Tn.apply(n,arguments),t.apply(this,n)}}function It(e){return null==e?"":(e+"").replace(nn,c)}function Ot(e){return e}function Bt(e){H(m(e),function(t){var n=o[t]=e[t];o.prototype[t]=function(){var e=[this.__wrapped__];Tn.apply(e,arguments);var t=n.apply(o,e);return this.__chain__&&(t=new s(t),t.__chain__=!0),t}})}function Pt(){return e._=Cn,this}function $t(e,t){null==e&&null==t&&(t=1),e=+e||0,null==t?(t=e,e=0):t=+t||0;var n=$n();return e%1||t%1?e+Pn(n*(t-e+parseFloat("1e-"+((n+"").length-1))),t):e+Dn(n*(t-e+1))}function Ut(e,t){var n=e?e[t]:null;return S(n)?e[t]():n}function Vt(e,t,n){var r=o.templateSettings;e||(e=""),n=g({},n,r);var s=0,a="__p += '",l=n.variable,c=RegExp((n.escape||tn).source+"|"+(n.interpolate||tn).source+"|"+(n.evaluate||tn).source+"|$","g");e.replace(c,function(t,n,r,o,l){return a+=e.slice(s,l).replace(rn,i),n&&(a+="' +\n_.escape("+n+") +\n'"),o&&(a+="';\n"+o+";\n__p += '"),r&&(a+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=l+t.length,t}),a+="';\n",l||(l="obj",a="with ("+l+" || {}) {\n"+a+"\n}\n"),a="function("+l+") {\n"+"var __t, __p = '', __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n"+a+"return __p\n}";try{var u=Function("_","return "+a)(o)}catch(d){throw d.source=a,d}return t?u(t):(u.source=a,u)}function jt(e,t,n){for(var i=-1,r=Array(e>-1?e:0);e>++i;)r[i]=t.call(n,i);return r}function Ht(e){return null==e?"":(e+"").replace(Zt,d)}function Wt(e){var t=++Xt+"";return e?e+t:t}function zt(e){return e=new s(e),e.__chain__=!0,e}function qt(e,t){return t(e),e}function Gt(){return this.__chain__=!0,this}function Kt(){return this.__wrapped__}var Yt,Xt=0,Qt={},Jt=+new Date+"",Zt=/&(?:amp|lt|gt|quot|#39);/g,en=/<%=([\s\S]+?)%>/g,tn=/($^)/,nn=/[&<>"']/g,rn=/['\n\r\t\u2028\u2029\\]/g,on="[object Arguments]",sn="[object Array]",an="[object Boolean]",ln="[object Date]",cn="[object Function]",un="[object Number]",dn="[object Object]",hn="[object RegExp]",pn="[object String]",fn={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},gn={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},mn=fn[typeof exports]&&exports,vn=fn[typeof module]&&module&&module.exports==mn&&module,yn=fn[typeof global]&&global;!yn||yn.global!==yn&&yn.window!==yn||(e=yn);var bn=[],En=Object.prototype;String.prototype;var Cn=e._,_n=RegExp("^"+(En.valueOf+"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),wn=Math.ceil,An=e.clearTimeout,Sn=bn.concat,Dn=Math.floor,xn=En.hasOwnProperty,Tn=bn.push,kn=(En.propertyIsEnumerable,e.setTimeout),Fn=En.toString,Nn=_n.test(Nn=Fn.bind)&&Nn,Mn=_n.test(Mn=Object.create)&&Mn,Rn=_n.test(Rn=Array.isArray)&&Rn,Ln=e.isFinite,In=e.isNaN,On=_n.test(On=Object.keys)&&On,Bn=Math.max,Pn=Math.min,$n=Math.random,Un=bn.slice,Vn=_n.test(e.attachEvent),jn=Nn&&!/\n|true/.test(Nn+Vn);s.prototype=o.prototype;var Hn={};if(function(){var e={0:1,length:1};Hn.fastBind=Nn&&!jn,Hn.spliceObjects=(bn.splice.call(e,0,1),!e[0])}(1),o.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:en,variable:""},!Mn)var l=function(e){if(D(e)){r.prototype=e;var t=new r;r.prototype=null}return t||{}};h(arguments)||(h=function(e){return e?xn.call(e,"callee"):!1});var Wn=Rn||function(e){return e?"object"==typeof e&&Fn.call(e)==sn:!1},zn=function(e){var t,n=e,i=[];if(!n)return i;if(!fn[typeof e])return i;for(t in n)xn.call(n,t)&&i.push(t);return i},qn=On?function(e){return D(e)?On(e):[]}:zn,Gn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Kn=y(Gn),Yn=function(e,t){var n,i=e,r=i;if(!i)return r;if(!fn[typeof i])return r;for(n in i)if(t(i[n],n,e)===Qt)return r;return r},Xn=function(e,t){var n,i=e,r=i;if(!i)return r;if(!fn[typeof i])return r;for(n in i)if(xn.call(i,n)&&t(i[n],n,e)===Qt)return r;return r};S(/x/)&&(S=function(e){return"function"==typeof e&&Fn.call(e)==cn}),o.after=_t,o.bind=wt,o.bindAll=At,o.compact=ot,o.compose=St,o.countBy=P,o.debounce=xt,o.defaults=g,o.defer=Tt,o.delay=kt,o.difference=st,o.filter=U,o.flatten=lt,o.forEach=H,o.functions=m,o.groupBy=W,o.initial=ut,o.intersection=dt,o.invert=y,o.invoke=z,o.keys=qn,o.map=q,o.max=G,o.memoize=Ft,o.min=K,o.omit=R,o.once=Nt,o.pairs=L,o.partial=Mt,o.pick=I,o.pluck=Y,o.range=ft,o.reject=J,o.rest=gt,o.shuffle=Z,o.sortBy=nt,o.tap=qt,o.throttle=Rt,o.times=jt,o.toArray=it,o.union=vt,o.uniq=yt,o.values=O,o.where=rt,o.without=bt,o.wrap=Lt,o.zip=Et,o.collect=q,o.drop=gt,o.each=H,o.extend=p,o.methods=m,o.object=Ct,o.select=U,o.tail=gt,o.unique=yt,o.chain=zt,o.clone=f,o.contains=B,o.escape=It,o.every=$,o.find=V,o.has=v,o.identity=Ot,o.indexOf=ct,o.isArguments=h,o.isArray=Wn,o.isBoolean=b,o.isDate=E,o.isElement=C,o.isEmpty=_,o.isEqual=w,o.isFinite=A,o.isFunction=S,o.isNaN=x,o.isNull=T,o.isNumber=k,o.isObject=D,o.isRegExp=F,o.isString=N,o.isUndefined=M,o.lastIndexOf=pt,o.mixin=Bt,o.noConflict=Pt,o.random=$t,o.reduce=X,o.reduceRight=Q,o.result=Ut,o.size=et,o.some=tt,o.sortedIndex=mt,o.template=Vt,o.unescape=Ht,o.uniqueId=Wt,o.all=$,o.any=tt,o.detect=V,o.findWhere=j,o.foldl=X,o.foldr=Q,o.include=B,o.inject=X,o.first=at,o.last=ht,o.take=at,o.head=at,o.VERSION="1.3.1",Bt(o),o.prototype.chain=Gt,o.prototype.value=Kt,H(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=bn[e];o.prototype[e]=function(){var e=this.__wrapped__;return t.apply(e,arguments),Hn.spliceObjects||0!==e.length||delete e[0],this}}),H(["concat","join","slice"],function(e){var t=bn[e];o.prototype[e]=function(){var e=this.__wrapped__,n=t.apply(e,arguments);return this.__chain__&&(n=new s(n),n.__chain__=!0),n}}),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(e._=o,define("lodash",[],function(){return o})):mn&&!mn.nodeType?vn?(vn.exports=o)._=o:mn._=o:e._=o}(this),function(){var e=this,t=e.Backbone,n=[];n.push;var i=n.slice;n.splice;var r;r="undefined"!=typeof exports?exports:e.Backbone={},r.VERSION="1.1.0";var o=e._;o||void 0===require||(o=require("underscore")),r.$=e.jQuery||e.Zepto||e.ender||e.$,r.noConflict=function(){return e.Backbone=t,this},r.emulateHTTP=!1,r.emulateJSON=!1;var s=r.Events={on:function(e,t,n){if(!l(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!l(this,"once",e,[t,n])||!t)return this;var i=this,r=o.once(function(){i.off(e,r),t.apply(this,arguments)});return r._callback=t,this.on(e,r,n)},off:function(e,t,n){var i,r,s,a,c,u,d,h;if(!this._events||!l(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(a=e?[e]:o.keys(this._events),c=0,u=a.length;u>c;c++)if(e=a[c],s=this._events[e]){if(this._events[e]=i=[],t||n)for(d=0,h=s.length;h>d;d++)r=s[d],(t&&t!==r.callback&&t!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&c(n,t),r&&c(r,arguments),this},stopListening:function(e,t,n){var i=this._listeningTo;if(!i)return this;var r=!t&&!n;n||"object"!=typeof t||(n=this),e&&((i={})[e._listenId]=e);for(var s in i)e=i[s],e.off(t,n,this),(r||o.isEmpty(e._events))&&delete this._listeningTo[s];return this}},a=/\s+/,l=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(a.test(n)){for(var o=n.split(a),s=0,l=o.length;l>s;s++)e[t].apply(e,[o[s]].concat(i));return!1}return!0},c=function(e,t){var n,i=-1,r=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;r>++i;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;r>++i;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;r>++i;)(n=e[i]).callback.call(n.ctx,o,s);return;case 3:for(;r>++i;)(n=e[i]).callback.call(n.ctx,o,s,a);return;default:for(;r>++i;)(n=e[i]).callback.apply(n.ctx,t)}},u={listenTo:"on",listenToOnce:"once"};o.each(u,function(e,t){s[t]=function(t,n,i){var r=this._listeningTo||(this._listeningTo={}),s=t._listenId||(t._listenId=o.uniqueId("l"));return r[s]=t,i||"object"!=typeof n||(i=this),t[e](n,i,this),this}}),s.bind=s.on,s.unbind=s.off,o.extend(r,s);var d=r.Model=function(e,t){var n=e||{};t||(t={}),this.cid=o.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=o.defaults({},n,o.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};o.extend(d.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return o.clone(this.attributes)},sync:function(){return r.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return o.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var i,r,s,a,l,c,u,d;if(null==e)return this;if("object"==typeof e?(r=e,n=t):(r={})[e]=t,n||(n={}),!this._validate(r,n))return!1;s=n.unset,l=n.silent,a=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=o.clone(this.attributes),this.changed={}),d=this.attributes,u=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(i in r)t=r[i],o.isEqual(d[i],t)||a.push(i),o.isEqual(u[i],t)?delete this.changed[i]:this.changed[i]=t,s?delete d[i]:d[i]=t;if(!l){a.length&&(this._pending=!0);for(var h=0,p=a.length;p>h;h++)this.trigger("change:"+a[h],this,d[a[h]],n)}if(c)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,o.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,o.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!o.isEmpty(this.changed):o.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?o.clone(this.changed):!1;var t,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var r in e)o.isEqual(i[r],t=e[r])||((n||(n={}))[r]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},fetch:function(e){e=e?o.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return t.set(t.parse(i,e),e)?(n&&n(t,i,e),t.trigger("sync",t,i,e),void 0):!1},I(this,e),this.sync("read",this,e)},save:function(e,t,n){var i,r,s,a=this.attributes;if(null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t,n=o.extend({validate:!0},n),i&&!n.wait){if(!this.set(i,n))return!1}else if(!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=o.extend({},a,i)),void 0===n.parse&&(n.parse=!0);var l=this,c=n.success;return n.success=function(e){l.attributes=a;var t=l.parse(e,n);return n.wait&&(t=o.extend(i||{},t)),o.isObject(t)&&!l.set(t,n)?!1:(c&&c(l,e,n),l.trigger("sync",l,e,n),void 0)},I(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=i),s=this.sync(r,this,n),i&&n.wait&&(this.attributes=a),s},destroy:function(e){e=e?o.clone(e):{};var t=this,n=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(r){(e.wait||t.isNew())&&i(),n&&n(t,r,e),t.isNew()||t.trigger("sync",t,r,e)},this.isNew())return e.success(),!1;I(this,e);var r=this.sync("delete",this,e);return e.wait||i(),r},url:function(){var e=o.result(this,"urlRoot")||o.result(this.collection,"url")||L();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},o.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=o.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,o.extend(t,{validationError:n})),!1):!0}});var h=["keys","values","pairs","invert","pick","omit"];o.each(h,function(e){d.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.attributes),o[e].apply(o,t)}});var p=r.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,o.extend({silent:!0},t))},f={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};o.extend(p.prototype,s,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return r.sync.apply(this,arguments)},add:function(e,t){return this.set(e,o.extend({merge:!1},t,g))},remove:function(e,t){var n=!o.isArray(e);e=n?[e]:o.clone(e),t||(t={});var i,r,s,a;for(i=0,r=e.length;r>i;i++)a=e[i]=this.get(e[i]),a&&(delete this._byId[a.id],delete this._byId[a.cid],s=this.indexOf(a),this.models.splice(s,1),this.length--,t.silent||(t.index=s,a.trigger("remove",a,this,t)),this._removeReference(a));return n?e[0]:e},set:function(e,t){t=o.defaults({},t,f),t.parse&&(e=this.parse(e,t));var n=!o.isArray(e);e=n?e?[e]:[]:o.clone(e);var i,r,s,a,l,c,u,h=t.at,p=this.model,g=this.comparator&&null==h&&t.sort!==!1,m=o.isString(this.comparator)?this.comparator:null,v=[],y=[],b={},E=t.add,C=t.merge,_=t.remove,w=!g&&E&&_?[]:!1;for(i=0,r=e.length;r>i;i++){if(l=e[i],s=l instanceof d?a=l:l[p.prototype.idAttribute],c=this.get(s))_&&(b[c.cid]=!0),C&&(l=l===a?a.attributes:l,t.parse&&(l=c.parse(l,t)),c.set(l,t),g&&!u&&c.hasChanged(m)&&(u=!0)),e[i]=c;else if(E){if(a=e[i]=this._prepareModel(l,t),!a)continue;v.push(a),a.on("all",this._onModelEvent,this),this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a)}w&&w.push(c||a)}if(_){for(i=0,r=this.length;r>i;++i)b[(a=this.models[i]).cid]||y.push(a);y.length&&this.remove(y,t)}if(v.length||w&&w.length)if(g&&(u=!0),this.length+=v.length,null!=h)for(i=0,r=v.length;r>i;i++)this.models.splice(h+i,0,v[i]);else{w&&(this.models.length=0);var A=w||v;for(i=0,r=A.length;r>i;i++)this.models.push(A[i])}if(u&&this.sort({silent:!0}),!t.silent){for(i=0,r=v.length;r>i;i++)(a=v[i]).trigger("add",a,this,t);(u||w&&w.length)&&this.trigger("sort",this,t)}return n?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),e=this.add(e,o.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,o.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,o.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return i.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e.id]||this._byId[e.cid]||this._byId[e]},at:function(e){return this.models[e]},where:function(e,t){return o.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw Error("Cannot sort a set without a comparator");return e||(e={}),o.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(o.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return o.invoke(this.models,"get",e)},fetch:function(e){e=e?o.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var r=e.reset?"reset":"set";n[r](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},I(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?o.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,i=t.success;return t.success=function(e,t,r){r.wait&&n.add(e,r),i&&i(e,t,r)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e.collection||(e.collection=this),e;t=t?o.clone(t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var m=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];o.each(m,function(e){p.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.models),o[e].apply(o,t)}});var v=["groupBy","countBy","sortBy"];o.each(v,function(e){p.prototype[e]=function(t,n){var i=o.isFunction(t)?t:function(e){return e.get(t)};return o[e](this.models,i,n)}});var y=r.View=function(e){this.cid=o.uniqueId("view"),e||(e={}),o.extend(this,o.pick(e,E)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName","events"];o.extend(y.prototype,s,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof r.$?e:r.$(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=o.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(o.isFunction(n)||(n=this[e[t]]),n){var i=t.match(b),r=i[1],s=i[2];n=o.bind(n,this),r+=".delegateEvents"+this.cid,""===s?this.$el.on(r,n):this.$el.on(r,s,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(o.result(this,"el"),!1);else{var e=o.extend({},o.result(this,"attributes"));this.id&&(e.id=o.result(this,"id")),this.className&&(e["class"]=o.result(this,"className"));var t=r.$("<"+o.result(this,"tagName")+">").attr(e);this.setElement(t,!1)}}}),r.sync=function(e,t,n){var i=_[e];o.defaults(n||(n={}),{emulateHTTP:r.emulateHTTP,emulateJSON:r.emulateJSON});var s={type:i,dataType:"json"};if(n.url||(s.url=o.result(t,"url")||L()),null!=n.data||!t||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(n.attrs||t.toJSON(n))),n.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),n.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){s.type="POST",n.emulateJSON&&(s.data._method=i);var a=n.beforeSend;n.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",i),a?a.apply(this,arguments):void 0}}"GET"===s.type||n.emulateJSON||(s.processData=!1),"PATCH"===s.type&&C&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=n.xhr=r.ajax(o.extend(s,n));return t.trigger("request",t,l,n),l};var C=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),_={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};r.ajax=function(){return r.$.ajax.apply(r.$,arguments)};var w=r.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,D=/\*\w+/g,x=/[\-{}\[\]+?.,\\\^$|#\s]/g;
o.extend(w.prototype,s,{initialize:function(){},route:function(e,t,n){o.isRegExp(e)||(e=this._routeToRegExp(e)),o.isFunction(t)&&(n=t,t=""),n||(n=this[t]);var i=this;return r.history.route(e,function(o){var s=i._extractParameters(e,o);n&&n.apply(i,s),i.trigger.apply(i,["route:"+t].concat(s)),i.trigger("route",t,s),r.history.trigger("route",i,t,s)}),this},navigate:function(e,t){return r.history.navigate(e,t),this},_bindRoutes:function(){if(this.routes){this.routes=o.result(this,"routes");for(var e,t=o.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(x,"\\$&").replace(A,"(?:$1)?").replace(S,function(e,t){return t?e:"([^/]+)"}).replace(D,"(.*?)"),RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return o.map(n,function(e){return e?decodeURIComponent(e):null})}});var T=r.History=function(){this.handlers=[],o.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},k=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,N=/msie [\w.]+/,M=/\/$/;T.started=!1,o.extend(T.prototype,s,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(M,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(k,"")},start:function(e){if(T.started)throw Error("Backbone.history has already been started");T.started=!0,this.options=o.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),n=document.documentMode,i=N.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);this.root=("/"+this.root+"/").replace(F,"/"),i&&this._wantsHashChange&&(this.iframe=r.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?r.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?r.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var s=this.location,a=s.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!a)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&a&&s.hash&&(this.fragment=this.getHash().replace(k,""),this.history.replaceState({},document.title,this.root+this.fragment+s.search))}return this.options.silent?void 0:this.loadUrl()},stop:function(){r.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),T.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl(),void 0)},loadUrl:function(e){return e=this.fragment=this.getFragment(e),o.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!T.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),r.history=new T;var R=function(e,t){var n,i=this;n=e&&o.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},o.extend(n,i,t);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,e&&o.extend(n.prototype,e),n.__super__=i.prototype,n};d.extend=p.extend=w.extend=y.extend=T.extend=R;var L=function(){throw Error('A "url" property or function must be specified')},I=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}}}.call(this),define("backbone",["lodash","jquery"],function(e){return function(){var t;return t||e.Backbone}}(this)),!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault(),t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var i=e(this),r=i.data("modal"),o=e.extend({},e.fn.modal.defaults,i.data(),"object"==typeof n&&n);r||i.data("modal",r=new t(this,o)),"string"==typeof n?r[n]():o.show&&r.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),i=n.attr("href"),r=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},r.data(),n.data());t.preventDefault(),r.modal(o).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){"use strict";function t(){e(".dropdown-backdrop").remove(),e(i).each(function(){n(e(this)).removeClass("open")})}function n(t){var n,i=t.attr("data-target");return i||(i=t.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=i&&e(i),n&&n.length||(n=t.parent()),n}var i="[data-toggle=dropdown]",r=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(){var i,r,o=e(this);if(!o.is(".disabled, :disabled"))return i=n(o),r=i.hasClass("open"),t(),r||("ontouchstart"in document.documentElement&&e('<div class="dropdown-backdrop"/>').insertBefore(e(this)).on("click",t),i.toggleClass("open")),o.focus(),!1},keydown:function(t){var r,o,s,a,l;if(/(38|40|27)/.test(t.keyCode)&&(r=e(this),t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled"))){if(s=n(r),a=s.hasClass("open"),!a||a&&27==t.keyCode)return 27==t.which&&s.find(i).focus(),r.click();o=e("[role=menu] li:not(.divider):visible a",s),o.length&&(l=o.index(o.filter(":focus")),38==t.keyCode&&l>0&&l--,40==t.keyCode&&o.length-1>l&&l++,~l||(l=0),o.eq(l).focus())}}};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.dropdown.data-api",t).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",i,r.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",r.prototype.keydown)}(window.jQuery),!function(e){"use strict";function t(t,n){var i,r=e.proxy(this.process,this),o=e(t).is("body")?e(window):e(t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=o.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(i=e(t).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t,n=this;this.offsets=e([]),this.targets=e([]),t=this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),r=/^#\w/.test(i)&&e(i);return r&&r.length&&[[r.position().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(t>=i)return s!=(e=o.last()[0])&&this.activate(e);for(e=r.length;e--;)s!=o[e]&&t>=r[e]&&(!r[e+1]||r[e+1]>=t)&&this.activate(o[e])},activate:function(t){var n,i;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var i=e(this),r=i.data("scrollspy"),o="object"==typeof n&&n;r||i.data("scrollspy",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,i,r=this.element,o=r.closest("ul:not(.dropdown-menu)"),s=r.attr("data-target");s||(s=r.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(t=o.find(".active:last a")[0],i=e.Event("show",{relatedTarget:t}),r.trigger(i),i.isDefaultPrevented()||(n=e(s),this.activate(r.parent("li"),o),this.activate(n,n.parent(),function(){r.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),s=i&&e.support.transition&&o.hasClass("fade");s?o.one(e.support.transition.end,r):r(),o.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var i=e(this),r=i.data("tab");r||i.data("tab",r=new t(this)),"string"==typeof n&&r[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,i){var r,o,s,a,l;for(this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.enabled=!0,s=this.options.trigger.split(" "),l=s.length;l--;)a=s[l],"click"==a?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=a&&(r="hover"==a?"mouseenter":"focus",o="hover"==a?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n,i=e.fn[this.type].defaults,r={};return this._options&&e.each(this._options,function(e,t){i[e]!=t&&(r[e]=t)},this),n=e(t.currentTarget)[this.type](r).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var t,n,i,r,o,s,a=e.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(a),a.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),i=t[0].offsetWidth,r=t[0].offsetHeight,o){case"bottom":s={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":s={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":s={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":s={top:n.top+n.height/2-r/2,left:n.left+n.width}}this.applyPlacement(s,o),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n,i,r,o,s=this.tip(),a=s[0].offsetWidth,l=s[0].offsetHeight;s.offset(e).addClass(t).addClass("in"),n=s[0].offsetWidth,i=s[0].offsetHeight,"top"==t&&i!=l&&(e.top=e.top+l-i,o=!0),"bottom"==t||"top"==t?(r=0,0>e.left&&(r=-2*e.left,e.left=0,s.offset(e),n=s[0].offsetWidth,i=s[0].offsetHeight),this.replaceArrow(r-a+n,n,"left")):this.replaceArrow(i-l,i,"top"),o&&s.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var n=this.tip(),i=e.Event("hide");return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),r=i.data("tooltip"),o="object"==typeof n&&n;r||i.data("tooltip",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=("function"==typeof n.content?n.content.call(t[0]):n.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),r=i.data("popover"),o="object"==typeof n&&n;r||i.data("popover",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,n=e(document).height(),i=this.$window.scrollTop(),r=this.$element.offset(),o=this.options.offset,s=o.bottom,a=o.top,l="affix affix-top affix-bottom";"object"!=typeof o&&(s=a=o),"function"==typeof a&&(a=o.top()),"function"==typeof s&&(s=o.bottom()),t=null!=this.unpin&&i+this.unpin<=r.top?!1:null!=s&&r.top+this.$element.height()>=n-s?"bottom":null!=a&&a>=i?"top":!1,this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?r.top-i:null,this.$element.removeClass(l).addClass("affix"+(t?"-"+t:"")))}};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var i=e(this),r=i.data("affix"),o="object"==typeof n&&n;r||i.data("affix",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){i.trigger("closed").remove()}var i,r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),i=e(o),t&&t.preventDefault(),i.length||(i=r.hasClass("alert")?r:r.parent()),i.trigger(t=e.Event("close")),t.isDefaultPrevented()||(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,n):n())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),r=i.data("alert");r||i.data("alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.data(),r=n.is("input")?"val":"html";e+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var i=e(this),r=i.data("button"),o="object"==typeof n&&n;r||i.data("button",r=new t(this,o)),"toggle"==n?r.toggle():n&&r.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,i,r;if(!this.transitioning&&!this.$element.hasClass("in")){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(r=i.data("collapse"),r&&r.transitioning)return;i.collapse("hide"),r||i.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;!this.transitioning&&this.$element.hasClass("in")&&(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,i){var r=this,o=function(){"show"==n.type&&r.reset(),r.transitioning=0,r.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var i=e(this),r=i.data("collapse"),o=e.extend({},e.fn.collapse.defaults,i.data(),"object"==typeof n&&n);r||i.data("collapse",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n,i=e(this),r=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=e(r).data("collapse")?"toggle":i.data();i[e(r).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(r).collapse(o)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var n=this.getActiveIndex(),i=this;if(!(t>this.$items.length-1||0>t))return this.sliding?this.$element.one("slid",function(){i.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(t,n){var i,r=this.$element.find(".item.active"),o=n||r[t](),s=this.interval,a="next"==t?"left":"right",l="next"==t?"first":"last",c=this;if(this.sliding=!0,s&&this.pause(),o=o.length?o:this.$element.find(".item")[l](),i=e.Event("slide",{relatedTarget:o[0],direction:a}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(c.$indicators.children()[c.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;o.addClass(t),o[0].offsetWidth,r.addClass(a),o.addClass(a),this.$element.one(e.support.transition.end,function(){o.removeClass([t,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var i=e(this),r=i.data("carousel"),o=e.extend({},e.fn.carousel.defaults,"object"==typeof n&&n),s="string"==typeof n?n:o.slide;r||i.data("carousel",r=new t(this,o)),"number"==typeof n?r.to(n):s?r[s]():o.interval&&r.pause().cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n,i,r=e(this),o=e(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},o.data(),r.data());o.carousel(s),(i=r.attr("data-slide-to"))&&o.data("carousel").pause().to(i).cycle(),t.preventDefault()})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var t;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,t?this.process(t):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],i=[],r=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?i.push(t):r.push(t):n.push(t);return n.concat(i,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,i){return t=e(n.options.item).attr("data-value",i),t.find("a").html(n.highlighter(i)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(){var t=this.$menu.find(".active").removeClass("active"),n=t.next();n.length||(n=e(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var e=this.$menu.find(".active").removeClass("active"),t=e.prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()
}e.stopPropagation(),e.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var i=e(this),r=i.data("typeahead"),o="object"==typeof n&&n;r||i.data("typeahead",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var t=e(this);t.data("typeahead")||t.typeahead(t.data())})}(window.jQuery),define("bootstrap",["jquery"],function(e){return function(){var t;return t||e.Bootstrap}}(this)),define("constants",[],function(){var e={MISC:{TRAY_TOGGLE_SPEED:250,DEFAULT_PAGE_SIZE:20,MODAL_BACKDROP_Z_INDEX:1025},DATABASES:{DOCUMENT_LIMIT:100},EVENTS:{TRAY_CLOSED:"tray:closed",TRAY_OPENED:"tray:opened",TRAY_HIDE:"tray:hide",NAVBAR_SIZE_CHANGED:"navbar:size_changed"},DOC_URLS:{GENERAL:"http://docs.couchdb.org/en/latest/intro/api.html#documents",ALL_DBS:"http://docs.couchdb.org/en/latest/api/server/common.html?highlight=all_dbs#get--_all_dbs",REPLICATION:"http://docs.couchdb.org/en/latest/replication/replicator.html#basics",DESIGN_DOCS:"http://docs.couchdb.org/en/latest/couchapp/ddocs.html#design-docs",DESIGN_DOC_METADATA:"http://docs.couchdb.org/en/latest/api/ddoc/common.html#api-ddoc-view-index-info",VIEW_FUNCS:"http://docs.couchdb.org/en/latest/couchapp/ddocs.html#view-functions",MAP_FUNCS:"http://docs.couchdb.org/en/latest/couchapp/ddocs.html#map-functions",REDUCE_FUNCS:"http://docs.couchdb.org/en/latest/couchapp/ddocs.html#reduce-and-rereduce-functions",API_REF:"http://docs.couchdb.org/en/latest/http-api.html",DB_PERMISSION:"http://docs.couchdb.org/en/latest/api/database/security.html#db-security",STATS:"http://docs.couchdb.org/en/latest/api/server/common.html?highlight=stats#get--_stats",ACTIVE_TASKS:"http://docs.couchdb.org/en/latest/api/server/common.html?highlight=stats#active-tasks",LOG:"http://docs.couchdb.org/en/latest/api/server/common.html?highlight=stats#log",CONFIG:"http://docs.couchdb.org/en/latest/config/index.html",VIEWS:"http://docs.couchdb.org/en/latest/intro/overview.html#views",MANGO_INDEX:"http://docs.couchdb.org/en/latest/intro/api.html#documents",MANGO_SEARCH:"http://docs.couchdb.org/en/latest/intro/api.html#documents",CHANGES:"http://docs.couchdb.org/en/latest/api/database/changes.html?highlight=changes#post--db-_changes"},LOCAL_STORAGE:{SIDEBAR_MINIMIZED:"sidebar-minimized"}};return e}),define("core/utils",["jquery","lodash"],function(e,t){var n={},i={getParams:function(e){e&&("?"===e.substring(0,1)?e=e.substring(1):e.indexOf("?")>-1&&(e=e.split("?")[1]));var t=window.location.hash.split("?")[1];e=e||t||window.location.search.substring(1);var n,i={},r=/\+/g,o=/([^&=]+)=?([^&]*)/g,s=function(e){return decodeURIComponent(e.replace(r," "))},a=e;if(e)for(;n=o.exec(a);)i[s(n[1])]=s(n[2]);return i},replaceQueryParams:function(n){var i=window.location.hash.replace(/\?.*$/,"");return t.isEmpty(n)||(i=i+"?"+e.param(n)),i},addWindowResize:function(e,t){n[t]=e},removeWindowResize:function(e){delete n[e],i.initWindowResize()},initWindowResize:function(){window.onresize=function(){t.each(n,function(e){e()})}},removeSpecialCharacters:function(e){return e.replace(/[^\w\s]/gi,"")},safeURLName:function(e){var t=e||"",n=t.match(/[\$\-/,+-]/g);return null!==n?encodeURIComponent(e):e},localStorageSet:function(e,n){(t.isObject(n)||t.isArray(n))&&(n=JSON.stringify(n));var i=!0;try{window.localStorage.setItem(e,n)}catch(r){i=!1}return i},localStorageGet:function(e){var n;if(t.has(window.localStorage,e)){n=window.localStorage[e];try{return JSON.parse(n)}catch(i){return n}}return n}};return i}),!function(){function e(e,t){return t>e?-1:e>t?1:e>=t?0:0/0}function t(e){return null!=e&&!isNaN(e)}function n(e){return{left:function(t,n,i,r){for(3>arguments.length&&(i=0),4>arguments.length&&(r=t.length);r>i;){var o=i+r>>>1;0>e(t[o],n)?i=o+1:r=o}return i},right:function(t,n,i,r){for(3>arguments.length&&(i=0),4>arguments.length&&(r=t.length);r>i;){var o=i+r>>>1;e(t[o],n)>0?r=o:i=o+1}return i}}}function i(e){return e.length}function r(e){for(var t=1;e*t%1;)t*=10;return t}function o(e,t){try{for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}catch(i){e.prototype=t}}function s(){}function a(e){return sa+e in this}function l(e){return e=sa+e,e in this&&delete this[e]}function c(){var e=[];return this.forEach(function(t){e.push(t)}),e}function u(){var e=0;for(var t in this)t.charCodeAt(0)===aa&&++e;return e}function d(){for(var e in this)if(e.charCodeAt(0)===aa)return!1;return!0}function h(){}function p(e,t,n){return function(){var i=n.apply(t,arguments);return i===t?e:i}}function f(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.substring(1);for(var n=0,i=la.length;i>n;++n){var r=la[n]+t;if(r in e)return r}}function g(){}function m(){}function v(e){function t(){for(var t,i=n,r=-1,o=i.length;o>++r;)(t=i[r].on)&&t.apply(this,arguments);return e}var n=[],i=new s;return t.on=function(t,r){var o,s=i.get(t);return 2>arguments.length?s&&s.on:(s&&(s.on=null,n=n.slice(0,o=n.indexOf(s)).concat(n.slice(o+1)),i.remove(t)),r&&n.push(i.set(t,{on:r})),e)},t}function y(){zs.event.preventDefault()}function b(){for(var e,t=zs.event;e=t.sourceEvent;)t=e;return t}function E(e){for(var t=new m,n=0,i=arguments.length;i>++n;)t[arguments[n]]=v(t);return t.of=function(n,i){return function(r){try{var o=r.sourceEvent=zs.event;r.target=e,zs.event=r,t[r.type].apply(n,i)}finally{zs.event=o}}},t}function C(e){return ua(e,ga),e}function _(e){return"function"==typeof e?e:function(){return da(e,this)}}function w(e){return"function"==typeof e?e:function(){return ha(e,this)}}function A(e,t){function n(){this.removeAttribute(e)}function i(){this.removeAttributeNS(e.space,e.local)}function r(){this.setAttribute(e,t)}function o(){this.setAttributeNS(e.space,e.local,t)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function a(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=zs.ns.qualify(e),null==t?e.local?i:n:"function"==typeof t?e.local?a:s:e.local?o:r}function S(e){return e.trim().replace(/\s+/g," ")}function D(e){return RegExp("(?:^|\\s+)"+zs.requote(e)+"(?:\\s+|$)","g")}function x(e){return(e+"").trim().split(/^|\s+/)}function T(e,t){function n(){for(var n=-1;r>++n;)e[n](this,t)}function i(){for(var n=-1,i=t.apply(this,arguments);r>++n;)e[n](this,i)}e=x(e).map(k);var r=e.length;return"function"==typeof t?i:n}function k(e){var t=D(e);return function(n,i){if(r=n.classList)return i?r.add(e):r.remove(e);var r=n.getAttribute("class")||"";i?(t.lastIndex=0,t.test(r)||n.setAttribute("class",S(r+" "+e))):n.setAttribute("class",S(r.replace(t," ")))}}function F(e,t,n){function i(){this.style.removeProperty(e)}function r(){this.style.setProperty(e,t,n)}function o(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}return null==t?i:"function"==typeof t?o:r}function N(e,t){function n(){delete this[e]}function i(){this[e]=t}function r(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?r:i}function M(e){return"function"==typeof e?e:(e=zs.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,e)}}function R(e){return{__data__:e}}function L(e){return function(){return fa(this,e)}}function I(t){return arguments.length||(t=e),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function O(e,t){for(var n=0,i=e.length;i>n;n++)for(var r,o=e[n],s=0,a=o.length;a>s;s++)(r=o[s])&&t(r,s,n);return e}function B(e){return ua(e,va),e}function P(e){var t,n;return function(i,r,o){var s,a=e[o].update,l=a.length;for(o!=n&&(n=o,t=0),r>=t&&(t=r+1);!(s=a[t])&&l>++t;);return s}}function $(){var e=this.__transition__;e&&++e.active}function U(e,t,n){function i(){var t=this[s];t&&(this.removeEventListener(e,t,t.$),delete this[s])}function r(){var r=l(t,Gs(arguments));i.call(this),this.addEventListener(e,this[s]=r,r.$=n),r._=t}function o(){var t,n=RegExp("^__on([^.]+)"+zs.requote(e)+"$");for(var i in this)if(t=i.match(n)){var r=this[i];this.removeEventListener(t[1],r,r.$),delete this[i]}}var s="__on"+e,a=e.indexOf("."),l=V;a>0&&(e=e.substring(0,a));var c=ba.get(e);return c&&(e=c,l=j),a?t?r:i:t?g:o}function V(e,t){return function(n){var i=zs.event;zs.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{zs.event=i}}}function j(e,t){var n=V(e,t);return function(e){var t=this,i=e.relatedTarget;i&&(i===t||8&i.compareDocumentPosition(t))||n.call(t,e)}}function H(){var e=".dragsuppress-"+ ++Ca,t="click"+e,n=zs.select(Xs).on("touchmove"+e,y).on("dragstart"+e,y).on("selectstart"+e,y);if(Ea){var i=Ys.style,r=i[Ea];i[Ea]="none"}return function(o){function s(){n.on(t,null)}n.on(e,null),Ea&&(i[Ea]=r),o&&(n.on(t,function(){y(),s()},!0),setTimeout(s,0))}}function W(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();if(0>_a&&(Xs.scrollX||Xs.scrollY)){n=zs.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var r=n[0][0].getScreenCTM();_a=!(r.f||r.e),n.remove()}return _a?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}function z(){return zs.event.changedTouches[0].identifier}function q(){return zs.event.target}function G(){return Xs}function K(e){return e>0?1:0>e?-1:0}function Y(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function X(e){return e>1?0:-1>e?wa:Math.acos(e)}function Q(e){return e>1?Sa:-1>e?-Sa:Math.asin(e)}function J(e){return((e=Math.exp(e))-1/e)/2}function Z(e){return((e=Math.exp(e))+1/e)/2}function et(e){return((e=Math.exp(2*e))-1)/(e+1)}function tt(e){return(e=Math.sin(e/2))*e}function nt(){}function it(e,t,n){return this instanceof it?(this.h=+e,this.s=+t,void(this.l=+n)):2>arguments.length?e instanceof it?new it(e.h,e.s,e.l):vt(""+e,yt,it):new it(e,t,n)}function rt(e,t,n){function i(e){return e>360?e-=360:0>e&&(e+=360),60>e?o+(s-o)*e/60:180>e?s:240>e?o+(s-o)*(240-e)/60:o}function r(e){return Math.round(255*i(e))}var o,s;return e=isNaN(e)?0:0>(e%=360)?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,s=.5>=n?n*(1+t):n+t-n*t,o=2*n-s,new pt(r(e+120),r(e),r(e-120))}function ot(e,t,n){return this instanceof ot?(this.h=+e,this.c=+t,void(this.l=+n)):2>arguments.length?e instanceof ot?new ot(e.h,e.c,e.l):e instanceof at?ct(e.l,e.a,e.b):ct((e=bt((e=zs.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new ot(e,t,n)}function st(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new at(n,Math.cos(e*=Ta)*t,Math.sin(e)*t)}function at(e,t,n){return this instanceof at?(this.l=+e,this.a=+t,void(this.b=+n)):2>arguments.length?e instanceof at?new at(e.l,e.a,e.b):e instanceof ot?st(e.l,e.c,e.h):bt((e=pt(e)).r,e.g,e.b):new at(e,t,n)}function lt(e,t,n){var i=(e+16)/116,r=i+t/500,o=i-n/200;return r=ut(r)*$a,i=ut(i)*Ua,o=ut(o)*Va,new pt(ht(3.2404542*r-1.5371385*i-.4985314*o),ht(-.969266*r+1.8760108*i+.041556*o),ht(.0556434*r-.2040259*i+1.0572252*o))}function ct(e,t,n){return e>0?new ot(Math.atan2(n,t)*ka,Math.sqrt(t*t+n*n),e):new ot(0/0,0/0,e)}function ut(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function dt(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ht(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function pt(e,t,n){return this instanceof pt?(this.r=~~e,this.g=~~t,void(this.b=~~n)):2>arguments.length?e instanceof pt?new pt(e.r,e.g,e.b):vt(""+e,pt,rt):new pt(e,t,n)}function ft(e){return new pt(e>>16,255&e>>8,255&e)}function gt(e){return ft(e)+""}function mt(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function vt(e,t,n){var i,r,o,s=0,a=0,l=0;if(i=/([a-z]+)\((.*)\)/i.exec(e))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return t(Ct(r[0]),Ct(r[1]),Ct(r[2]))}return(o=Wa.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.substring(1),16))||(4===e.length?(s=(3840&o)>>4,s=s>>4|s,a=240&o,a=a>>4|a,l=15&o,l=l<<4|l):7===e.length&&(s=(16711680&o)>>16,a=(65280&o)>>8,l=255&o)),t(s,a,l))}function yt(e,t,n){var i,r,o=Math.min(e/=255,t/=255,n/=255),s=Math.max(e,t,n),a=s-o,l=(s+o)/2;return a?(r=.5>l?a/(s+o):a/(2-s-o),i=e==s?(t-n)/a+(n>t?6:0):t==s?(n-e)/a+2:(e-t)/a+4,i*=60):(i=0/0,r=l>0&&1>l?0:i),new it(i,r,l)}function bt(e,t,n){e=Et(e),t=Et(t),n=Et(n);var i=dt((.4124564*e+.3575761*t+.1804375*n)/$a),r=dt((.2126729*e+.7151522*t+.072175*n)/Ua),o=dt((.0193339*e+.119192*t+.9503041*n)/Va);return at(116*r-16,500*(i-r),200*(r-o))}function Et(e){return.04045>=(e/=255)?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Ct(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function _t(e){return"function"==typeof e?e:function(){return e}}function wt(e){return e}function At(e){return function(t,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),St(t,n,e,i)}}function St(e,t,n,i){function r(){var e,t=l.status;if(!t&&l.responseText||t>=200&&300>t||304===t){try{e=n.call(o,l)}catch(i){return s.error.call(o,i),void 0}s.load.call(o,e)}else s.error.call(o,l)}var o={},s=zs.dispatch("beforesend","progress","load","error"),a={},l=new XMLHttpRequest,c=null;return!Xs.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(e)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(e){var t=zs.event;zs.event=e;try{s.progress.call(o,l)}finally{zs.event=t}},o.header=function(e,t){return e=(e+"").toLowerCase(),2>arguments.length?a[e]:(null==t?delete a[e]:a[e]=t+"",o)},o.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",o):t},o.responseType=function(e){return arguments.length?(c=e,o):c},o.response=function(e){return n=e,o},["get","post"].forEach(function(e){o[e]=function(){return o.send.apply(o,[e].concat(Gs(arguments)))}}),o.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),l.open(n,e,!0),null==t||"accept"in a||(a.accept=t+",*/*"),l.setRequestHeader)for(var u in a)l.setRequestHeader(u,a[u]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=c&&(l.responseType=c),null!=r&&o.on("error",r).on("load",function(e){r(null,e)}),s.beforesend.call(o,l),l.send(null==i?null:i),o},o.abort=function(){return l.abort(),o},zs.rebind(o,s,"on"),null==i?o:o.get(Dt(i))}function Dt(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function xt(){var e=Tt(),t=kt()-e;t>24?(isFinite(t)&&(clearTimeout(Ka),Ka=setTimeout(xt,t)),Ga=0):(Ga=1,Xa(xt))}function Tt(){var e=Date.now();for(Ya=za;Ya;)e>=Ya.t&&(Ya.f=Ya.c(e-Ya.t)),Ya=Ya.n;return e}function kt(){for(var e,t=za,n=1/0;t;)t.f?t=e?e.n=t.n:za=t.n:(n>t.t&&(n=t.t),t=(e=t).n);return qa=e,n}function Ft(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Nt(e,t){var n=Math.pow(10,3*oa(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Mt(e){var t=e.decimal,n=e.thousands,i=e.grouping,r=e.currency,o=i?function(e){for(var t=e.length,r=[],o=0,s=i[0];t>0&&s>0;)r.push(e.substring(t-=s,t+s)),s=i[o=(o+1)%i.length];return r.reverse().join(n)}:wt;return function(e){var n=Ja.exec(e),i=n[1]||" ",s=n[2]||">",a=n[3]||"",l=n[4]||"",c=n[5],u=+n[6],d=n[7],h=n[8],p=n[9],f=1,g="",m="",v=!1;switch(h&&(h=+h.substring(1)),(c||"0"===i&&"="===s)&&(c=i="0",s="=",d&&(u-=Math.floor((u-1)/4))),p){case"n":d=!0,p="g";break;case"%":f=100,m="%",p="f";break;case"p":f=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+p.toLowerCase());case"c":case"d":v=!0,h=0;break;case"s":f=-1,p="r"}"$"===l&&(g=r[0],m=r[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):("e"==p||"f"==p)&&(h=Math.max(0,Math.min(20,h)))),p=Za.get(p)||Rt;var y=c&&d;return function(e){var n=m;if(v&&e%1)return"";var r=0>e||0===e&&0>1/e?(e=-e,"-"):a;if(0>f){var l=zs.formatPrefix(e,h);e=l.scale(e),n=l.symbol+m}else e*=f;e=p(e,h);var b=e.lastIndexOf("."),E=0>b?e:e.substring(0,b),C=0>b?"":t+e.substring(b+1);!c&&d&&(E=o(E));var _=g.length+E.length+C.length+(y?0:r.length),w=u>_?Array(_=u-_+1).join(i):"";return y&&(E=o(w+E)),r+=g,e=E+C,("<"===s?r+e+w:">"===s?w+r+e:"^"===s?w.substring(0,_>>=1)+r+e+w.substring(_):r+(y?e:w+e))+n}}}function Rt(e){return e+""}function Lt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function It(e,t,n){function i(t){var n=e(t),i=o(n,1);return i-t>t-n?n:i}function r(n){return t(n=e(new tl(n-1)),1),n}function o(e,n){return t(e=new tl(+e),n),e}function s(e,i,o){var s=r(e),a=[];if(o>1)for(;i>s;)n(s)%o||a.push(new Date(+s)),t(s,1);else for(;i>s;)a.push(new Date(+s)),t(s,1);return a}function a(e,t,n){try{tl=Lt;var i=new Lt;return i._=e,s(i,t,n)}finally{tl=Date}}e.floor=e,e.round=i,e.ceil=r,e.offset=o,e.range=s;var l=e.utc=Ot(e);return l.floor=l,l.round=Ot(i),l.ceil=Ot(r),l.offset=Ot(o),l.range=a,e}function Ot(e){return function(t,n){try{tl=Lt;var i=new Lt;return i._=t,e(i,n)._}finally{tl=Date}}}function Bt(e){function t(e){function t(t){for(var n,r,o,s=[],a=-1,l=0;i>++a;)37===e.charCodeAt(a)&&(s.push(e.substring(l,a)),null!=(r=il[n=e.charAt(++a)])&&(n=e.charAt(++a)),(o=T[n])&&(n=o(t,null==r?"e"===n?" ":"0":r)),s.push(n),l=a+1);return s.push(e.substring(l,a)),s.join("")}var i=e.length;return t.parse=function(t){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=n(i,e,t,0);if(r!=t.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var o=null!=i.Z&&tl!==Lt,s=new(o?Lt:tl);return"j"in i?s.setFullYear(i.y,0,i.j):"w"in i&&("W"in i||"U"in i)?(s.setFullYear(i.y,0,1),s.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(s.getDay()+5)%7:i.w+7*i.U-(s.getDay()+6)%7)):s.setFullYear(i.y,i.m,i.d),s.setHours(i.H+Math.floor(i.Z/100),i.M+i.Z%100,i.S,i.L),o?s._:s},t.toString=function(){return e},t}function n(e,t,n,i){for(var r,o,s,a=0,l=t.length,c=n.length;l>a;){if(i>=c)return-1;if(r=t.charCodeAt(a++),37===r){if(s=t.charAt(a++),o=k[s in il?t.charAt(a++):s],!o||0>(i=o(e,n,i)))return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(e,t,n){_.lastIndex=0;var i=_.exec(t.substring(n));return i?(e.w=w.get(i[0].toLowerCase()),n+i[0].length):-1}function r(e,t,n){E.lastIndex=0;var i=E.exec(t.substring(n));return i?(e.w=C.get(i[0].toLowerCase()),n+i[0].length):-1}function o(e,t,n){D.lastIndex=0;var i=D.exec(t.substring(n));return i?(e.m=x.get(i[0].toLowerCase()),n+i[0].length):-1}function s(e,t,n){A.lastIndex=0;var i=A.exec(t.substring(n));return i?(e.m=S.get(i[0].toLowerCase()),n+i[0].length):-1}function a(e,t,i){return n(e,""+T.c,t,i)}function l(e,t,i){return n(e,""+T.x,t,i)}function c(e,t,i){return n(e,""+T.X,t,i)}function u(e,t,n){var i=b.get(t.substring(n,n+=2).toLowerCase());return null==i?-1:(e.p=i,n)}var d=e.dateTime,h=e.date,p=e.time,f=e.periods,g=e.days,m=e.shortDays,v=e.months,y=e.shortMonths;t.utc=function(e){function n(e){try{tl=Lt;var t=new tl;return t._=e,i(t)}finally{tl=Date}}var i=t(e);return n.parse=function(e){try{tl=Lt;var t=i.parse(e);return t&&t._}finally{tl=Date}},n.toString=i.toString,n},t.multi=t.utc.multi=rn;var b=zs.map(),E=$t(g),C=Ut(g),_=$t(m),w=Ut(m),A=$t(v),S=Ut(v),D=$t(y),x=Ut(y);f.forEach(function(e,t){b.set(e.toLowerCase(),t)});var T={a:function(e){return m[e.getDay()]},A:function(e){return g[e.getDay()]},b:function(e){return y[e.getMonth()]},B:function(e){return v[e.getMonth()]},c:t(d),d:function(e,t){return Pt(e.getDate(),t,2)},e:function(e,t){return Pt(e.getDate(),t,2)},H:function(e,t){return Pt(e.getHours(),t,2)},I:function(e,t){return Pt(e.getHours()%12||12,t,2)},j:function(e,t){return Pt(1+el.dayOfYear(e),t,3)},L:function(e,t){return Pt(e.getMilliseconds(),t,3)},m:function(e,t){return Pt(e.getMonth()+1,t,2)},M:function(e,t){return Pt(e.getMinutes(),t,2)},p:function(e){return f[+(e.getHours()>=12)]},S:function(e,t){return Pt(e.getSeconds(),t,2)},U:function(e,t){return Pt(el.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Pt(el.mondayOfYear(e),t,2)},x:t(h),X:t(p),y:function(e,t){return Pt(e.getFullYear()%100,t,2)},Y:function(e,t){return Pt(e.getFullYear()%1e4,t,4)},Z:tn,"%":function(){return"%"}},k={a:i,A:r,b:o,B:s,c:a,d:Yt,e:Yt,H:Qt,I:Qt,j:Xt,L:en,m:Kt,M:Jt,p:u,S:Zt,U:jt,w:Vt,W:Ht,x:l,X:c,y:zt,Y:Wt,Z:qt,"%":nn};return t}function Pt(e,t,n){var i=0>e?"-":"",r=(i?-e:e)+"",o=r.length;return i+(n>o?Array(n-o+1).join(t)+r:r)}function $t(e){return RegExp("^(?:"+e.map(zs.requote).join("|")+")","i")}function Ut(e){for(var t=new s,n=-1,i=e.length;i>++n;)t.set(e[n].toLowerCase(),n);return t}function Vt(e,t,n){rl.lastIndex=0;var i=rl.exec(t.substring(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function jt(e,t,n){rl.lastIndex=0;var i=rl.exec(t.substring(n));return i?(e.U=+i[0],n+i[0].length):-1}function Ht(e,t,n){rl.lastIndex=0;var i=rl.exec(t.substring(n));return i?(e.W=+i[0],n+i[0].length):-1}function Wt(e,t,n){rl.lastIndex=0;var i=rl.exec(t.substring(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function zt(e,t,n){rl.lastIndex=0;var i=rl.exec(t.substring(n,n+2));return i?(e.y=Gt(+i[0]),n+i[0].length):-1}function qt(e,t,n){return/^[+-]\d{4}$/.test(t=t.substring(n,n+5))?(e.Z=-t,n+5):-1}function Gt(e){return e+(e>68?1900:2e3)}function Kt(e,t,n){rl.lastIndex=0;var i=rl.exec(t.substring(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function Yt(e,t,n){rl.lastIndex=0;var i=rl.exec(t.substring(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function Xt(e,t,n){rl.lastIndex=0;var i=rl.exec(t.substring(n,n+3));return i?(e.j=+i[0],n+i[0].length):-1}function Qt(e,t,n){rl.lastIndex=0;var i=rl.exec(t.substring(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function Jt(e,t,n){rl.lastIndex=0;var i=rl.exec(t.substring(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function Zt(e,t,n){rl.lastIndex=0;var i=rl.exec(t.substring(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function en(e,t,n){rl.lastIndex=0;var i=rl.exec(t.substring(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function tn(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",i=~~(oa(t)/60),r=oa(t)%60;return n+Pt(i,"0",2)+Pt(r,"0",2)}function nn(e,t,n){ol.lastIndex=0;var i=ol.exec(t.substring(n,n+1));return i?n+i[0].length:-1}function rn(e){for(var t=e.length,n=-1;t>++n;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,i=e[n];!i[1](t);)i=e[++n];return i[0](t)}}function on(){}function sn(e,t,n){var i=n.s=e+t,r=i-e,o=i-r;n.t=e-o+(t-r)}function an(e,t){e&&cl.hasOwnProperty(e.type)&&cl[e.type](e,t)}function ln(e,t,n){var i,r=-1,o=e.length-n;for(t.lineStart();o>++r;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function cn(e,t){var n=-1,i=e.length;for(t.polygonStart();i>++n;)ln(e[n],t,1);t.polygonEnd()}function un(){function e(e,t){e*=Ta,t=t*Ta/2+wa/4;var n=e-i,s=n>=0?1:-1,a=s*n,l=Math.cos(t),c=Math.sin(t),u=o*c,d=r*l+u*Math.cos(a),h=u*s*Math.sin(a);dl.add(Math.atan2(h,d)),i=e,r=l,o=c}var t,n,i,r,o;hl.point=function(s,a){hl.point=e,i=(t=s)*Ta,r=Math.cos(a=(n=a)*Ta/2+wa/4),o=Math.sin(a)},hl.lineEnd=function(){e(t,n)}}function dn(e){var t=e[0],n=e[1],i=Math.cos(n);return[i*Math.cos(t),i*Math.sin(t),Math.sin(n)]}function hn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function pn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function fn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function gn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function mn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function vn(e){return[Math.atan2(e[1],e[0]),Q(e[2])]}function yn(e,t){return Da>oa(e[0]-t[0])&&Da>oa(e[1]-t[1])}function bn(e,t){e*=Ta;var n=Math.cos(t*=Ta);En(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function En(e,t,n){++pl,gl+=(e-gl)/pl,ml+=(t-ml)/pl,vl+=(n-vl)/pl}function Cn(){function e(e,r){e*=Ta;var o=Math.cos(r*=Ta),s=o*Math.cos(e),a=o*Math.sin(e),l=Math.sin(r),c=Math.atan2(Math.sqrt((c=n*l-i*a)*c+(c=i*s-t*l)*c+(c=t*a-n*s)*c),t*s+n*a+i*l);fl+=c,yl+=c*(t+(t=s)),bl+=c*(n+(n=a)),El+=c*(i+(i=l)),En(t,n,i)}var t,n,i;Al.point=function(r,o){r*=Ta;var s=Math.cos(o*=Ta);t=s*Math.cos(r),n=s*Math.sin(r),i=Math.sin(o),Al.point=e,En(t,n,i)}}function _n(){Al.point=bn}function wn(){function e(e,t){e*=Ta;var n=Math.cos(t*=Ta),s=n*Math.cos(e),a=n*Math.sin(e),l=Math.sin(t),c=r*l-o*a,u=o*s-i*l,d=i*a-r*s,h=Math.sqrt(c*c+u*u+d*d),p=i*s+r*a+o*l,f=h&&-X(p)/h,g=Math.atan2(h,p);Cl+=f*c,_l+=f*u,wl+=f*d,fl+=g,yl+=g*(i+(i=s)),bl+=g*(r+(r=a)),El+=g*(o+(o=l)),En(i,r,o)}var t,n,i,r,o;Al.point=function(s,a){t=s,n=a,Al.point=e,s*=Ta;var l=Math.cos(a*=Ta);i=l*Math.cos(s),r=l*Math.sin(s),o=Math.sin(a),En(i,r,o)},Al.lineEnd=function(){e(t,n),Al.lineEnd=_n,Al.point=bn}}function An(){return!0}function Sn(e,t,n,i,r){var o=[],s=[];if(e.forEach(function(e){if(!(0>=(t=e.length-1))){var t,n=e[0],i=e[t];if(yn(n,i)){r.lineStart();for(var a=0;t>a;++a)r.point((n=e[a])[0],n[1]);return r.lineEnd(),void 0}var l=new xn(n,e,null,!0),c=new xn(n,null,l,!1);l.o=c,o.push(l),s.push(c),l=new xn(i,e,null,!1),c=new xn(i,null,l,!0),l.o=c,o.push(l),s.push(c)}}),s.sort(t),Dn(o),Dn(s),o.length){for(var a=0,l=n,c=s.length;c>a;++a)s[a].e=l=!l;for(var u,d,h=o[0];;){for(var p=h,f=!0;p.v;)if((p=p.n)===h)return;u=p.z,r.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(var a=0,c=u.length;c>a;++a)r.point((d=u[a])[0],d[1]);else i(p.x,p.n.x,1,r);p=p.n}else{if(f){u=p.p.z;for(var a=u.length-1;a>=0;--a)r.point((d=u[a])[0],d[1])}else i(p.x,p.p.x,-1,r);p=p.p}p=p.o,u=p.z,f=!f}while(!p.v);r.lineEnd()}}}function Dn(e){if(t=e.length){for(var t,n,i=0,r=e[0];t>++i;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}function xn(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Tn(e,t,n,i){return function(r,o){function s(t,n){var i=r(t,n);e(t=i[0],n=i[1])&&o.point(t,n)}function a(e,t){var n=r(e,t);m.point(n[0],n[1])}function l(){y.point=a,m.lineStart()}function c(){y.point=s,m.lineEnd()}function u(e,t){g.push([e,t]);var n=r(e,t);E.point(n[0],n[1])}function d(){E.lineStart(),g=[]}function h(){u(g[0][0],g[0][1]),E.lineEnd();var e,t=E.clean(),n=b.buffer(),i=n.length;if(g.pop(),f.push(g),g=null,i)if(1&t){e=n[0];var r,i=e.length-1,s=-1;if(i>0){for(C||(o.polygonStart(),C=!0),o.lineStart();i>++s;)o.point((r=e[s])[0],r[1]);o.lineEnd()}}else i>1&&2&t&&n.push(n.pop().concat(n.shift())),p.push(n.filter(kn))}var p,f,g,m=t(o),v=r.invert(i[0],i[1]),y={point:s,lineStart:l,lineEnd:c,polygonStart:function(){y.point=u,y.lineStart=d,y.lineEnd=h,p=[],f=[]},polygonEnd:function(){y.point=s,y.lineStart=l,y.lineEnd=c,p=zs.merge(p);var e=Mn(v,f);p.length?(C||(o.polygonStart(),C=!0),Sn(p,Nn,e,n,o)):e&&(C||(o.polygonStart(),C=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),C&&(o.polygonEnd(),C=!1),p=f=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=Fn(),E=t(b),C=!1;return y}}function kn(e){return e.length>1}function Fn(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:g,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Nn(e,t){return(0>(e=e.x)[0]?e[1]-Sa-Da:Sa-e[1])-(0>(t=t.x)[0]?t[1]-Sa-Da:Sa-t[1])}function Mn(e,t){var n=e[0],i=e[1],r=[Math.sin(n),-Math.cos(n),0],o=0,s=0;dl.reset();for(var a=0,l=t.length;l>a;++a){var c=t[a],u=c.length;if(u)for(var d=c[0],h=d[0],p=d[1]/2+wa/4,f=Math.sin(p),g=Math.cos(p),m=1;;){m===u&&(m=0),e=c[m];var v=e[0],y=e[1]/2+wa/4,b=Math.sin(y),E=Math.cos(y),C=v-h,_=C>=0?1:-1,w=_*C,A=w>wa,S=f*b;if(dl.add(Math.atan2(S*_*Math.sin(w),g*E+S*Math.cos(w))),o+=A?C+_*Aa:C,A^h>=n^v>=n){var D=pn(dn(d),dn(e));mn(D);var x=pn(r,D);mn(x);var T=(A^C>=0?-1:1)*Q(x[2]);(i>T||i===T&&(D[0]||D[1]))&&(s+=A^C>=0?1:-1)}if(!m++)break;h=v,f=b,g=E,d=e}}return(-Da>o||Da>o&&0>dl)^1&s}function Rn(e){var t,n=0/0,i=0/0,r=0/0;return{lineStart:function(){e.lineStart(),t=1},point:function(o,s){var a=o>0?wa:-wa,l=oa(o-n);Da>oa(l-wa)?(e.point(n,i=(i+s)/2>0?Sa:-Sa),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(a,i),e.point(o,i),t=0):r!==a&&l>=wa&&(Da>oa(n-r)&&(n-=r*Da),Da>oa(o-a)&&(o-=a*Da),i=Ln(n,i,o,s),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(a,i),t=0),e.point(n=o,i=s),r=a},lineEnd:function(){e.lineEnd(),n=i=0/0},clean:function(){return 2-t}}}function Ln(e,t,n,i){var r,o,s=Math.sin(e-n);return oa(s)>Da?Math.atan((Math.sin(t)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(t))*Math.sin(e))/(r*o*s)):(t+i)/2}function In(e,t,n,i){var r;if(null==e)r=n*Sa,i.point(-wa,r),i.point(0,r),i.point(wa,r),i.point(wa,0),i.point(wa,-r),i.point(0,-r),i.point(-wa,-r),i.point(-wa,0),i.point(-wa,r);else if(oa(e[0]-t[0])>Da){var o=e[0]<t[0]?wa:-wa;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])}function On(e){function t(e,t){return Math.cos(e)*Math.cos(t)>o}function n(e){var n,o,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(d,h){var p,f=[d,h],g=t(d,h),m=s?g?0:r(d,h):g?r(d+(0>d?wa:-wa),h):0;if(!n&&(c=l=g)&&e.lineStart(),g!==l&&(p=i(n,f),(yn(n,p)||yn(f,p))&&(f[0]+=Da,f[1]+=Da,g=t(f[0],f[1]))),g!==l)u=0,g?(e.lineStart(),p=i(f,n),e.point(p[0],p[1])):(p=i(n,f),e.point(p[0],p[1]),e.lineEnd()),n=p;else if(a&&n&&s^g){var v;m&o||!(v=i(f,n,!0))||(u=0,s?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!g||n&&yn(n,f)||e.point(f[0],f[1]),n=f,l=g,o=m},lineEnd:function(){l&&e.lineEnd(),n=null},clean:function(){return u|(c&&l)<<1}}}function i(e,t,n){var i=dn(e),r=dn(t),s=[1,0,0],a=pn(i,r),l=hn(a,a),c=a[0],u=l-c*c;if(!u)return!n&&e;var d=o*l/u,h=-o*c/u,p=pn(s,a),f=gn(s,d),g=gn(a,h);fn(f,g);var m=p,v=hn(f,m),y=hn(m,m),b=v*v-y*(hn(f,f)-1);if(!(0>b)){var E=Math.sqrt(b),C=gn(m,(-v-E)/y);if(fn(C,f),C=vn(C),!n)return C;var _,w=e[0],A=t[0],S=e[1],D=t[1];w>A&&(_=w,w=A,A=_);var x=A-w,T=Da>oa(x-wa),k=T||Da>x;if(!T&&S>D&&(_=S,S=D,D=_),k?T?S+D>0^C[1]<(Da>oa(C[0]-w)?S:D):C[1]>=S&&D>=C[1]:x>wa^(C[0]>=w&&A>=C[0])){var F=gn(m,(-v+E)/y);return fn(F,f),[C,vn(F)]}}}function r(t,n){var i=s?e:wa-e,r=0;return-i>t?r|=1:t>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var o=Math.cos(e),s=o>0,a=oa(o)>Da,l=ui(e,6*Ta);return Tn(t,n,l,s?[0,-e]:[-wa,e-wa])}function Bn(e,t,n,i){return function(r){var o,s=r.a,a=r.b,l=s.x,c=s.y,u=a.x,d=a.y,h=0,p=1,f=u-l,g=d-c;if(o=e-l,f||!(o>0)){if(o/=f,0>f){if(h>o)return;p>o&&(p=o)}else if(f>0){if(o>p)return;o>h&&(h=o)}if(o=n-l,f||!(0>o)){if(o/=f,0>f){if(o>p)return;o>h&&(h=o)}else if(f>0){if(h>o)return;p>o&&(p=o)}if(o=t-c,g||!(o>0)){if(o/=g,0>g){if(h>o)return;p>o&&(p=o)}else if(g>0){if(o>p)return;o>h&&(h=o)}if(o=i-c,g||!(0>o)){if(o/=g,0>g){if(o>p)return;o>h&&(h=o)}else if(g>0){if(h>o)return;p>o&&(p=o)}return h>0&&(r.a={x:l+h*f,y:c+h*g}),1>p&&(r.b={x:l+p*f,y:c+p*g}),r}}}}}}function Pn(e,t,n,i){function r(i,r){return Da>oa(i[0]-e)?r>0?0:3:Da>oa(i[0]-n)?r>0?2:1:Da>oa(i[1]-t)?r>0?1:0:r>0?3:2}function o(e,t){return s(e.x,t.x)}function s(e,t){var n=r(e,1),i=r(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){function l(e){for(var t=0,n=m.length,i=e[1],r=0;n>r;++r)for(var o,s=1,a=m[r],l=a.length,c=a[0];l>s;++s)o=a[s],i>=c[1]?o[1]>i&&Y(c,o,e)>0&&++t:i>=o[1]&&0>Y(c,o,e)&&--t,c=o;return 0!==t}function c(o,a,l,c){var u=0,d=0;if(null==o||(u=r(o,l))!==(d=r(a,l))||0>s(o,a)^l>0){do c.point(0===u||3===u?e:n,u>1?i:t);while((u=(u+l+4)%4)!==d)}else c.point(a[0],a[1])}function u(r,o){return r>=e&&n>=r&&o>=t&&i>=o}function d(e,t){u(e,t)&&a.point(e,t)
}function h(){k.point=f,m&&m.push(v=[]),A=!0,w=!1,C=_=0/0}function p(){g&&(f(y,b),E&&w&&x.rejoin(),g.push(x.buffer())),k.point=d,w&&a.lineEnd()}function f(e,t){e=Math.max(-Dl,Math.min(Dl,e)),t=Math.max(-Dl,Math.min(Dl,t));var n=u(e,t);if(m&&v.push([e,t]),A)y=e,b=t,E=n,A=!1,n&&(a.lineStart(),a.point(e,t));else if(n&&w)a.point(e,t);else{var i={a:{x:C,y:_},b:{x:e,y:t}};T(i)?(w||(a.lineStart(),a.point(i.a.x,i.a.y)),a.point(i.b.x,i.b.y),n||a.lineEnd(),S=!1):n&&(a.lineStart(),a.point(e,t),S=!1)}C=e,_=t,w=n}var g,m,v,y,b,E,C,_,w,A,S,D=a,x=Fn(),T=Bn(e,t,n,i),k={point:d,lineStart:h,lineEnd:p,polygonStart:function(){a=x,g=[],m=[],S=!0},polygonEnd:function(){a=D,g=zs.merge(g);var t=l([e,i]),n=S&&t,r=g.length;(n||r)&&(a.polygonStart(),n&&(a.lineStart(),c(null,null,1,a),a.lineEnd()),r&&Sn(g,o,t,c,a),a.polygonEnd()),g=m=v=null}};return k}}function $n(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return n=t.invert(n,i),n&&e.invert(n[0],n[1])}),n}function Un(e){var t=0,n=wa/3,i=ni(e),r=i(t,n);return r.parallels=function(e){return arguments.length?i(t=e[0]*wa/180,n=e[1]*wa/180):[180*(t/wa),180*(n/wa)]},r}function Vn(e,t){function n(e,t){var n=Math.sqrt(o-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),s-n*Math.cos(e)]}var i=Math.sin(e),r=(i+Math.sin(t))/2,o=1+i*(2*r-i),s=Math.sqrt(o)/r;return n.invert=function(e,t){var n=s-t;return[Math.atan2(e,n)/r,Q((o-(e*e+n*n)*r*r)/(2*r))]},n}function jn(){function e(e,t){Tl+=r*e-i*t,i=e,r=t}var t,n,i,r;Rl.point=function(o,s){Rl.point=e,t=i=o,n=r=s},Rl.lineEnd=function(){e(t,n)}}function Hn(e,t){kl>e&&(kl=e),e>Nl&&(Nl=e),Fl>t&&(Fl=t),t>Ml&&(Ml=t)}function Wn(){function e(e,t){s.push("M",e,",",t,o)}function t(e,t){s.push("M",e,",",t),a.point=n}function n(e,t){s.push("L",e,",",t)}function i(){a.point=e}function r(){s.push("Z")}var o=zn(4.5),s=[],a={point:e,lineStart:function(){a.point=t},lineEnd:i,polygonStart:function(){a.lineEnd=r},polygonEnd:function(){a.lineEnd=i,a.point=e},pointRadius:function(e){return o=zn(e),a},result:function(){if(s.length){var e=s.join("");return s=[],e}}};return a}function zn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function qn(e,t){gl+=e,ml+=t,++vl}function Gn(){function e(e,i){var r=e-t,o=i-n,s=Math.sqrt(r*r+o*o);yl+=s*(t+e)/2,bl+=s*(n+i)/2,El+=s,qn(t=e,n=i)}var t,n;Il.point=function(i,r){Il.point=e,qn(t=i,n=r)}}function Kn(){Il.point=qn}function Yn(){function e(e,t){var n=e-i,o=t-r,s=Math.sqrt(n*n+o*o);yl+=s*(i+e)/2,bl+=s*(r+t)/2,El+=s,s=r*e-i*t,Cl+=s*(i+e),_l+=s*(r+t),wl+=3*s,qn(i=e,r=t)}var t,n,i,r;Il.point=function(o,s){Il.point=e,qn(t=i=o,n=r=s)},Il.lineEnd=function(){e(t,n)}}function Xn(e){function t(t,n){e.moveTo(t,n),e.arc(t,n,s,0,Aa)}function n(t,n){e.moveTo(t,n),a.point=i}function i(t,n){e.lineTo(t,n)}function r(){a.point=t}function o(){e.closePath()}var s=4.5,a={point:t,lineStart:function(){a.point=n},lineEnd:r,polygonStart:function(){a.lineEnd=o},polygonEnd:function(){a.lineEnd=r,a.point=t},pointRadius:function(e){return s=e,a},result:g};return a}function Qn(e){function t(e){return(a?i:n)(e)}function n(t){return ei(t,function(n,i){n=e(n,i),t.point(n[0],n[1])})}function i(t){function n(n,i){n=e(n,i),t.point(n[0],n[1])}function i(){b=0/0,A.point=o,t.lineStart()}function o(n,i){var o=dn([n,i]),s=e(n,i);r(b,E,y,C,_,w,b=s[0],E=s[1],y=n,C=o[0],_=o[1],w=o[2],a,t),t.point(b,E)}function s(){A.point=n,t.lineEnd()}function l(){i(),A.point=c,A.lineEnd=u}function c(e,t){o(d=e,h=t),p=b,f=E,g=C,m=_,v=w,A.point=o}function u(){r(b,E,y,C,_,w,p,f,d,g,m,v,a,t),A.lineEnd=s,s()}var d,h,p,f,g,m,v,y,b,E,C,_,w,A={point:n,lineStart:i,lineEnd:s,polygonStart:function(){t.polygonStart(),A.lineStart=l},polygonEnd:function(){t.polygonEnd(),A.lineStart=i}};return A}function r(t,n,i,a,l,c,u,d,h,p,f,g,m,v){var y=u-t,b=d-n,E=y*y+b*b;if(E>4*o&&m--){var C=a+p,_=l+f,w=c+g,A=Math.sqrt(C*C+_*_+w*w),S=Math.asin(w/=A),D=Da>oa(oa(w)-1)||Da>oa(i-h)?(i+h)/2:Math.atan2(_,C),x=e(D,S),T=x[0],k=x[1],F=T-t,N=k-n,M=b*F-y*N;(M*M/E>o||oa((y*F+b*N)/E-.5)>.3||s>a*p+l*f+c*g)&&(r(t,n,i,a,l,c,T,k,D,C/=A,_/=A,w,m,v),v.point(T,k),r(T,k,D,C,_,w,u,d,h,p,f,g,m,v))}}var o=.5,s=Math.cos(30*Ta),a=16;return t.precision=function(e){return arguments.length?(a=(o=e*e)>0&&16,t):Math.sqrt(o)},t}function Jn(e){var t=Qn(function(t,n){return e([t*ka,n*ka])});return function(e){return ii(t(e))}}function Zn(e){this.stream=e}function ei(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function ti(e){return ni(function(){return e})()}function ni(e){function t(e){return e=a(e[0]*Ta,e[1]*Ta),[e[0]*h+l,c-e[1]*h]}function n(e){return e=a.invert((e[0]-l)/h,(c-e[1])/h),e&&[e[0]*ka,e[1]*ka]}function i(){a=$n(s=si(v,y,b),o);var e=o(g,m);return l=p-e[0]*h,c=f+e[1]*h,r()}function r(){return u&&(u.valid=!1,u=null),t}var o,s,a,l,c,u,d=Qn(function(e,t){return e=o(e,t),[e[0]*h+l,c-e[1]*h]}),h=150,p=480,f=250,g=0,m=0,v=0,y=0,b=0,E=Sl,C=wt,_=null,w=null;return t.stream=function(e){return u&&(u.valid=!1),u=ii(E(s,d(C(e)))),u.valid=!0,u},t.clipAngle=function(e){return arguments.length?(E=null==e?(_=e,Sl):On((_=+e)*Ta),r()):_},t.clipExtent=function(e){return arguments.length?(w=e,C=e?Pn(e[0][0],e[0][1],e[1][0],e[1][1]):wt,r()):w},t.scale=function(e){return arguments.length?(h=+e,i()):h},t.translate=function(e){return arguments.length?(p=+e[0],f=+e[1],i()):[p,f]},t.center=function(e){return arguments.length?(g=e[0]%360*Ta,m=e[1]%360*Ta,i()):[g*ka,m*ka]},t.rotate=function(e){return arguments.length?(v=e[0]%360*Ta,y=e[1]%360*Ta,b=e.length>2?e[2]%360*Ta:0,i()):[v*ka,y*ka,b*ka]},zs.rebind(t,d,"precision"),function(){return o=e.apply(this,arguments),t.invert=o.invert&&n,i()}}function ii(e){return ei(e,function(t,n){e.point(t*Ta,n*Ta)})}function ri(e,t){return[e,t]}function oi(e,t){return[e>wa?e-Aa:-wa>e?e+Aa:e,t]}function si(e,t,n){return e?t||n?$n(li(e),ci(t,n)):li(e):t||n?ci(t,n):oi}function ai(e){return function(t,n){return t+=e,[t>wa?t-Aa:-wa>t?t+Aa:t,n]}}function li(e){var t=ai(e);return t.invert=ai(-e),t}function ci(e,t){function n(e,t){var n=Math.cos(t),a=Math.cos(e)*n,l=Math.sin(e)*n,c=Math.sin(t),u=c*i+a*r;return[Math.atan2(l*o-u*s,a*i-c*r),Q(u*o+l*s)]}var i=Math.cos(e),r=Math.sin(e),o=Math.cos(t),s=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),a=Math.cos(e)*n,l=Math.sin(e)*n,c=Math.sin(t),u=c*o-l*s;return[Math.atan2(l*o+c*s,a*i+u*r),Q(u*i-a*r)]},n}function ui(e,t){var n=Math.cos(e),i=Math.sin(e);return function(r,o,s,a){var l=s*t;null!=r?(r=di(n,r),o=di(n,o),(s>0?o>r:r>o)&&(r+=s*Aa)):(r=e+s*Aa,o=e-.5*l);for(var c,u=r;s>0?u>o:o>u;u-=l)a.point((c=vn([n,-i*Math.cos(u),-i*Math.sin(u)]))[0],c[1])}}function di(e,t){var n=dn(t);n[0]-=e,mn(n);var i=X(-n[1]);return((0>-n[2]?-i:i)+2*Math.PI-Da)%(2*Math.PI)}function hi(e,t,n){var i=zs.range(e,t-Da,n).concat(t);return function(e){return i.map(function(t){return[e,t]})}}function pi(e,t,n){var i=zs.range(e,t-Da,n).concat(t);return function(e){return i.map(function(t){return[t,e]})}}function fi(e){return e.source}function gi(e){return e.target}function mi(e,t,n,i){var r=Math.cos(t),o=Math.sin(t),s=Math.cos(i),a=Math.sin(i),l=r*Math.cos(e),c=r*Math.sin(e),u=s*Math.cos(n),d=s*Math.sin(n),h=2*Math.asin(Math.sqrt(tt(i-t)+r*s*tt(n-e))),p=1/Math.sin(h),f=h?function(e){var t=Math.sin(e*=h)*p,n=Math.sin(h-e)*p,i=n*l+t*u,r=n*c+t*d,s=n*o+t*a;return[Math.atan2(r,i)*ka,Math.atan2(s,Math.sqrt(i*i+r*r))*ka]}:function(){return[e*ka,t*ka]};return f.distance=h,f}function vi(){function e(e,r){var o=Math.sin(r*=Ta),s=Math.cos(r),a=oa((e*=Ta)-t),l=Math.cos(a);Ol+=Math.atan2(Math.sqrt((a=s*Math.sin(a))*a+(a=i*o-n*s*l)*a),n*o+i*s*l),t=e,n=o,i=s}var t,n,i;Bl.point=function(r,o){t=r*Ta,n=Math.sin(o*=Ta),i=Math.cos(o),Bl.point=e},Bl.lineEnd=function(){Bl.point=Bl.lineEnd=g}}function yi(e,t){function n(t,n){var i=Math.cos(t),r=Math.cos(n),o=e(i*r);return[o*r*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var i=Math.sqrt(e*e+n*n),r=t(i),o=Math.sin(r),s=Math.cos(r);return[Math.atan2(e*o,i*s),Math.asin(i&&n*o/i)]},n}function bi(e,t){function n(e,t){s>0?-Sa+Da>t&&(t=-Sa+Da):t>Sa-Da&&(t=Sa-Da);var n=s/Math.pow(r(t),o);return[n*Math.sin(o*e),s-n*Math.cos(o*e)]}var i=Math.cos(e),r=function(e){return Math.tan(wa/4+e/2)},o=e===t?Math.sin(e):Math.log(i/Math.cos(t))/Math.log(r(t)/r(e)),s=i*Math.pow(r(e),o)/o;return o?(n.invert=function(e,t){var n=s-t,i=K(o)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/o,2*Math.atan(Math.pow(s/i,1/o))-Sa]},n):Ci}function Ei(e,t){function n(e,t){var n=o-t;return[n*Math.sin(r*e),o-n*Math.cos(r*e)]}var i=Math.cos(e),r=e===t?Math.sin(e):(i-Math.cos(t))/(t-e),o=i/r+e;return Da>oa(r)?ri:(n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/r,o-K(r)*Math.sqrt(e*e+n*n)]},n)}function Ci(e,t){return[e,Math.log(Math.tan(wa/4+t/2))]}function _i(e){var t,n=ti(e),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var s=o.apply(n,arguments);if(s===n){if(t=null==e){var a=wa*i(),l=r();o([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else t&&(s=null);return s},n.clipExtent(null)}function wi(e,t){return[Math.log(Math.tan(wa/4+t/2)),-e]}function Ai(e){return e[0]}function Si(e){return e[1]}function Di(e){for(var t=e.length,n=[0,1],i=2,r=2;t>r;r++){for(;i>1&&0>=Y(e[n[i-2]],e[n[i-1]],e[r]);)--i;n[i++]=r}return n.slice(0,i)}function xi(e,t){return e[0]-t[0]||e[1]-t[1]}function Ti(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function ki(e,t,n,i){var r=e[0],o=n[0],s=t[0]-r,a=i[0]-o,l=e[1],c=n[1],u=t[1]-l,d=i[1]-c,h=(a*(l-c)-d*(r-o))/(d*s-a*u);return[r+h*s,l+h*u]}function Fi(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Ni(){Ji(this),this.edge=this.site=this.circle=null}function Mi(e){var t=Yl.pop()||new Ni;return t.site=e,t}function Ri(e){Hi(e),ql.remove(e),Yl.push(e),Ji(e)}function Li(e){var t=e.circle,n=t.x,i=t.cy,r={x:n,y:i},o=e.P,s=e.N,a=[e];Ri(e);for(var l=o;l.circle&&Da>oa(n-l.circle.x)&&Da>oa(i-l.circle.cy);)o=l.P,a.unshift(l),Ri(l),l=o;a.unshift(l),Hi(l);for(var c=s;c.circle&&Da>oa(n-c.circle.x)&&Da>oa(i-c.circle.cy);)s=c.N,a.push(c),Ri(c),c=s;a.push(c),Hi(c);var u,d=a.length;for(u=1;d>u;++u)c=a[u],l=a[u-1],Yi(c.edge,l.site,c.site,r);l=a[0],c=a[d-1],c.edge=Gi(l.site,c.site,null,r),ji(l),ji(c)}function Ii(e){for(var t,n,i,r,o=e.x,s=e.y,a=ql._;a;)if(i=Oi(a,s)-o,i>Da)a=a.L;else{if(r=o-Bi(a,s),!(r>Da)){i>-Da?(t=a.P,n=a):r>-Da?(t=a,n=a.N):t=n=a;break}if(!a.R){t=a;break}a=a.R}var l=Mi(e);if(ql.insert(t,l),t||n){if(t===n)return Hi(t),n=Mi(t.site),ql.insert(l,n),l.edge=n.edge=Gi(t.site,l.site),ji(t),ji(n),void 0;if(!n)return l.edge=Gi(t.site,l.site),void 0;Hi(t),Hi(n);var c=t.site,u=c.x,d=c.y,h=e.x-u,p=e.y-d,f=n.site,g=f.x-u,m=f.y-d,v=2*(h*m-p*g),y=h*h+p*p,b=g*g+m*m,E={x:(m*y-p*b)/v+u,y:(h*b-g*y)/v+d};Yi(n.edge,c,f,E),l.edge=Gi(c,e,null,E),n.edge=Gi(e,f,null,E),ji(t),ji(n)}}function Oi(e,t){var n=e.site,i=n.x,r=n.y,o=r-t;if(!o)return i;var s=e.P;if(!s)return-1/0;n=s.site;var a=n.x,l=n.y,c=l-t;if(!c)return a;var u=a-i,d=1/o-1/c,h=u/c;return d?(-h+Math.sqrt(h*h-2*d*(u*u/(-2*c)-l+c/2+r-o/2)))/d+i:(i+a)/2}function Bi(e,t){var n=e.N;if(n)return Oi(n,t);var i=e.site;return i.y===t?i.x:1/0}function Pi(e){this.site=e,this.edges=[]}function $i(e){for(var t,n,i,r,o,s,a,l,c,u,d=e[0][0],h=e[1][0],p=e[0][1],f=e[1][1],g=zl,m=g.length;m--;)if(o=g[m],o&&o.prepare())for(a=o.edges,l=a.length,s=0;l>s;)u=a[s].end(),i=u.x,r=u.y,c=a[++s%l].start(),t=c.x,n=c.y,(oa(i-t)>Da||oa(r-n)>Da)&&(a.splice(s,0,new Xi(Ki(o.site,u,Da>oa(i-d)&&f-r>Da?{x:d,y:Da>oa(t-d)?n:f}:Da>oa(r-f)&&h-i>Da?{x:Da>oa(n-f)?t:h,y:f}:Da>oa(i-h)&&r-p>Da?{x:h,y:Da>oa(t-h)?n:p}:Da>oa(r-p)&&i-d>Da?{x:Da>oa(n-p)?t:d,y:p}:null),o.site,null)),++l)}function Ui(e,t){return t.angle-e.angle}function Vi(){Ji(this),this.x=this.y=this.arc=this.site=this.cy=null}function ji(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,r=e.site,o=n.site;if(i!==o){var s=r.x,a=r.y,l=i.x-s,c=i.y-a,u=o.x-s,d=o.y-a,h=2*(l*d-c*u);if(!(h>=-xa)){var p=l*l+c*c,f=u*u+d*d,g=(d*p-c*f)/h,m=(l*f-u*p)/h,d=m+a,v=Xl.pop()||new Vi;v.arc=e,v.site=r,v.x=g+s,v.y=d+Math.sqrt(g*g+m*m),v.cy=d,e.circle=v;for(var y=null,b=Kl._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Kl.insert(y,v),y||(Gl=v)}}}}function Hi(e){var t=e.circle;t&&(t.P||(Gl=t.N),Kl.remove(t),Xl.push(t),Ji(t),e.circle=null)}function Wi(e){for(var t,n=Wl,i=Bn(e[0][0],e[0][1],e[1][0],e[1][1]),r=n.length;r--;)t=n[r],(!zi(t,e)||!i(t)||Da>oa(t.a.x-t.b.x)&&Da>oa(t.a.y-t.b.y))&&(t.a=t.b=null,n.splice(r,1))}function zi(e,t){var n=e.b;if(n)return!0;var i,r,o=e.a,s=t[0][0],a=t[1][0],l=t[0][1],c=t[1][1],u=e.l,d=e.r,h=u.x,p=u.y,f=d.x,g=d.y,m=(h+f)/2,v=(p+g)/2;if(g===p){if(s>m||m>=a)return;if(h>f){if(o){if(o.y>=c)return}else o={x:m,y:l};n={x:m,y:c}}else{if(o){if(l>o.y)return}else o={x:m,y:c};n={x:m,y:l}}}else if(i=(h-f)/(g-p),r=v-i*m,-1>i||i>1)if(h>f){if(o){if(o.y>=c)return}else o={x:(l-r)/i,y:l};n={x:(c-r)/i,y:c}}else{if(o){if(l>o.y)return}else o={x:(c-r)/i,y:c};n={x:(l-r)/i,y:l}}else if(g>p){if(o){if(o.x>=a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}else{if(o){if(s>o.x)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}return e.a=o,e.b=n,!0}function qi(e,t){this.l=e,this.r=t,this.a=this.b=null}function Gi(e,t,n,i){var r=new qi(e,t);return Wl.push(r),n&&Yi(r,e,t,n),i&&Yi(r,t,e,i),zl[e.i].edges.push(new Xi(r,e,t)),zl[t.i].edges.push(new Xi(r,t,e)),r}function Ki(e,t,n){var i=new qi(e,null);return i.a=t,i.b=n,Wl.push(i),i}function Yi(e,t,n,i){e.a||e.b?e.l===n?e.b=i:e.a=i:(e.a=i,e.l=t,e.r=n)}function Xi(e,t,n){var i=e.a,r=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function Qi(){this._=null}function Ji(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Zi(e,t){var n=t,i=t.R,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function er(e,t){var n=t,i=t.L,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function tr(e){for(;e.L;)e=e.L;return e}function nr(e,t){var n,i,r,o=e.sort(ir).pop();for(Wl=[],zl=Array(e.length),ql=new Qi,Kl=new Qi;;)if(r=Gl,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))(o.x!==n||o.y!==i)&&(zl[o.i]=new Pi(o),Ii(o),n=o.x,i=o.y),o=e.pop();else{if(!r)break;Li(r.arc)}t&&(Wi(t),$i(t));var s={cells:zl,edges:Wl};return ql=Kl=Wl=zl=null,s}function ir(e,t){return t.y-e.y||t.x-e.x}function rr(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function or(e){return e.x}function sr(e){return e.y}function ar(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function lr(e,t,n,i,r,o){if(!e(t,n,i,r,o)){var s=.5*(n+r),a=.5*(i+o),l=t.nodes;l[0]&&lr(e,l[0],n,i,s,a),l[1]&&lr(e,l[1],s,i,r,a),l[2]&&lr(e,l[2],n,a,s,o),l[3]&&lr(e,l[3],s,a,r,o)}}function cr(e,t){e=zs.rgb(e),t=zs.rgb(t);var n=e.r,i=e.g,r=e.b,o=t.r-n,s=t.g-i,a=t.b-r;return function(e){return"#"+mt(Math.round(n+o*e))+mt(Math.round(i+s*e))+mt(Math.round(r+a*e))}}function ur(e,t){var n,i={},r={};for(n in e)n in t?i[n]=pr(e[n],t[n]):r[n]=e[n];for(n in t)n in e||(r[n]=t[n]);return function(e){for(n in i)r[n]=i[n](e);return r}}function dr(e,t){return t-=e=+e,function(n){return e+t*n}}function hr(e,t){var n,i,r,o=Jl.lastIndex=Zl.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(n=Jl.exec(e))&&(i=Zl.exec(t));)(r=i.index)>o&&(r=t.substring(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:dr(n,i)})),o=Zl.lastIndex;return t.length>o&&(r=t.substring(o),a[s]?a[s]+=r:a[++s]=r),2>a.length?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,i=0;t>i;++i)a[(n=l[i]).i]=n.x(e);return a.join("")})}function pr(e,t){for(var n,i=zs.interpolators.length;--i>=0&&!(n=zs.interpolators[i](e,t)););return n}function fr(e,t){var n,i=[],r=[],o=e.length,s=t.length,a=Math.min(e.length,t.length);for(n=0;a>n;++n)i.push(pr(e[n],t[n]));for(;o>n;++n)r[n]=e[n];for(;s>n;++n)r[n]=t[n];return function(e){for(n=0;a>n;++n)r[n]=i[n](e);return r}}function gr(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function mr(e){return function(t){return 1-e(1-t)}}function vr(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function yr(e){return e*e}function br(e){return e*e*e}function Er(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function Cr(e){return function(t){return Math.pow(t,e)}}function _r(e){return 1-Math.cos(e*Sa)}function wr(e){return Math.pow(2,10*(e-1))}function Ar(e){return 1-Math.sqrt(1-e*e)}function Sr(e,t){var n;return 2>arguments.length&&(t=.45),arguments.length?n=t/Aa*Math.asin(1/e):(e=1,n=t/4),function(i){return 1+e*Math.pow(2,-10*i)*Math.sin((i-n)*Aa/t)}}function Dr(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function xr(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Tr(e,t){e=zs.hcl(e),t=zs.hcl(t);var n=e.h,i=e.c,r=e.l,o=t.h-n,s=t.c-i,a=t.l-r;return isNaN(s)&&(s=0,i=isNaN(i)?t.c:i),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return st(n+o*e,i+s*e,r+a*e)+""}}function kr(e,t){e=zs.hsl(e),t=zs.hsl(t);var n=e.h,i=e.s,r=e.l,o=t.h-n,s=t.s-i,a=t.l-r;return isNaN(s)&&(s=0,i=isNaN(i)?t.s:i),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return rt(n+o*e,i+s*e,r+a*e)+""}}function Fr(e,t){e=zs.lab(e),t=zs.lab(t);var n=e.l,i=e.a,r=e.b,o=t.l-n,s=t.a-i,a=t.b-r;return function(e){return lt(n+o*e,i+s*e,r+a*e)+""}}function Nr(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Mr(e){var t=[e.a,e.b],n=[e.c,e.d],i=Lr(t),r=Rr(t,n),o=Lr(Ir(n,t,-r))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*ka,this.translate=[e.e,e.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*ka:0}function Rr(e,t){return e[0]*t[0]+e[1]*t[1]}function Lr(e){var t=Math.sqrt(Rr(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Ir(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Or(e,t){var n,i=[],r=[],o=zs.transform(e),s=zs.transform(t),a=o.translate,l=s.translate,c=o.rotate,u=s.rotate,d=o.skew,h=s.skew,p=o.scale,f=s.scale;return a[0]!=l[0]||a[1]!=l[1]?(i.push("translate(",null,",",null,")"),r.push({i:1,x:dr(a[0],l[0])},{i:3,x:dr(a[1],l[1])})):l[0]||l[1]?i.push("translate("+l+")"):i.push(""),c!=u?(c-u>180?u+=360:u-c>180&&(c+=360),r.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:dr(c,u)})):u&&i.push(i.pop()+"rotate("+u+")"),d!=h?r.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:dr(d,h)}):h&&i.push(i.pop()+"skewX("+h+")"),p[0]!=f[0]||p[1]!=f[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),r.push({i:n-4,x:dr(p[0],f[0])},{i:n-2,x:dr(p[1],f[1])})):(1!=f[0]||1!=f[1])&&i.push(i.pop()+"scale("+f+")"),n=r.length,function(e){for(var t,o=-1;n>++o;)i[(t=r[o]).i]=t.x(e);return i.join("")}}function Br(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return(n-e)*t}}function Pr(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function $r(e){for(var t=e.source,n=e.target,i=Vr(t,n),r=[t];t!==i;)t=t.parent,r.push(t);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function Ur(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Vr(e,t){if(e===t)return e;for(var n=Ur(e),i=Ur(t),r=n.pop(),o=i.pop(),s=null;r===o;)s=r,r=n.pop(),o=i.pop();return s}function jr(e){e.fixed|=2}function Hr(e){e.fixed&=-7}function Wr(e){e.fixed|=4,e.px=e.x,e.py=e.y}function zr(e){e.fixed&=-5}function qr(e,t,n){var i=0,r=0;if(e.charge=0,!e.leaf)for(var o,s=e.nodes,a=s.length,l=-1;a>++l;)o=s[l],null!=o&&(qr(o,t,n),e.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=t*n[e.point.index];e.charge+=e.pointCharge=c,i+=c*e.point.x,r+=c*e.point.y}e.cx=i/e.charge,e.cy=r/e.charge}function Gr(e,t){return zs.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=Zr,e}function Kr(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(r=e.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function Yr(e,t){for(var n=[e],i=[];null!=(e=n.pop());)if(i.push(e),(o=e.children)&&(r=o.length))for(var r,o,s=-1;r>++s;)n.push(o[s]);for(;null!=(e=i.pop());)t(e)}function Xr(e){return e.children}function Qr(e){return e.value}function Jr(e,t){return t.value-e.value}function Zr(e){return zs.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function eo(e){return e.x}function to(e){return e.y}function no(e,t,n){e.y0=t,e.y=n}function io(e){return zs.range(e.length)}function ro(e){for(var t=-1,n=e[0].length,i=[];n>++t;)i[t]=0;return i}function oo(e){for(var t,n=1,i=0,r=e[0][1],o=e.length;o>n;++n)(t=e[n][1])>r&&(i=n,r=t);return i}function so(e){return e.reduce(ao,0)}function ao(e,t){return e+t[1]}function lo(e,t){return co(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function co(e,t){for(var n=-1,i=+e[0],r=(e[1]-i)/t,o=[];t>=++n;)o[n]=r*n+i;return o}function uo(e){return[zs.min(e),zs.max(e)]}function ho(e,t){return e.value-t.value}function po(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function fo(e,t){e._pack_next=t,t._pack_prev=e}function go(e,t){var n=t.x-e.x,i=t.y-e.y,r=e.r+t.r;return.999*r*r>n*n+i*i}function mo(e){function t(e){u=Math.min(e.x-e.r,u),d=Math.max(e.x+e.r,d),h=Math.min(e.y-e.r,h),p=Math.max(e.y+e.r,p)}if((n=e.children)&&(c=n.length)){var n,i,r,o,s,a,l,c,u=1/0,d=-1/0,h=1/0,p=-1/0;if(n.forEach(vo),i=n[0],i.x=-i.r,i.y=0,t(i),c>1&&(r=n[1],r.x=r.r,r.y=0,t(r),c>2))for(o=n[2],Eo(i,r,o),t(o),po(i,o),i._pack_prev=o,po(o,r),r=i._pack_next,s=3;c>s;s++){Eo(i,r,o=n[s]);var f=0,g=1,m=1;for(a=r._pack_next;a!==r;a=a._pack_next,g++)if(go(a,o)){f=1;break}if(1==f)for(l=i._pack_prev;l!==a._pack_prev&&!go(l,o);l=l._pack_prev,m++);f?(m>g||g==m&&r.r<i.r?fo(i,r=a):fo(i=l,r),s--):(po(i,o),r=o,t(o))}var v=(u+d)/2,y=(h+p)/2,b=0;for(s=0;c>s;s++)o=n[s],o.x-=v,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));e.r=b,n.forEach(yo)}}function vo(e){e._pack_next=e._pack_prev=e}function yo(e){delete e._pack_next,delete e._pack_prev}function bo(e,t,n,i){var r=e.children;if(e.x=t+=i*e.x,e.y=n+=i*e.y,e.r*=i,r)for(var o=-1,s=r.length;s>++o;)bo(r[o],t,n,i)}function Eo(e,t,n){var i=e.r+n.r,r=t.x-e.x,o=t.y-e.y;if(i&&(r||o)){var s=t.r+n.r,a=r*r+o*o;s*=s,i*=i;var l=.5+(i-s)/(2*a),c=Math.sqrt(Math.max(0,2*s*(i+a)-(i-=a)*i-s*s))/(2*a);n.x=e.x+l*r+c*o,n.y=e.y+l*o-c*r}else n.x=e.x+i,n.y=e.y}function Co(e,t){return e.parent==t.parent?1:2}function _o(e){var t=e.children;return t.length?t[0]:e.t}function wo(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Ao(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function So(e){for(var t,n=0,i=0,r=e.children,o=r.length;--o>=0;)t=r[o],t.z+=n,t.m+=n,n+=t.s+(i+=t.c)}function Do(e,t,n){return e.a.parent===t.parent?e.a:n}function xo(e){return 1+zs.max(e,function(e){return e.y})}function To(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function ko(e){var t=e.children;return t&&t.length?ko(t[0]):e}function Fo(e){var t,n=e.children;return n&&(t=n.length)?Fo(n[t-1]):e}function No(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Mo(e,t){var n=e.x+t[3],i=e.y+t[0],r=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return 0>r&&(n+=r/2,r=0),0>o&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function Ro(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function Lo(e){return e.rangeExtent?e.rangeExtent():Ro(e.range())}function Io(e,t,n,i){var r=n(e[0],e[1]),o=i(t[0],t[1]);return function(e){return o(r(e))}}function Oo(e,t){var n,i=0,r=e.length-1,o=e[i],s=e[r];return o>s&&(n=i,i=r,r=n,n=o,o=s,s=n),e[i]=t.floor(o),e[r]=t.ceil(s),e}function Bo(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:uc}function Po(e,t,n,i){var r=[],o=[],s=0,a=Math.min(e.length,t.length)-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());a>=++s;)r.push(n(e[s-1],e[s])),o.push(i(t[s-1],t[s]));return function(t){var n=zs.bisect(e,t,1,a)-1;return o[n](r[n](t))}}function $o(e,t,n,i){function r(){var r=Math.min(e.length,t.length)>2?Po:Io,l=i?Pr:Br;return s=r(e,t,l,n),a=r(t,e,l,pr),o}function o(e){return s(e)}var s,a;return o.invert=function(e){return a(e)},o.domain=function(t){return arguments.length?(e=t.map(Number),r()):e},o.range=function(e){return arguments.length?(t=e,r()):t},o.rangeRound=function(e){return o.range(e).interpolate(Nr)},o.clamp=function(e){return arguments.length?(i=e,r()):i},o.interpolate=function(e){return arguments.length?(n=e,r()):n},o.ticks=function(t){return Ho(e,t)},o.tickFormat=function(t,n){return Wo(e,t,n)},o.nice=function(t){return Vo(e,t),r()},o.copy=function(){return $o(e,t,n,i)},r()}function Uo(e,t){return zs.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Vo(e,t){return Oo(e,Bo(jo(e,t)[2]))}function jo(e,t){null==t&&(t=10);var n=Ro(e),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),o=t/i*r;return.15>=o?r*=10:.35>=o?r*=5:.75>=o&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Ho(e,t){return zs.range.apply(zs,jo(e,t))}function Wo(e,t,n){var i=jo(e,t);if(n){var r=Ja.exec(n);if(r.shift(),"s"===r[8]){var o=zs.formatPrefix(Math.max(oa(i[0]),oa(i[1])));return r[7]||(r[7]="."+zo(o.scale(i[2]))),r[8]="f",n=zs.format(r.join("")),function(e){return n(o.scale(e))+o.symbol}}r[7]||(r[7]="."+qo(r[8],i)),n=r.join("")}else n=",."+zo(i[2])+"f";return zs.format(n)}function zo(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function qo(e,t){var n=zo(t[2]);return e in dc?Math.abs(n-zo(Math.max(oa(t[0]),oa(t[1]))))+ +("e"!==e):n-2*("%"===e)}function Go(e,t,n,i){function r(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function o(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function s(t){return e(r(t))}return s.invert=function(t){return o(e.invert(t))},s.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((i=t.map(Number)).map(r)),s):i},s.base=function(n){return arguments.length?(t=+n,e.domain(i.map(r)),s):t},s.nice=function(){var t=Oo(i.map(r),n?Math:pc);return e.domain(t),i=t.map(o),s},s.ticks=function(){var e=Ro(i),s=[],a=e[0],l=e[1],c=Math.floor(r(a)),u=Math.ceil(r(l)),d=t%1?2:t;if(isFinite(u-c)){if(n){for(;u>c;c++)for(var h=1;d>h;h++)s.push(o(c)*h);s.push(o(c))}else for(s.push(o(c));u>c++;)for(var h=d-1;h>0;h--)s.push(o(c)*h);for(c=0;a>s[c];c++);for(u=s.length;s[u-1]>l;u--);s=s.slice(c,u)}return s},s.tickFormat=function(e,t){if(!arguments.length)return hc;2>arguments.length?t=hc:"function"!=typeof t&&(t=zs.format(t));var i,a=Math.max(.1,e/s.ticks().length),l=n?(i=1e-12,Math.ceil):(i=-1e-12,Math.floor);return function(e){return a>=e/o(l(r(e)+i))?t(e):""}},s.copy=function(){return Go(e.copy(),t,n,i)},Uo(s,e)}function Ko(e,t,n){function i(t){return e(r(t))}var r=Yo(t),o=Yo(1/t);return i.invert=function(t){return o(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(r)),i):n},i.ticks=function(e){return Ho(n,e)},i.tickFormat=function(e,t){return Wo(n,e,t)},i.nice=function(e){return i.domain(Vo(n,e))},i.exponent=function(s){return arguments.length?(r=Yo(t=s),o=Yo(1/t),e.domain(n.map(r)),i):t},i.copy=function(){return Ko(e.copy(),t,n)},Uo(i,e)}function Yo(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function Xo(e,t){function n(n){return o[((r.get(n)||("range"===t.t?r.set(n,e.push(n)):0/0))-1)%o.length]}function i(t,n){return zs.range(e.length).map(function(e){return t+n*e})}var r,o,a;return n.domain=function(i){if(!arguments.length)return e;e=[],r=new s;for(var o,a=-1,l=i.length;l>++a;)r.has(o=i[a])||r.set(o,e.push(o));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(o=e,a=0,t={t:"range",a:arguments},n):o},n.rangePoints=function(r,s){2>arguments.length&&(s=0);var l=r[0],c=r[1],u=(c-l)/(Math.max(1,e.length-1)+s);return o=i(2>e.length?(l+c)/2:l+u*s/2,u),a=0,t={t:"rangePoints",a:arguments},n},n.rangeBands=function(r,s,l){2>arguments.length&&(s=0),3>arguments.length&&(l=s);var c=r[1]<r[0],u=r[c-0],d=r[1-c],h=(d-u)/(e.length-s+2*l);return o=i(u+h*l,h),c&&o.reverse(),a=h*(1-s),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,s,l){2>arguments.length&&(s=0),3>arguments.length&&(l=s);var c=r[1]<r[0],u=r[c-0],d=r[1-c],h=Math.floor((d-u)/(e.length-s+2*l)),p=d-u-(e.length-s)*h;return o=i(u+Math.round(p/2),h),c&&o.reverse(),a=Math.round(h*(1-s)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Ro(t.a[0])},n.copy=function(){return Xo(e,t)},n.domain(e)}function Qo(n,i){function r(){var e=0,t=i.length;for(s=[];t>++e;)s[e-1]=zs.quantile(n,e/t);return o}function o(e){return isNaN(e=+e)?void 0:i[zs.bisect(s,e)]}var s;return o.domain=function(i){return arguments.length?(n=i.filter(t).sort(e),r()):n},o.range=function(e){return arguments.length?(i=e,r()):i},o.quantiles=function(){return s},o.invertExtent=function(e){return e=i.indexOf(e),0>e?[0/0,0/0]:[e>0?s[e-1]:n[0],s.length>e?s[e]:n[n.length-1]]},o.copy=function(){return Qo(n,i)},r()}function Jo(e,t,n){function i(t){return n[Math.max(0,Math.min(s,Math.floor(o*(t-e))))]}function r(){return o=n.length/(t-e),s=n.length-1,i}var o,s;return i.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],r()):[e,t]},i.range=function(e){return arguments.length?(n=e,r()):n},i.invertExtent=function(t){return t=n.indexOf(t),t=0>t?0/0:t/o+e,[t,t+1/o]},i.copy=function(){return Jo(e,t,n)},r()}function Zo(e,t){function n(n){return n>=n?t[zs.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return Zo(e,t)},n}function es(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Ho(e,t)},t.tickFormat=function(t,n){return Wo(e,t,n)},t.copy=function(){return es(e)},t}function ts(e){return e.innerRadius}function ns(e){return e.outerRadius}function is(e){return e.startAngle}function rs(e){return e.endAngle}function os(e){function t(t){function s(){c.push("M",o(e(u),a))}for(var l,c=[],u=[],d=-1,h=t.length,p=_t(n),f=_t(i);h>++d;)r.call(this,l=t[d],d)?u.push([+p.call(this,l,d),+f.call(this,l,d)]):u.length&&(s(),u=[]);return u.length&&s(),c.length?c.join(""):null}var n=Ai,i=Si,r=An,o=ss,s=o.key,a=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(i=e,t):i},t.defined=function(e){return arguments.length?(r=e,t):r},t.interpolate=function(e){return arguments.length?(s="function"==typeof e?o=e:(o=Ec.get(e)||ss).key,t):s},t.tension=function(e){return arguments.length?(a=e,t):a},t}function ss(e){return e.join("L")}function as(e){return ss(e)+"Z"}function ls(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];n>++t;)r.push("H",(i[0]+(i=e[t])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function cs(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];n>++t;)r.push("V",(i=e[t])[1],"H",i[0]);return r.join("")}function us(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];n>++t;)r.push("H",(i=e[t])[0],"V",i[1]);return r.join("")}function ds(e,t){return 4>e.length?ss(e):e[1]+fs(e.slice(1,e.length-1),gs(e,t))}function hs(e,t){return 3>e.length?ss(e):e[0]+fs((e.push(e[0]),e),gs([e[e.length-2]].concat(e,[e[1]]),t))}function ps(e,t){return 3>e.length?ss(e):e[0]+fs(e,gs(e,t))}function fs(e,t){if(1>t.length||e.length!=t.length&&e.length!=t.length+2)return ss(e);var n=e.length!=t.length,i="",r=e[0],o=e[1],s=t[0],a=s,l=1;if(n&&(i+="Q"+(o[0]-2*s[0]/3)+","+(o[1]-2*s[1]/3)+","+o[0]+","+o[1],r=e[1],l=2),t.length>1){a=t[1],o=e[l],l++,i+="C"+(r[0]+s[0])+","+(r[1]+s[1])+","+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var c=2;t.length>c;c++,l++)o=e[l],a=t[c],i+="S"+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(n){var u=e[l];i+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+u[0]+","+u[1]
}return i}function gs(e,t){for(var n,i=[],r=(1-t)/2,o=e[0],s=e[1],a=1,l=e.length;l>++a;)n=o,o=s,s=e[a],i.push([r*(s[0]-n[0]),r*(s[1]-n[1])]);return i}function ms(e){if(3>e.length)return ss(e);var t=1,n=e.length,i=e[0],r=i[0],o=i[1],s=[r,r,r,(i=e[1])[0]],a=[o,o,o,i[1]],l=[r,",",o,"L",Es(wc,s),",",Es(wc,a)];for(e.push(e[n-1]);n>=++t;)i=e[t],s.shift(),s.push(i[0]),a.shift(),a.push(i[1]),Cs(l,s,a);return e.pop(),l.push("L",i),l.join("")}function vs(e){if(4>e.length)return ss(e);for(var t,n=[],i=-1,r=e.length,o=[0],s=[0];3>++i;)t=e[i],o.push(t[0]),s.push(t[1]);for(n.push(Es(wc,o)+","+Es(wc,s)),--i;r>++i;)t=e[i],o.shift(),o.push(t[0]),s.shift(),s.push(t[1]),Cs(n,o,s);return n.join("")}function ys(e){for(var t,n,i=-1,r=e.length,o=r+4,s=[],a=[];4>++i;)n=e[i%r],s.push(n[0]),a.push(n[1]);for(t=[Es(wc,s),",",Es(wc,a)],--i;o>++i;)n=e[i%r],s.shift(),s.push(n[0]),a.shift(),a.push(n[1]),Cs(t,s,a);return t.join("")}function bs(e,t){var n=e.length-1;if(n)for(var i,r,o=e[0][0],s=e[0][1],a=e[n][0]-o,l=e[n][1]-s,c=-1;n>=++c;)i=e[c],r=c/n,i[0]=t*i[0]+(1-t)*(o+r*a),i[1]=t*i[1]+(1-t)*(s+r*l);return ms(e)}function Es(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Cs(e,t,n){e.push("C",Es(Cc,t),",",Es(Cc,n),",",Es(_c,t),",",Es(_c,n),",",Es(wc,t),",",Es(wc,n))}function _s(e,t){return(t[1]-e[1])/(t[0]-e[0])}function ws(e){for(var t=0,n=e.length-1,i=[],r=e[0],o=e[1],s=i[0]=_s(r,o);n>++t;)i[t]=(s+(s=_s(r=o,o=e[t+1])))/2;return i[t]=s,i}function As(e){for(var t,n,i,r,o=[],s=ws(e),a=-1,l=e.length-1;l>++a;)t=_s(e[a],e[a+1]),Da>oa(t)?s[a]=s[a+1]=0:(n=s[a]/t,i=s[a+1]/t,r=n*n+i*i,r>9&&(r=3*t/Math.sqrt(r),s[a]=r*n,s[a+1]=r*i));for(a=-1;l>=++a;)r=(e[Math.min(l,a+1)][0]-e[Math.max(0,a-1)][0])/(6*(1+s[a]*s[a])),o.push([r||0,s[a]*r||0]);return o}function Ss(e){return 3>e.length?ss(e):e[0]+fs(e,As(e))}function Ds(e){for(var t,n,i,r=-1,o=e.length;o>++r;)t=e[r],n=t[0],i=t[1]+yc,t[0]=n*Math.cos(i),t[1]=n*Math.sin(i);return e}function xs(e){function t(t){function l(){g.push("M",a(e(v),d),u,c(e(m.reverse()),d),"Z")}for(var h,p,f,g=[],m=[],v=[],y=-1,b=t.length,E=_t(n),C=_t(r),_=n===i?function(){return p}:_t(i),w=r===o?function(){return f}:_t(o);b>++y;)s.call(this,h=t[y],y)?(m.push([p=+E.call(this,h,y),f=+C.call(this,h,y)]),v.push([+_.call(this,h,y),+w.call(this,h,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=Ai,i=Ai,r=0,o=Si,s=An,a=ss,l=a.key,c=a,u="L",d=.7;return t.x=function(e){return arguments.length?(n=i=e,t):i},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(r=o=e,t):o},t.y0=function(e){return arguments.length?(r=e,t):r},t.y1=function(e){return arguments.length?(o=e,t):o},t.defined=function(e){return arguments.length?(s=e,t):s},t.interpolate=function(e){return arguments.length?(l="function"==typeof e?a=e:(a=Ec.get(e)||ss).key,c=a.reverse||a,u=a.closed?"M":"L",t):l},t.tension=function(e){return arguments.length?(d=e,t):d},t}function Ts(e){return e.radius}function ks(e){return[e.x,e.y]}function Fs(e){return function(){var t=e.apply(this,arguments),n=t[0],i=t[1]+yc;return[n*Math.cos(i),n*Math.sin(i)]}}function Ns(){return 64}function Ms(){return"circle"}function Rs(e){var t=Math.sqrt(e/wa);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Ls(e,t){return ua(e,kc),e.id=t,e}function Is(e,t,n,i){var r=e.id;return O(e,"function"==typeof n?function(e,o,s){e.__transition__[r].tween.set(t,i(n.call(e,e.__data__,o,s)))}:(n=i(n),function(e){e.__transition__[r].tween.set(t,n)}))}function Os(e){return null==e&&(e=""),function(){this.textContent=e}}function Bs(e,t,n,i){var r=e.__transition__||(e.__transition__={active:0,count:0}),o=r[n];if(!o){var a=i.time;o=r[n]={tween:new s,time:a,ease:i.ease,delay:i.delay,duration:i.duration},++r.count,zs.timer(function(i){function s(i){return r.active>n?c():(r.active=n,o.event&&o.event.start.call(e,u,t),o.tween.forEach(function(n,i){(i=i.call(e,u,t))&&g.push(i)}),zs.timer(function(){return f.c=l(i||1)?An:l,1},0,a),void 0)}function l(i){if(r.active!==n)return c();for(var s=i/p,a=d(s),l=g.length;l>0;)g[--l].call(e,a);return s>=1?(o.event&&o.event.end.call(e,u,t),c()):void 0}function c(){return--r.count?delete r[n]:delete e.__transition__,1}var u=e.__data__,d=o.ease,h=o.delay,p=o.duration,f=Ya,g=[];return f.t=h+a,i>=h?s(i-h):(f.c=s,void 0)},0,a)}}function Ps(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function $s(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function Us(e){return e.toISOString()}function Vs(e,t,n){function i(t){return e(t)}function r(e,n){var i=e[1]-e[0],r=i/n,o=zs.bisect(Pc,r);return o==Pc.length?[t.year,jo(e.map(function(e){return e/31536e6}),n)[2]]:o?t[r/Pc[o-1]<Pc[o]/r?o-1:o]:[Vc,jo(e,n)[2]]}return i.invert=function(t){return js(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain().map(js)},i.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,js(+n+1),t).length}var o=i.domain(),s=Ro(o),a=null==e?r(s,10):"number"==typeof e&&r(s,e);return a&&(e=a[0],t=a[1]),i.domain(Oo(o,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=js(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=js(+t+1);return t}}:e))},i.ticks=function(e,t){var n=Ro(i.domain()),o=null==e?r(n,10):"number"==typeof e?r(n,e):!e.range&&[{range:e},t];return o&&(e=o[0],t=o[1]),e.range(n[0],js(+n[1]+1),1>t?1:t)},i.tickFormat=function(){return n},i.copy=function(){return Vs(e.copy(),t,n)},Uo(i,e)}function js(e){return new Date(e)}function Hs(e){return JSON.parse(e.responseText)}function Ws(e){var t=Ks.createRange();return t.selectNode(Ks.body),t.createContextualFragment(e.responseText)}var zs={version:"3.4.11"};Date.now||(Date.now=function(){return+new Date});var qs=[].slice,Gs=function(e){return qs.call(e)},Ks=document,Ys=Ks.documentElement,Xs=window;try{Gs(Ys.childNodes)[0].nodeType}catch(Qs){Gs=function(e){for(var t=e.length,n=Array(t);t--;)n[t]=e[t];return n}}try{Ks.createElement("div").style.setProperty("opacity",0,"")}catch(Js){var Zs=Xs.Element.prototype,ea=Zs.setAttribute,ta=Zs.setAttributeNS,na=Xs.CSSStyleDeclaration.prototype,ia=na.setProperty;Zs.setAttribute=function(e,t){ea.call(this,e,t+"")},Zs.setAttributeNS=function(e,t,n){ta.call(this,e,t,n+"")},na.setProperty=function(e,t,n){ia.call(this,e,t+"",n)}}zs.ascending=e,zs.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:0/0},zs.min=function(e,t){var n,i,r=-1,o=e.length;if(1===arguments.length){for(;o>++r&&!(null!=(n=e[r])&&n>=n);)n=void 0;for(;o>++r;)null!=(i=e[r])&&n>i&&(n=i)}else{for(;o>++r&&!(null!=(n=t.call(e,e[r],r))&&n>=n);)n=void 0;for(;o>++r;)null!=(i=t.call(e,e[r],r))&&n>i&&(n=i)}return n},zs.max=function(e,t){var n,i,r=-1,o=e.length;if(1===arguments.length){for(;o>++r&&!(null!=(n=e[r])&&n>=n);)n=void 0;for(;o>++r;)null!=(i=e[r])&&i>n&&(n=i)}else{for(;o>++r&&!(null!=(n=t.call(e,e[r],r))&&n>=n);)n=void 0;for(;o>++r;)null!=(i=t.call(e,e[r],r))&&i>n&&(n=i)}return n},zs.extent=function(e,t){var n,i,r,o=-1,s=e.length;if(1===arguments.length){for(;s>++o&&!(null!=(n=r=e[o])&&n>=n);)n=r=void 0;for(;s>++o;)null!=(i=e[o])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;s>++o&&!(null!=(n=r=t.call(e,e[o],o))&&n>=n);)n=void 0;for(;s>++o;)null!=(i=t.call(e,e[o],o))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},zs.sum=function(e,t){var n,i=0,r=e.length,o=-1;if(1===arguments.length)for(;r>++o;)isNaN(n=+e[o])||(i+=n);else for(;r>++o;)isNaN(n=+t.call(e,e[o],o))||(i+=n);return i},zs.mean=function(e,n){var i,r=0,o=e.length,s=-1,a=o;if(1===arguments.length)for(;o>++s;)t(i=e[s])?r+=i:--a;else for(;o>++s;)t(i=n.call(e,e[s],s))?r+=i:--a;return a?r/a:void 0},zs.quantile=function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),r=+e[i-1],o=n-i;return o?r+o*(e[i]-r):r},zs.median=function(n,i){return arguments.length>1&&(n=n.map(i)),n=n.filter(t),n.length?zs.quantile(n.sort(e),.5):void 0};var ra=n(e);zs.bisectLeft=ra.left,zs.bisect=zs.bisectRight=ra.right,zs.bisector=function(t){return n(1===t.length?function(n,i){return e(t(n),i)}:t)},zs.shuffle=function(e){for(var t,n,i=e.length;i;)n=0|Math.random()*i--,t=e[i],e[i]=e[n],e[n]=t;return e},zs.permute=function(e,t){for(var n=t.length,i=Array(n);n--;)i[n]=e[t[n]];return i},zs.pairs=function(e){for(var t,n=0,i=e.length-1,r=e[0],o=Array(0>i?0:i);i>n;)o[n]=[t=r,r=e[++n]];return o},zs.zip=function(){if(!(r=arguments.length))return[];for(var e=-1,t=zs.min(arguments,i),n=Array(t);t>++e;)for(var r,o=-1,s=n[e]=Array(r);r>++o;)s[o]=arguments[o][e];return n},zs.transpose=function(e){return zs.zip.apply(zs,e)},zs.keys=function(e){var t=[];for(var n in e)t.push(n);return t},zs.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},zs.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},zs.merge=function(e){for(var t,n,i,r=e.length,o=-1,s=0;r>++o;)s+=e[o].length;for(n=Array(s);--r>=0;)for(i=e[r],t=i.length;--t>=0;)n[--s]=i[t];return n};var oa=Math.abs;zs.range=function(e,t,n){if(3>arguments.length&&(n=1,2>arguments.length&&(t=e,e=0)),1/0===(t-e)/n)throw Error("infinite range");var i,o=[],s=r(oa(n)),a=-1;if(e*=s,t*=s,n*=s,0>n)for(;(i=e+n*++a)>t;)o.push(i/s);else for(;t>(i=e+n*++a);)o.push(i/s);return o},zs.map=function(e){var t=new s;if(e instanceof s)e.forEach(function(e,n){t.set(e,n)});else for(var n in e)t.set(n,e[n]);return t},o(s,{has:a,get:function(e){return this[sa+e]},set:function(e,t){return this[sa+e]=t},remove:l,keys:c,values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},size:u,empty:d,forEach:function(e){for(var t in this)t.charCodeAt(0)===aa&&e.call(this,t.substring(1),this[t])}});var sa="\0",aa=sa.charCodeAt(0);zs.nest=function(){function e(t,a,l){if(l>=o.length)return i?i.call(r,a):n?a.sort(n):a;for(var c,u,d,h,p=-1,f=a.length,g=o[l++],m=new s;f>++p;)(h=m.get(c=g(u=a[p])))?h.push(u):m.set(c,[u]);return t?(u=t(),d=function(n,i){u.set(n,e(t,i,l))}):(u={},d=function(n,i){u[n]=e(t,i,l)}),m.forEach(d),u}function t(e,n){if(n>=o.length)return e;var i=[],r=a[n++];return e.forEach(function(e,r){i.push({key:e,values:t(r,n)})}),r?i.sort(function(e,t){return r(e.key,t.key)}):i}var n,i,r={},o=[],a=[];return r.map=function(t,n){return e(n,t,0)},r.entries=function(n){return t(e(zs.map,n,0),0)},r.key=function(e){return o.push(e),r},r.sortKeys=function(e){return a[o.length-1]=e,r},r.sortValues=function(e){return n=e,r},r.rollup=function(e){return i=e,r},r},zs.set=function(e){var t=new h;if(e)for(var n=0,i=e.length;i>n;++n)t.add(e[n]);return t},o(h,{has:a,add:function(e){return this[sa+e]=!0,e},remove:function(e){return e=sa+e,e in this&&delete this[e]},values:c,size:u,empty:d,forEach:function(e){for(var t in this)t.charCodeAt(0)===aa&&e.call(this,t.substring(1))}}),zs.behavior={},zs.rebind=function(e,t){for(var n,i=1,r=arguments.length;r>++i;)e[n=arguments[i]]=p(e,t,t[n]);return e};var la=["webkit","ms","moz","Moz","o","O"];zs.dispatch=function(){for(var e=new m,t=-1,n=arguments.length;n>++t;)e[arguments[t]]=v(e);return e},m.prototype.on=function(e,t){var n=e.indexOf("."),i="";if(n>=0&&(i=e.substring(n+1),e=e.substring(0,n)),e)return 2>arguments.length?this[e].on(i):this[e].on(i,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(i,null);return this}},zs.event=null,zs.requote=function(e){return e.replace(ca,"\\$&")};var ca=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ua={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},da=function(e,t){return t.querySelector(e)},ha=function(e,t){return t.querySelectorAll(e)},pa=Ys.matches||Ys[f(Ys,"matchesSelector")],fa=function(e,t){return pa.call(e,t)};"function"==typeof Sizzle&&(da=function(e,t){return Sizzle(e,t)[0]||null},ha=Sizzle,fa=Sizzle.matchesSelector),zs.selection=function(){return ya};var ga=zs.selection.prototype=[];ga.select=function(e){var t,n,i,r,o=[];e=_(e);for(var s=-1,a=this.length;a>++s;){o.push(t=[]),t.parentNode=(i=this[s]).parentNode;for(var l=-1,c=i.length;c>++l;)(r=i[l])?(t.push(n=e.call(r,r.__data__,l,s)),n&&"__data__"in r&&(n.__data__=r.__data__)):t.push(null)}return C(o)},ga.selectAll=function(e){var t,n,i=[];e=w(e);for(var r=-1,o=this.length;o>++r;)for(var s=this[r],a=-1,l=s.length;l>++a;)(n=s[a])&&(i.push(t=Gs(e.call(n,n.__data__,a,r))),t.parentNode=n);return C(i)};var ma={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};zs.ns={prefix:ma,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.substring(0,t),e=e.substring(t+1)),ma.hasOwnProperty(n)?{space:ma[n],local:e}:e}},ga.attr=function(e,t){if(2>arguments.length){if("string"==typeof e){var n=this.node();return e=zs.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(A(t,e[t]));return this}return this.each(A(e,t))},ga.classed=function(e,t){if(2>arguments.length){if("string"==typeof e){var n=this.node(),i=(e=x(e)).length,r=-1;if(t=n.classList){for(;i>++r;)if(!t.contains(e[r]))return!1}else for(t=n.getAttribute("class");i>++r;)if(!D(e[r]).test(t))return!1;return!0}for(t in e)this.each(T(t,e[t]));return this}return this.each(T(e,t))},ga.style=function(e,t,n){var i=arguments.length;if(3>i){if("string"!=typeof e){2>i&&(t="");for(n in e)this.each(F(n,e[n],t));return this}if(2>i)return Xs.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(F(e,t,n))},ga.property=function(e,t){if(2>arguments.length){if("string"==typeof e)return this.node()[e];for(t in e)this.each(N(t,e[t]));return this}return this.each(N(e,t))},ga.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},ga.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},ga.append=function(e){return e=M(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},ga.insert=function(e,t){return e=M(e),t=_(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},ga.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},ga.data=function(e,t){function n(e,n){var i,r,o,a=e.length,d=n.length,h=Math.min(a,d),p=Array(d),f=Array(d),g=Array(a);if(t){var m,v=new s,y=new s,b=[];for(i=-1;a>++i;)m=t.call(r=e[i],r.__data__,i),v.has(m)?g[i]=r:v.set(m,r),b.push(m);for(i=-1;d>++i;)m=t.call(n,o=n[i],i),(r=v.get(m))?(p[i]=r,r.__data__=o):y.has(m)||(f[i]=R(o)),y.set(m,o),v.remove(m);for(i=-1;a>++i;)v.has(b[i])&&(g[i]=e[i])}else{for(i=-1;h>++i;)r=e[i],o=n[i],r?(r.__data__=o,p[i]=r):f[i]=R(o);for(;d>i;++i)f[i]=R(n[i]);for(;a>i;++i)g[i]=e[i]}f.update=p,f.parentNode=p.parentNode=g.parentNode=e.parentNode,l.push(f),c.push(p),u.push(g)}var i,r,o=-1,a=this.length;if(!arguments.length){for(e=Array(a=(i=this[0]).length);a>++o;)(r=i[o])&&(e[o]=r.__data__);return e}var l=B([]),c=C([]),u=C([]);if("function"==typeof e)for(;a>++o;)n(i=this[o],e.call(i,i.parentNode.__data__,o));else for(;a>++o;)n(i=this[o],e);return c.enter=function(){return l},c.exit=function(){return u},c},ga.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},ga.filter=function(e){var t,n,i,r=[];"function"!=typeof e&&(e=L(e));for(var o=0,s=this.length;s>o;o++){r.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var a=0,l=n.length;l>a;a++)(i=n[a])&&e.call(i,i.__data__,a,o)&&t.push(i)}return C(r)},ga.order=function(){for(var e=-1,t=this.length;t>++e;)for(var n,i=this[e],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},ga.sort=function(e){e=I.apply(this,arguments);for(var t=-1,n=this.length;n>++t;)this[t].sort(e);return this.order()},ga.each=function(e){return O(this,function(t,n,i){e.call(t,t.__data__,n,i)})},ga.call=function(e){var t=Gs(arguments);return e.apply(t[0]=this,t),this},ga.empty=function(){return!this.node()},ga.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],i=0,r=n.length;r>i;i++){var o=n[i];if(o)return o}return null},ga.size=function(){var e=0;return this.each(function(){++e}),e};var va=[];zs.selection.enter=B,zs.selection.enter.prototype=va,va.append=ga.append,va.empty=ga.empty,va.node=ga.node,va.call=ga.call,va.size=ga.size,va.select=function(e){for(var t,n,i,r,o,s=[],a=-1,l=this.length;l>++a;){i=(r=this[a]).update,s.push(t=[]),t.parentNode=r.parentNode;for(var c=-1,u=r.length;u>++c;)(o=r[c])?(t.push(i[c]=n=e.call(r.parentNode,o.__data__,c,a)),n.__data__=o.__data__):t.push(null)}return C(s)},va.insert=function(e,t){return 2>arguments.length&&(t=P(this)),ga.insert.call(this,e,t)},ga.transition=function(){for(var e,t,n=Sc||++Fc,i=[],r=Dc||{time:Date.now(),ease:Er,delay:0,duration:250},o=-1,s=this.length;s>++o;){i.push(e=[]);for(var a=this[o],l=-1,c=a.length;c>++l;)(t=a[l])&&Bs(t,l,n,r),e.push(t)}return Ls(i,n)},ga.interrupt=function(){return this.each($)},zs.select=function(e){var t=["string"==typeof e?da(e,Ks):e];return t.parentNode=Ys,C([t])},zs.selectAll=function(e){var t=Gs("string"==typeof e?ha(e,Ks):e);return t.parentNode=Ys,C([t])};var ya=zs.select(Ys);ga.on=function(e,t,n){var i=arguments.length;if(3>i){if("string"!=typeof e){2>i&&(t=!1);for(n in e)this.each(U(n,e[n],t));return this}if(2>i)return(i=this.node()["__on"+e])&&i._;n=!1}return this.each(U(e,t,n))};var ba=zs.map({mouseenter:"mouseover",mouseleave:"mouseout"});ba.forEach(function(e){"on"+e in Ks&&ba.remove(e)});var Ea="onselectstart"in Ks?null:f(Ys.style,"userSelect"),Ca=0;zs.mouse=function(e){return W(e,b())};var _a=/WebKit/.test(Xs.navigator.userAgent)?-1:0;zs.touches=function(e,t){return 2>arguments.length&&(t=b().touches),t?Gs(t).map(function(t){var n=W(e,t);return n.identifier=t.identifier,n}):[]},zs.behavior.drag=function(){function e(){this.on("mousedown.drag",r).on("touchstart.drag",o)}function t(e,t,r,o,s){return function(){function a(){var e,n,i=t(h,g);i&&(e=i[0]-b[0],n=i[1]-b[1],f|=e|n,b=i,p({type:"drag",x:i[0]+c[0],y:i[1]+c[1],dx:e,dy:n}))}function l(){t(h,g)&&(v.on(o+m,null).on(s+m,null),y(f&&zs.event.target===d),p({type:"dragend"}))}var c,u=this,d=zs.event.target,h=u.parentNode,p=n.of(u,arguments),f=0,g=e(),m=".drag"+(null==g?"":"-"+g),v=zs.select(r()).on(o+m,a).on(s+m,l),y=H(),b=t(h,g);i?(c=i.apply(u,arguments),c=[c.x-b[0],c.y-b[1]]):c=[0,0],p({type:"dragstart"})}}var n=E(e,"drag","dragstart","dragend"),i=null,r=t(g,zs.mouse,G,"mousemove","mouseup"),o=t(z,zs.touch,q,"touchmove","touchend");return e.origin=function(t){return arguments.length?(i=t,e):i},zs.rebind(e,n,"on")};var wa=Math.PI,Aa=2*wa,Sa=wa/2,Da=1e-6,xa=Da*Da,Ta=wa/180,ka=180/wa,Fa=Math.SQRT2,Na=2,Ma=4;zs.interpolateZoom=function(e,t){function n(e){var t=e*y;if(v){var n=Z(g),s=o/(Na*h)*(n*et(Fa*t+g)-J(g));return[i+s*c,r+s*u,o*n/Z(Fa*t+g)]}return[i+e*c,r+e*u,o*Math.exp(Fa*t)]}var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1],l=t[2],c=s-i,u=a-r,d=c*c+u*u,h=Math.sqrt(d),p=(l*l-o*o+Ma*d)/(2*o*Na*h),f=(l*l-o*o-Ma*d)/(2*l*Na*h),g=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(f*f+1)-f),v=m-g,y=(v||Math.log(l/o))/Fa;return n.duration=1e3*y,n},zs.behavior.zoom=function(){function e(e){e.on(x,c).on(Ia+".zoom",d).on("dblclick.zoom",h).on(F,u)}function t(e){return[(e[0]-A.x)/A.k,(e[1]-A.y)/A.k]}function n(e){return[e[0]*A.k+A.x,e[1]*A.k+A.y]}function i(e){A.k=Math.max(D[0],Math.min(D[1],e))}function r(e,t){t=n(t),A.x+=e[0]-t[0],A.y+=e[1]-t[1]}function o(){C&&C.domain(b.range().map(function(e){return(e-A.x)/A.k}).map(b.invert)),w&&w.domain(_.range().map(function(e){return(e-A.y)/A.k}).map(_.invert))}function s(e){e({type:"zoomstart"})}function a(e){o(),e({type:"zoom",scale:A.k,translate:[A.x,A.y]})}function l(e){e({type:"zoomend"})}function c(){function e(){u=1,r(zs.mouse(i),h),a(c)}function n(){d.on(T,null).on(k,null),p(u&&zs.event.target===o),l(c)}var i=this,o=zs.event.target,c=N.of(i,arguments),u=0,d=zs.select(Xs).on(T,e).on(k,n),h=t(zs.mouse(i)),p=H();$.call(i),s(c)}function u(){function e(){var e=zs.touches(p);return h=A.k,e.forEach(function(e){e.identifier in g&&(g[e.identifier]=t(e))}),e}function n(){var t=zs.event.target;zs.select(t).on(E,o).on(C,d),_.push(t);for(var n=zs.event.changedTouches,s=0,l=n.length;l>s;++s)g[n[s].identifier]=null;var c=e(),u=Date.now();if(1===c.length){if(500>u-v){var h=c[0],p=g[h.identifier];i(2*A.k),r(h,p),y(),a(f)}v=u}else if(c.length>1){var h=c[0],b=c[1],w=h[0]-b[0],S=h[1]-b[1];m=w*w+S*S}}function o(){for(var e,t,n,o,s=zs.touches(p),l=0,c=s.length;c>l;++l,o=null)if(n=s[l],o=g[n.identifier]){if(t)break;e=n,t=o}if(o){var u=(u=n[0]-e[0])*u+(u=n[1]-e[1])*u,d=m&&Math.sqrt(u/m);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+o[0])/2,(t[1]+o[1])/2],i(d*h)}v=null,r(e,t),a(f)}function d(){if(zs.event.touches.length){for(var t=zs.event.changedTouches,n=0,i=t.length;i>n;++n)delete g[t[n].identifier];for(var r in g)return void e()}zs.selectAll(_).on(b,null),w.on(x,c).on(F,u),S(),l(f)}var h,p=this,f=N.of(p,arguments),g={},m=0,b=".zoom-"+zs.event.changedTouches[0].identifier,E="touchmove"+b,C="touchend"+b,_=[],w=zs.select(p).on(x,null).on(F,n),S=H();$.call(p),n(),s(f)}function d(){var e=N.of(this,arguments);m?clearTimeout(m):(p=t(f=g||zs.mouse(this)),$.call(this),s(e)),m=setTimeout(function(){m=null,l(e)},50),y(),i(Math.pow(2,.002*Ra())*A.k),r(f,p),a(e)}function h(){var e=N.of(this,arguments),n=zs.mouse(this),o=t(n),c=Math.log(A.k)/Math.LN2;s(e),i(Math.pow(2,zs.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)),r(n,o),a(e),l(e)}var p,f,g,m,v,b,C,_,w,A={x:0,y:0,k:1},S=[960,500],D=La,x="mousedown.zoom",T="mousemove.zoom",k="mouseup.zoom",F="touchstart.zoom",N=E(e,"zoomstart","zoom","zoomend");return e.event=function(e){e.each(function(){var e=N.of(this,arguments),t=A;Sc?zs.select(this).transition().each("start.zoom",function(){A=this.__chart__||{x:0,y:0,k:1},s(e)}).tween("zoom:zoom",function(){var n=S[0],i=S[1],r=n/2,o=i/2,s=zs.interpolateZoom([(r-A.x)/A.k,(o-A.y)/A.k,n/A.k],[(r-t.x)/t.k,(o-t.y)/t.k,n/t.k]);return function(t){var i=s(t),l=n/i[2];this.__chart__=A={x:r-i[0]*l,y:o-i[1]*l,k:l},a(e)}}).each("end.zoom",function(){l(e)}):(this.__chart__=A,s(e),a(e),l(e))})},e.translate=function(t){return arguments.length?(A={x:+t[0],y:+t[1],k:A.k},o(),e):[A.x,A.y]},e.scale=function(t){return arguments.length?(A={x:A.x,y:A.y,k:+t},o(),e):A.k},e.scaleExtent=function(t){return arguments.length?(D=null==t?La:[+t[0],+t[1]],e):D},e.center=function(t){return arguments.length?(g=t&&[+t[0],+t[1]],e):g},e.size=function(t){return arguments.length?(S=t&&[+t[0],+t[1]],e):S},e.x=function(t){return arguments.length?(C=t,b=t.copy(),A={x:0,y:0,k:1},e):C},e.y=function(t){return arguments.length?(w=t,_=t.copy(),A={x:0,y:0,k:1},e):w},zs.rebind(e,N,"on")};var Ra,La=[0,1/0],Ia="onwheel"in Ks?(Ra=function(){return-zs.event.deltaY*(zs.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Ks?(Ra=function(){return zs.event.wheelDelta},"mousewheel"):(Ra=function(){return-zs.event.detail},"MozMousePixelScroll");zs.color=nt,nt.prototype.toString=function(){return this.rgb()+""},zs.hsl=it;var Oa=it.prototype=new nt;Oa.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new it(this.h,this.s,this.l/e)},Oa.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new it(this.h,this.s,e*this.l)},Oa.rgb=function(){return rt(this.h,this.s,this.l)},zs.hcl=ot;var Ba=ot.prototype=new nt;Ba.brighter=function(e){return new ot(this.h,this.c,Math.min(100,this.l+Pa*(arguments.length?e:1)))},Ba.darker=function(e){return new ot(this.h,this.c,Math.max(0,this.l-Pa*(arguments.length?e:1)))},Ba.rgb=function(){return st(this.h,this.c,this.l).rgb()},zs.lab=at;var Pa=18,$a=.95047,Ua=1,Va=1.08883,ja=at.prototype=new nt;ja.brighter=function(e){return new at(Math.min(100,this.l+Pa*(arguments.length?e:1)),this.a,this.b)},ja.darker=function(e){return new at(Math.max(0,this.l-Pa*(arguments.length?e:1)),this.a,this.b)},ja.rgb=function(){return lt(this.l,this.a,this.b)},zs.rgb=pt;var Ha=pt.prototype=new nt;Ha.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,i=this.b,r=30;return t||n||i?(t&&r>t&&(t=r),n&&r>n&&(n=r),i&&r>i&&(i=r),new pt(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,i/e))):new pt(r,r,r)},Ha.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new pt(e*this.r,e*this.g,e*this.b)},Ha.hsl=function(){return yt(this.r,this.g,this.b)},Ha.toString=function(){return"#"+mt(this.r)+mt(this.g)+mt(this.b)};var Wa=zs.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Wa.forEach(function(e,t){Wa.set(e,ft(t))}),zs.functor=_t,zs.xhr=At(wt),zs.dsv=function(e,t){function n(e,n,o){3>arguments.length&&(o=n,n=null);var s=St(e,t,null==n?i:r(n),o);return s.row=function(e){return arguments.length?s.response(null==(n=e)?i:r(e)):n},s}function i(e){return n.parse(e.responseText)}function r(e){return function(t){return n.parse(t.responseText,e)}}function o(t){return t.map(s).join(e)}function s(e){return a.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var a=RegExp('["'+e+"\n]"),l=e.charCodeAt(0);return n.parse=function(e,t){var i;return n.parseRows(e,function(e,n){if(i)return i(e,n-1);var r=Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");i=t?function(e,n){return t(r(e),n)}:r})},n.parseRows=function(e,t){function n(){if(u>=c)return s;if(r)return r=!1,o;var t=u;if(34===e.charCodeAt(t)){for(var n=t;c>n++;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}u=n+2;var i=e.charCodeAt(n+1);return 13===i?(r=!0,10===e.charCodeAt(n+2)&&++u):10===i&&(r=!0),e.substring(t+1,n).replace(/""/g,'"')}for(;c>u;){var i=e.charCodeAt(u++),a=1;if(10===i)r=!0;else if(13===i)r=!0,10===e.charCodeAt(u)&&(++u,++a);else if(i!==l)continue;return e.substring(t,u-a)}return e.substring(t)}for(var i,r,o={},s={},a=[],c=e.length,u=0,d=0;(i=n())!==s;){for(var h=[];i!==o&&i!==s;)h.push(i),i=n();(!t||(h=t(h,d++)))&&a.push(h)}return a},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var i=new h,r=[];return t.forEach(function(e){for(var t in e)i.has(t)||r.push(i.add(t))}),[r.map(s).join(e)].concat(t.map(function(t){return r.map(function(e){return s(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(o).join("\n")},n},zs.csv=zs.dsv(",","text/csv"),zs.tsv=zs.dsv("	","text/tab-separated-values"),zs.touch=function(e,t,n){if(3>arguments.length&&(n=t,t=b().changedTouches),t)for(var i,r=0,o=t.length;o>r;++r)if((i=t[r]).identifier===n)return W(e,i)};var za,qa,Ga,Ka,Ya,Xa=Xs[f(Xs,"requestAnimationFrame")]||function(e){setTimeout(e,17)};zs.timer=function(e,t,n){var i=arguments.length;2>i&&(t=0),3>i&&(n=Date.now());var r=n+t,o={c:e,t:r,f:!1,n:null};qa?qa.n=o:za=o,qa=o,Ga||(Ka=clearTimeout(Ka),Ga=1,Xa(xt))},zs.timer.flush=function(){Tt(),kt()},zs.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Qa=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Nt);zs.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=zs.round(e,Ft(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Qa[8+n/3]};var Ja=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Za=zs.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=zs.round(e,Ft(e,t))).toFixed(Math.max(0,Math.min(20,Ft(e*(1+1e-15),t))))}}),el=zs.time={},tl=Date;Lt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){nl.setUTCDate.apply(this._,arguments)},setDay:function(){nl.setUTCDay.apply(this._,arguments)},setFullYear:function(){nl.setUTCFullYear.apply(this._,arguments)},setHours:function(){nl.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){nl.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){nl.setUTCMinutes.apply(this._,arguments)},setMonth:function(){nl.setUTCMonth.apply(this._,arguments)},setSeconds:function(){nl.setUTCSeconds.apply(this._,arguments)},setTime:function(){nl.setTime.apply(this._,arguments)}};var nl=Date.prototype;el.year=It(function(e){return e=el.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),el.years=el.year.range,el.years.utc=el.year.utc.range,el.day=It(function(e){var t=new tl(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1
}),el.days=el.day.range,el.days.utc=el.day.utc.range,el.dayOfYear=function(e){var t=el.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=el[e]=It(function(e){return(e=el.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=el.year(e).getDay();return Math.floor((el.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});el[e+"s"]=n.range,el[e+"s"].utc=n.utc.range,el[e+"OfYear"]=function(e){var n=el.year(e).getDay();return Math.floor((el.dayOfYear(e)+(n+t)%7)/7)}}),el.week=el.sunday,el.weeks=el.sunday.range,el.weeks.utc=el.sunday.utc.range,el.weekOfYear=el.sundayOfYear;var il={"-":"",_:" ",0:"0"},rl=/^\s*\d+/,ol=/^%/;zs.locale=function(e){return{numberFormat:Mt(e),timeFormat:Bt(e)}};var sl=zs.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});zs.format=sl.numberFormat,zs.geo={},on.prototype={s:0,t:0,add:function(e){sn(e,this.t,al),sn(al.s,this.s,this),this.s?this.t+=al.t:this.s=al.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var al=new on;zs.geo.stream=function(e,t){e&&ll.hasOwnProperty(e.type)?ll[e.type](e,t):an(e,t)};var ll={Feature:function(e,t){an(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;r>++i;)an(n[i].geometry,t)}},cl={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;r>++i;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){ln(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;r>++i;)ln(n[i],t,0)},Polygon:function(e,t){cn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;r>++i;)cn(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;r>++i;)an(n[i],t)}};zs.geo.area=function(e){return ul=0,zs.geo.stream(e,hl),ul};var ul,dl=new on,hl={sphere:function(){ul+=4*wa},point:g,lineStart:g,lineEnd:g,polygonStart:function(){dl.reset(),hl.lineStart=un},polygonEnd:function(){var e=2*dl;ul+=0>e?4*wa+e:e,hl.lineStart=hl.lineEnd=hl.point=g}};zs.geo.bounds=function(){function e(e,t){b.push(E=[u=e,h=e]),d>t&&(d=t),t>p&&(p=t)}function t(t,n){var i=dn([t*Ta,n*Ta]);if(v){var r=pn(v,i),o=[r[1],-r[0],0],s=pn(o,r);mn(s),s=vn(s);var l=t-f,c=l>0?1:-1,g=s[0]*ka*c,m=oa(l)>180;if(m^(g>c*f&&c*t>g)){var y=s[1]*ka;y>p&&(p=y)}else if(g=(g+360)%360-180,m^(g>c*f&&c*t>g)){var y=-s[1]*ka;d>y&&(d=y)}else d>n&&(d=n),n>p&&(p=n);m?f>t?a(u,t)>a(u,h)&&(h=t):a(t,h)>a(u,h)&&(u=t):h>=u?(u>t&&(u=t),t>h&&(h=t)):t>f?a(u,t)>a(u,h)&&(h=t):a(t,h)>a(u,h)&&(u=t)}else e(t,n);v=i,f=t}function n(){C.point=t}function i(){E[0]=u,E[1]=h,C.point=e,v=null}function r(e,n){if(v){var i=e-f;y+=oa(i)>180?i+(i>0?360:-360):i}else g=e,m=n;hl.point(e,n),t(e,n)}function o(){hl.lineStart()}function s(){r(g,m),hl.lineEnd(),oa(y)>Da&&(u=-(h=180)),E[0]=u,E[1]=h,v=null}function a(e,t){return 0>(t-=e)?t+360:t}function l(e,t){return e[0]-t[0]}function c(e,t){return t[0]<=t[1]?e>=t[0]&&t[1]>=e:t[0]>e||e>t[1]}var u,d,h,p,f,g,m,v,y,b,E,C={point:e,lineStart:n,lineEnd:i,polygonStart:function(){C.point=r,C.lineStart=o,C.lineEnd=s,y=0,hl.polygonStart()},polygonEnd:function(){hl.polygonEnd(),C.point=e,C.lineStart=n,C.lineEnd=i,0>dl?(u=-(h=180),d=-(p=90)):y>Da?p=90:-Da>y&&(d=-90),E[0]=u,E[1]=h}};return function(e){p=h=-(u=d=1/0),b=[],zs.geo.stream(e,C);var t=b.length;if(t){b.sort(l);for(var n,i=1,r=b[0],o=[r];t>i;++i)n=b[i],c(n[0],r)||c(n[1],r)?(a(r[0],n[1])>a(r[0],r[1])&&(r[1]=n[1]),a(n[0],r[1])>a(r[0],r[1])&&(r[0]=n[0])):o.push(r=n);for(var s,n,f=-1/0,t=o.length-1,i=0,r=o[t];t>=i;r=n,++i)n=o[i],(s=a(r[1],n[0]))>f&&(f=s,u=n[0],h=r[1])}return b=E=null,1/0===u||1/0===d?[[0/0,0/0],[0/0,0/0]]:[[u,d],[h,p]]}}(),zs.geo.centroid=function(e){pl=fl=gl=ml=vl=yl=bl=El=Cl=_l=wl=0,zs.geo.stream(e,Al);var t=Cl,n=_l,i=wl,r=t*t+n*n+i*i;return xa>r&&(t=yl,n=bl,i=El,Da>fl&&(t=gl,n=ml,i=vl),r=t*t+n*n+i*i,xa>r)?[0/0,0/0]:[Math.atan2(n,t)*ka,Q(i/Math.sqrt(r))*ka]};var pl,fl,gl,ml,vl,yl,bl,El,Cl,_l,wl,Al={sphere:g,point:bn,lineStart:Cn,lineEnd:_n,polygonStart:function(){Al.lineStart=wn},polygonEnd:function(){Al.lineStart=Cn}},Sl=Tn(An,Rn,In,[-wa,-wa/2]),Dl=1e9;zs.geo.clipExtent=function(){var e,t,n,i,r,o,s={stream:function(e){return r&&(r.valid=!1),r=o(e),r.valid=!0,r},extent:function(a){return arguments.length?(o=Pn(e=+a[0][0],t=+a[0][1],n=+a[1][0],i=+a[1][1]),r&&(r.valid=!1,r=null),s):[[e,t],[n,i]]}};return s.extent([[0,0],[960,500]])},(zs.geo.conicEqualArea=function(){return Un(Vn)}).raw=Vn,zs.geo.albers=function(){return zs.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},zs.geo.albersUsa=function(){function e(e){var o=e[0],s=e[1];return t=null,n(o,s),t||(i(o,s),t)||r(o,s),t}var t,n,i,r,o=zs.geo.albers(),s=zs.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=zs.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=o.scale(),n=o.translate(),i=(e[0]-n[0])/t,r=(e[1]-n[1])/t;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?s:r>=.166&&.234>r&&i>=-.214&&-.115>i?a:o).invert(e)},e.stream=function(e){var t=o.stream(e),n=s.stream(e),i=a.stream(e);return{point:function(e,r){t.point(e,r),n.point(e,r),i.point(e,r)},sphere:function(){t.sphere(),n.sphere(),i.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},e.precision=function(t){return arguments.length?(o.precision(t),s.precision(t),a.precision(t),e):o.precision()},e.scale=function(t){return arguments.length?(o.scale(t),s.scale(.35*t),a.scale(t),e.translate(o.translate())):o.scale()},e.translate=function(t){if(!arguments.length)return o.translate();var c=o.scale(),u=+t[0],d=+t[1];return n=o.translate(t).clipExtent([[u-.455*c,d-.238*c],[u+.455*c,d+.238*c]]).stream(l).point,i=s.translate([u-.307*c,d+.201*c]).clipExtent([[u-.425*c+Da,d+.12*c+Da],[u-.214*c-Da,d+.234*c-Da]]).stream(l).point,r=a.translate([u-.205*c,d+.212*c]).clipExtent([[u-.214*c+Da,d+.166*c+Da],[u-.115*c-Da,d+.234*c-Da]]).stream(l).point,e},e.scale(1070)};var xl,Tl,kl,Fl,Nl,Ml,Rl={point:g,lineStart:g,lineEnd:g,polygonStart:function(){Tl=0,Rl.lineStart=jn},polygonEnd:function(){Rl.lineStart=Rl.lineEnd=Rl.point=g,xl+=oa(Tl/2)}},Ll={point:Hn,lineStart:g,lineEnd:g,polygonStart:g,polygonEnd:g},Il={point:qn,lineStart:Gn,lineEnd:Kn,polygonStart:function(){Il.lineStart=Yn},polygonEnd:function(){Il.point=qn,Il.lineStart=Gn,Il.lineEnd=Kn}};zs.geo.path=function(){function e(e){return e&&("function"==typeof a&&o.pointRadius(+a.apply(this,arguments)),s&&s.valid||(s=r(o)),zs.geo.stream(e,s)),o.result()}function t(){return s=null,e}var n,i,r,o,s,a=4.5;return e.area=function(e){return xl=0,zs.geo.stream(e,r(Rl)),xl},e.centroid=function(e){return gl=ml=vl=yl=bl=El=Cl=_l=wl=0,zs.geo.stream(e,r(Il)),wl?[Cl/wl,_l/wl]:El?[yl/El,bl/El]:vl?[gl/vl,ml/vl]:[0/0,0/0]},e.bounds=function(e){return Nl=Ml=-(kl=Fl=1/0),zs.geo.stream(e,r(Ll)),[[kl,Fl],[Nl,Ml]]},e.projection=function(e){return arguments.length?(r=(n=e)?e.stream||Jn(e):wt,t()):n},e.context=function(e){return arguments.length?(o=null==(i=e)?new Wn:new Xn(e),"function"!=typeof a&&o.pointRadius(a),t()):i},e.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(o.pointRadius(+t),+t),e):a},e.projection(zs.geo.albersUsa()).context(null)},zs.geo.transform=function(e){return{stream:function(t){var n=new Zn(t);for(var i in e)n[i]=e[i];return n}}},Zn.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},zs.geo.projection=ti,zs.geo.projectionMutator=ni,(zs.geo.equirectangular=function(){return ti(ri)}).raw=ri.invert=ri,zs.geo.rotation=function(e){function t(t){return t=e(t[0]*Ta,t[1]*Ta),t[0]*=ka,t[1]*=ka,t}return e=si(e[0]%360*Ta,e[1]*Ta,e.length>2?e[2]*Ta:0),t.invert=function(t){return t=e.invert(t[0]*Ta,t[1]*Ta),t[0]*=ka,t[1]*=ka,t},t},oi.invert=ri,zs.geo.circle=function(){function e(){var e="function"==typeof i?i.apply(this,arguments):i,t=si(-e[0]*Ta,-e[1]*Ta,0).invert,r=[];return n(null,null,1,{point:function(e,n){r.push(e=t(e,n)),e[0]*=ka,e[1]*=ka}}),{type:"Polygon",coordinates:[r]}}var t,n,i=[0,0],r=6;return e.origin=function(t){return arguments.length?(i=t,e):i},e.angle=function(i){return arguments.length?(n=ui((t=+i)*Ta,r*Ta),e):t},e.precision=function(i){return arguments.length?(n=ui(t*Ta,(r=+i)*Ta),e):r},e.angle(90)},zs.geo.distance=function(e,t){var n,i=(t[0]-e[0])*Ta,r=e[1]*Ta,o=t[1]*Ta,s=Math.sin(i),a=Math.cos(i),l=Math.sin(r),c=Math.cos(r),u=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*s)*n+(n=c*u-l*d*a)*n),l*u+c*d*a)},zs.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return zs.range(Math.ceil(o/m)*m,r,m).map(h).concat(zs.range(Math.ceil(c/v)*v,l,v).map(p)).concat(zs.range(Math.ceil(i/f)*f,n,f).filter(function(e){return oa(e%m)>Da}).map(u)).concat(zs.range(Math.ceil(a/g)*g,s,g).filter(function(e){return oa(e%v)>Da}).map(d))}var n,i,r,o,s,a,l,c,u,d,h,p,f=10,g=f,m=90,v=360,y=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(p(l).slice(1),h(r).reverse().slice(1),p(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],r=+t[1][0],c=+t[0][1],l=+t[1][1],o>r&&(t=o,o=r,r=t),c>l&&(t=c,c=l,l=t),e.precision(y)):[[o,c],[r,l]]},e.minorExtent=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],a=+t[0][1],s=+t[1][1],i>n&&(t=i,i=n,n=t),a>s&&(t=a,a=s,s=t),e.precision(y)):[[i,a],[n,s]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(m=+t[0],v=+t[1],e):[m,v]},e.minorStep=function(t){return arguments.length?(f=+t[0],g=+t[1],e):[f,g]},e.precision=function(t){return arguments.length?(y=+t,u=hi(a,s,90),d=pi(i,n,y),h=hi(c,l,90),p=pi(o,r,y),e):y},e.majorExtent([[-180,-90+Da],[180,90-Da]]).minorExtent([[-180,-80-Da],[180,80+Da]])},zs.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||i.apply(this,arguments),n||r.apply(this,arguments)]}}var t,n,i=fi,r=gi;return e.distance=function(){return zs.geo.distance(t||i.apply(this,arguments),n||r.apply(this,arguments))},e.source=function(n){return arguments.length?(i=n,t="function"==typeof n?null:n,e):i},e.target=function(t){return arguments.length?(r=t,n="function"==typeof t?null:t,e):r},e.precision=function(){return arguments.length?e:0},e},zs.geo.interpolate=function(e,t){return mi(e[0]*Ta,e[1]*Ta,t[0]*Ta,t[1]*Ta)},zs.geo.length=function(e){return Ol=0,zs.geo.stream(e,Bl),Ol};var Ol,Bl={sphere:g,point:g,lineStart:vi,lineEnd:g,polygonStart:g,polygonEnd:g},Pl=yi(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(zs.geo.azimuthalEqualArea=function(){return ti(Pl)}).raw=Pl;var $l=yi(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},wt);(zs.geo.azimuthalEquidistant=function(){return ti($l)}).raw=$l,(zs.geo.conicConformal=function(){return Un(bi)}).raw=bi,(zs.geo.conicEquidistant=function(){return Un(Ei)}).raw=Ei;var Ul=yi(function(e){return 1/e},Math.atan);(zs.geo.gnomonic=function(){return ti(Ul)}).raw=Ul,Ci.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Sa]},(zs.geo.mercator=function(){return _i(Ci)}).raw=Ci;var Vl=yi(function(){return 1},Math.asin);(zs.geo.orthographic=function(){return ti(Vl)}).raw=Vl;var jl=yi(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(zs.geo.stereographic=function(){return ti(jl)}).raw=jl,wi.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Sa]},(zs.geo.transverseMercator=function(){var e=_i(wi),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=wi,zs.geom={},zs.geom.hull=function(e){function t(e){if(3>e.length)return[];var t,r=_t(n),o=_t(i),s=e.length,a=[],l=[];for(t=0;s>t;t++)a.push([+r.call(this,e[t],t),+o.call(this,e[t],t),t]);for(a.sort(xi),t=0;s>t;t++)l.push([a[t][0],-a[t][1]]);var c=Di(a),u=Di(l),d=u[0]===c[0],h=u[u.length-1]===c[c.length-1],p=[];for(t=c.length-1;t>=0;--t)p.push(e[a[c[t]][2]]);for(t=+d;u.length-h>t;++t)p.push(e[a[u[t]][2]]);return p}var n=Ai,i=Si;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(i=e,t):i},t)},zs.geom.polygon=function(e){return ua(e,Hl),e};var Hl=zs.geom.polygon.prototype=[];Hl.area=function(){for(var e,t=-1,n=this.length,i=this[n-1],r=0;n>++t;)e=i,i=this[t],r+=e[1]*i[0]-e[0]*i[1];return.5*r},Hl.centroid=function(e){var t,n,i=-1,r=this.length,o=0,s=0,a=this[r-1];for(arguments.length||(e=-1/(6*this.area()));r>++i;)t=a,a=this[i],n=t[0]*a[1]-a[0]*t[1],o+=(t[0]+a[0])*n,s+=(t[1]+a[1])*n;return[o*e,s*e]},Hl.clip=function(e){for(var t,n,i,r,o,s,a=Fi(e),l=-1,c=this.length-Fi(this),u=this[c-1];c>++l;){for(t=e.slice(),e.length=0,r=this[l],o=t[(i=t.length-a)-1],n=-1;i>++n;)s=t[n],Ti(s,u,r)?(Ti(o,u,r)||e.push(ki(o,s,u,r)),e.push(s)):Ti(o,u,r)&&e.push(ki(o,s,u,r)),o=s;a&&e.push(e[0]),u=r}return e};var Wl,zl,ql,Gl,Kl,Yl=[],Xl=[];Pi.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Ui),t.length},Xi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Qi.prototype={insert:function(e,t){var n,i,r;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=tr(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.R&&(Zi(this,n),e=n,n=e.U),n.C=!1,i.C=!0,er(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.L&&(er(this,n),e=n,n=e.U),n.C=!1,i.C=!0,Zi(this,i))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,i,r=e.U,o=e.L,s=e.R;if(n=o?s?tr(s):o:s,r?r.L===e?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=e.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=e.U,e=n.R,r.L=e,n.R=s,s.U=n):(n.U=r,r=n,e=n.R)):(i=e.C,e=n),e&&(e.U=r),!i){if(e&&e.C)return e.C=!1,void 0;do{if(e===this._)break;if(e===r.L){if(t=r.R,t.C&&(t.C=!1,r.C=!0,Zi(this,r),t=r.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,er(this,t),t=r.R),t.C=r.C,r.C=t.R.C=!1,Zi(this,r),e=this._;break}}else if(t=r.L,t.C&&(t.C=!1,r.C=!0,er(this,r),t=r.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Zi(this,t),t=r.L),t.C=r.C,r.C=t.L.C=!1,er(this,r),e=this._;break}t.C=!0,e=r,r=r.U}while(!e.C);e&&(e.C=!1)}}},zs.geom.voronoi=function(e){function t(e){var t=Array(e.length),i=a[0][0],r=a[0][1],o=a[1][0],s=a[1][1];return nr(n(e),a).cells.forEach(function(n,a){var l=n.edges,c=n.site,u=t[a]=l.length?l.map(function(e){var t=e.start();return[t.x,t.y]}):c.x>=i&&o>=c.x&&c.y>=r&&s>=c.y?[[i,s],[o,s],[o,r],[i,r]]:[];u.point=e[a]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(o(e,t)/Da)*Da,y:Math.round(s(e,t)/Da)*Da,i:t}})}var i=Ai,r=Si,o=i,s=r,a=Ql;return e?t(e):(t.links=function(e){return nr(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return nr(n(e)).cells.forEach(function(n,i){for(var r,o,s=n.site,a=n.edges.sort(Ui),l=-1,c=a.length,u=a[c-1].edge,d=u.l===s?u.r:u.l;c>++l;)r=u,o=d,u=a[l].edge,d=u.l===s?u.r:u.l,o.i>i&&d.i>i&&0>rr(s,o,d)&&t.push([e[i],e[o.i],e[d.i]])}),t},t.x=function(e){return arguments.length?(o=_t(i=e),t):i},t.y=function(e){return arguments.length?(s=_t(r=e),t):r},t.clipExtent=function(e){return arguments.length?(a=null==e?Ql:e,t):a===Ql?null:a},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):a===Ql?null:a&&a[1]},t)};var Ql=[[-1e6,-1e6],[1e6,1e6]];zs.geom.delaunay=function(e){return zs.geom.voronoi().triangles(e)},zs.geom.quadtree=function(e,t,n,i,r){function o(e){function o(e,t,n,i,r,o,s,a){if(!isNaN(n)&&!isNaN(i))if(e.leaf){var l=e.x,u=e.y;if(null!=l)if(.01>oa(l-n)+oa(u-i))c(e,t,n,i,r,o,s,a);else{var d=e.point;e.x=e.y=e.point=null,c(e,d,l,u,r,o,s,a),c(e,t,n,i,r,o,s,a)}else e.x=n,e.y=i,e.point=t}else c(e,t,n,i,r,o,s,a)}function c(e,t,n,i,r,s,a,l){var c=.5*(r+a),u=.5*(s+l),d=n>=c,h=i>=u,p=(h<<1)+d;e.leaf=!1,e=e.nodes[p]||(e.nodes[p]=ar()),d?r=c:a=c,h?s=u:l=u,o(e,t,n,i,r,s,a,l)}var u,d,h,p,f,g,m,v,y,b=_t(a),E=_t(l);if(null!=t)g=t,m=n,v=i,y=r;else if(v=y=-(g=m=1/0),d=[],h=[],f=e.length,s)for(p=0;f>p;++p)u=e[p],g>u.x&&(g=u.x),m>u.y&&(m=u.y),u.x>v&&(v=u.x),u.y>y&&(y=u.y),d.push(u.x),h.push(u.y);else for(p=0;f>p;++p){var C=+b(u=e[p],p),_=+E(u,p);g>C&&(g=C),m>_&&(m=_),C>v&&(v=C),_>y&&(y=_),d.push(C),h.push(_)}var w=v-g,A=y-m;w>A?y=m+w:v=g+A;var S=ar();if(S.add=function(e){o(S,e,+b(e,++p),+E(e,p),g,m,v,y)},S.visit=function(e){lr(e,S,g,m,v,y)},p=-1,null==t){for(;f>++p;)o(S,e[p],d[p],h[p],g,m,v,y);--p}else e.forEach(S.add);return d=h=e=u=null,S}var s,a=Ai,l=Si;return(s=arguments.length)?(a=or,l=sr,3===s&&(r=n,i=t,n=t=0),o(e)):(o.x=function(e){return arguments.length?(a=e,o):a},o.y=function(e){return arguments.length?(l=e,o):l},o.extent=function(e){return arguments.length?(null==e?t=n=i=r=null:(t=+e[0][0],n=+e[0][1],i=+e[1][0],r=+e[1][1]),o):null==t?null:[[t,n],[i,r]]},o.size=function(e){return arguments.length?(null==e?t=n=i=r=null:(t=n=0,i=+e[0],r=+e[1]),o):null==t?null:[i-t,r-n]},o)},zs.interpolateRgb=cr,zs.interpolateObject=ur,zs.interpolateNumber=dr,zs.interpolateString=hr;var Jl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zl=RegExp(Jl.source,"g");zs.interpolate=pr,zs.interpolators=[function(e,t){var n=typeof t;return("string"===n?Wa.has(t)||/^(#|rgb\(|hsl\()/.test(t)?cr:hr:t instanceof nt?cr:Array.isArray(t)?fr:"object"===n&&isNaN(t)?ur:dr)(e,t)}],zs.interpolateArray=fr;var ec=function(){return wt},tc=zs.map({linear:ec,poly:Cr,quad:function(){return yr},cubic:function(){return br},sin:function(){return _r},exp:function(){return wr},circle:function(){return Ar},elastic:Sr,back:Dr,bounce:function(){return xr}}),nc=zs.map({"in":wt,out:mr,"in-out":vr,"out-in":function(e){return vr(mr(e))}});zs.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.substring(0,t):e,i=t>=0?e.substring(t+1):"in";return n=tc.get(n)||ec,i=nc.get(i)||wt,gr(i(n.apply(null,qs.call(arguments,1))))},zs.interpolateHcl=Tr,zs.interpolateHsl=kr,zs.interpolateLab=Fr,zs.interpolateRound=Nr,zs.transform=function(e){var t=Ks.createElementNS(zs.ns.prefix.svg,"g");return(zs.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Mr(n?n.matrix:ic)})(e)},Mr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ic={a:1,b:0,c:0,d:1,e:0,f:0};zs.interpolateTransform=Or,zs.layout={},zs.layout.bundle=function(){return function(e){for(var t=[],n=-1,i=e.length;i>++n;)t.push($r(e[n]));return t}},zs.layout.chord=function(){function e(){var e,c,d,h,p,f={},g=[],m=zs.range(o),v=[];for(n=[],i=[],e=0,h=-1;o>++h;){for(c=0,p=-1;o>++p;)c+=r[h][p];g.push(c),v.push(zs.range(o)),e+=c}for(s&&m.sort(function(e,t){return s(g[e],g[t])}),a&&v.forEach(function(e,t){e.sort(function(e,n){return a(r[t][e],r[t][n])})}),e=(Aa-u*o)/e,c=0,h=-1;o>++h;){for(d=c,p=-1;o>++p;){var y=m[h],b=v[y][p],E=r[y][b],C=c,_=c+=E*e;f[y+"-"+b]={index:y,subindex:b,startAngle:C,endAngle:_,value:E}}i[y]={index:y,startAngle:d,endAngle:c,value:(c-d)/e},c+=u}for(h=-1;o>++h;)for(p=h-1;o>++p;){var w=f[h+"-"+p],A=f[p+"-"+h];(w.value||A.value)&&n.push(w.value<A.value?{source:A,target:w}:{source:w,target:A})}l&&t()}function t(){n.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,i,r,o,s,a,l,c={},u=0;return c.matrix=function(e){return arguments.length?(o=(r=e)&&r.length,n=i=null,c):r},c.padding=function(e){return arguments.length?(u=e,n=i=null,c):u},c.sortGroups=function(e){return arguments.length?(s=e,n=i=null,c):s},c.sortSubgroups=function(e){return arguments.length?(a=e,n=null,c):a},c.sortChords=function(e){return arguments.length?(l=e,n&&t(),c):l},c.chords=function(){return n||e(),n},c.groups=function(){return i||e(),i},c},zs.layout.force=function(){function e(e){return function(t,n,i,r){if(t.point!==e){var o=t.cx-e.x,s=t.cy-e.y,a=r-n,l=o*o+s*s;if(l>a*a/m){if(f>l){var c=t.charge/l;e.px-=o*c,e.py-=s*c}return!0}if(t.point&&l&&f>l){var c=t.pointCharge/l;e.px-=o*c,e.py-=s*c}}return!t.charge}}function t(e){e.px=zs.event.x,e.py=zs.event.y,a.resume()}var n,i,r,o,s,a={},l=zs.dispatch("start","tick","end"),c=[1,1],u=.9,d=rc,h=oc,p=-30,f=sc,g=.1,m=.64,v=[],y=[];return a.tick=function(){if(.005>(i*=.99))return l.end({type:"end",alpha:i=0}),!0;var t,n,a,d,h,f,m,b,E,C=v.length,_=y.length;for(n=0;_>n;++n)a=y[n],d=a.source,h=a.target,b=h.x-d.x,E=h.y-d.y,(f=b*b+E*E)&&(f=i*o[n]*((f=Math.sqrt(f))-r[n])/f,b*=f,E*=f,h.x-=b*(m=d.weight/(h.weight+d.weight)),h.y-=E*m,d.x+=b*(m=1-m),d.y+=E*m);if((m=i*g)&&(b=c[0]/2,E=c[1]/2,n=-1,m))for(;C>++n;)a=v[n],a.x+=(b-a.x)*m,a.y+=(E-a.y)*m;if(p)for(qr(t=zs.geom.quadtree(v),i,s),n=-1;C>++n;)(a=v[n]).fixed||t.visit(e(a));for(n=-1;C>++n;)a=v[n],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*u,a.y-=(a.py-(a.py=a.y))*u);l.tick({type:"tick",alpha:i})},a.nodes=function(e){return arguments.length?(v=e,a):v},a.links=function(e){return arguments.length?(y=e,a):y},a.size=function(e){return arguments.length?(c=e,a):c},a.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,a):d},a.distance=a.linkDistance,a.linkStrength=function(e){return arguments.length?(h="function"==typeof e?e:+e,a):h},a.friction=function(e){return arguments.length?(u=+e,a):u},a.charge=function(e){return arguments.length?(p="function"==typeof e?e:+e,a):p},a.chargeDistance=function(e){return arguments.length?(f=e*e,a):Math.sqrt(f)},a.gravity=function(e){return arguments.length?(g=+e,a):g},a.theta=function(e){return arguments.length?(m=e*e,a):Math.sqrt(m)},a.alpha=function(e){return arguments.length?(e=+e,i?i=e>0?e:0:e>0&&(l.start({type:"start",alpha:i=e}),zs.timer(a.tick)),a):i},a.start=function(){function e(e,i){if(!n){for(n=Array(l),a=0;l>a;++a)n[a]=[];for(a=0;c>a;++a){var r=y[a];n[r.source.index].push(r.target),n[r.target.index].push(r.source)}}for(var o,s=n[t],a=-1,c=s.length;c>++a;)if(!isNaN(o=s[a][e]))return o;return Math.random()*i}var t,n,i,l=v.length,u=y.length,f=c[0],g=c[1];for(t=0;l>t;++t)(i=v[t]).index=t,i.weight=0;for(t=0;u>t;++t)i=y[t],"number"==typeof i.source&&(i.source=v[i.source]),"number"==typeof i.target&&(i.target=v[i.target]),++i.source.weight,++i.target.weight;for(t=0;l>t;++t)i=v[t],isNaN(i.x)&&(i.x=e("x",f)),isNaN(i.y)&&(i.y=e("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(r=[],"function"==typeof d)for(t=0;u>t;++t)r[t]=+d.call(this,y[t],t);else for(t=0;u>t;++t)r[t]=d;if(o=[],"function"==typeof h)for(t=0;u>t;++t)o[t]=+h.call(this,y[t],t);else for(t=0;u>t;++t)o[t]=h;if(s=[],"function"==typeof p)for(t=0;l>t;++t)s[t]=+p.call(this,v[t],t);else for(t=0;l>t;++t)s[t]=p;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return n||(n=zs.behavior.drag().origin(wt).on("dragstart.force",jr).on("drag.force",t).on("dragend.force",Hr)),arguments.length?(this.on("mouseover.force",Wr).on("mouseout.force",zr).call(n),void 0):n},zs.rebind(a,l,"on")};var rc=20,oc=1,sc=1/0;zs.layout.hierarchy=function(){function e(r){var o,s=[r],a=[];for(r.depth=0;null!=(o=s.pop());)if(a.push(o),(c=n.call(e,o,o.depth))&&(l=c.length)){for(var l,c,u;--l>=0;)s.push(u=c[l]),u.parent=o,u.depth=o.depth+1;i&&(o.value=0),o.children=c}else i&&(o.value=+i.call(e,o,o.depth)||0),delete o.children;return Yr(r,function(e){var n,r;t&&(n=e.children)&&n.sort(t),i&&(r=e.parent)&&(r.value+=e.value)}),a}var t=Jr,n=Xr,i=Qr;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(i=t,e):i},e.revalue=function(t){return i&&(Kr(t,function(e){e.children&&(e.value=0)}),Yr(t,function(t){var n;t.children||(t.value=+i.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},zs.layout.partition=function(){function e(t,n,i,r){var o=t.children;if(t.x=n,t.y=t.depth*r,t.dx=i,t.dy=r,o&&(s=o.length)){var s,a,l,c=-1;for(i=t.value?i/t.value:0;s>++c;)e(a=o[c],n,l=a.value*i,r),n+=l}}function t(e){var n=e.children,i=0;if(n&&(r=n.length))for(var r,o=-1;r>++o;)i=Math.max(i,t(n[o]));return 1+i}function n(n,o){var s=i.call(this,n,o);return e(s[0],0,r[0],r[1]/t(s[0])),s}var i=zs.layout.hierarchy(),r=[1,1];return n.size=function(e){return arguments.length?(r=e,n):r},Gr(n,i)},zs.layout.pie=function(){function e(o){var s=o.map(function(n,i){return+t.call(e,n,i)}),a=+("function"==typeof i?i.apply(this,arguments):i),l=(("function"==typeof r?r.apply(this,arguments):r)-a)/zs.sum(s),c=zs.range(o.length);null!=n&&c.sort(n===ac?function(e,t){return s[t]-s[e]}:function(e,t){return n(o[e],o[t])});var u=[];return c.forEach(function(e){var t;u[e]={data:o[e],value:t=s[e],startAngle:a,endAngle:a+=t*l}}),u}var t=Number,n=ac,i=0,r=Aa;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(i=t,e):i},e.endAngle=function(t){return arguments.length?(r=t,e):r},e};var ac={};zs.layout.stack=function(){function e(a,l){var c=a.map(function(n,i){return t.call(e,n,i)}),u=c.map(function(t){return t.map(function(t,n){return[o.call(e,t,n),s.call(e,t,n)]})}),d=n.call(e,u,l);c=zs.permute(c,d),u=zs.permute(u,d);var h,p,f,g=i.call(e,u,l),m=c.length,v=c[0].length;for(p=0;v>p;++p)for(r.call(e,c[0][p],f=g[p],u[0][p][1]),h=1;m>h;++h)r.call(e,c[h][p],f+=u[h-1][p][1],u[h][p][1]);return a}var t=wt,n=io,i=ro,r=no,o=eo,s=to;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:lc.get(t)||io,e):n},e.offset=function(t){return arguments.length?(i="function"==typeof t?t:cc.get(t)||ro,e):i},e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(s=t,e):s},e.out=function(t){return arguments.length?(r=t,e):r},e};var lc=zs.map({"inside-out":function(e){var t,n,i=e.length,r=e.map(oo),o=e.map(so),s=zs.range(i).sort(function(e,t){return r[e]-r[t]}),a=0,l=0,c=[],u=[];for(t=0;i>t;++t)n=s[t],l>a?(a+=o[n],c.push(n)):(l+=o[n],u.push(n));return u.reverse().concat(c)},reverse:function(e){return zs.range(e.length).reverse()},"default":io}),cc=zs.map({silhouette:function(e){var t,n,i,r=e.length,o=e[0].length,s=[],a=0,l=[];for(n=0;o>n;++n){for(t=0,i=0;r>t;t++)i+=e[t][n][1];i>a&&(a=i),s.push(i)}for(n=0;o>n;++n)l[n]=(a-s[n])/2;return l},wiggle:function(e){var t,n,i,r,o,s,a,l,c,u=e.length,d=e[0],h=d.length,p=[];for(p[0]=l=c=0,n=1;h>n;++n){for(t=0,r=0;u>t;++t)r+=e[t][n][1];for(t=0,o=0,a=d[n][0]-d[n-1][0];u>t;++t){for(i=0,s=(e[t][n][1]-e[t][n-1][1])/(2*a);t>i;++i)s+=(e[i][n][1]-e[i][n-1][1])/a;o+=s*e[t][n][1]}p[n]=l-=r?o/r*a:0,c>l&&(c=l)}for(n=0;h>n;++n)p[n]-=c;return p},expand:function(e){var t,n,i,r=e.length,o=e[0].length,s=1/r,a=[];for(n=0;o>n;++n){for(t=0,i=0;r>t;t++)i+=e[t][n][1];if(i)for(t=0;r>t;t++)e[t][n][1]/=i;else for(t=0;r>t;t++)e[t][n][1]=s}for(n=0;o>n;++n)a[n]=0;return a},zero:ro});zs.layout.histogram=function(){function e(e,o){for(var s,a,l=[],c=e.map(n,this),u=i.call(this,c,o),d=r.call(this,u,c,o),o=-1,h=c.length,p=d.length-1,f=t?1:1/h;p>++o;)s=l[o]=[],s.dx=d[o+1]-(s.x=d[o]),s.y=0;if(p>0)for(o=-1;h>++o;)a=c[o],a>=u[0]&&u[1]>=a&&(s=l[zs.bisect(d,a,1,p)-1],s.y+=f,s.push(e[o]));return l}var t=!0,n=Number,i=uo,r=lo;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(i=_t(t),e):i},e.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return co(e,t)}:_t(t),e):r},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},zs.layout.pack=function(){function e(e,o){var s=n.call(this,e,o),a=s[0],l=r[0],c=r[1],u=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,Yr(a,function(e){e.r=+u(e.value)}),Yr(a,mo),i){var d=i*(t?1:Math.max(2*a.r/l,2*a.r/c))/2;Yr(a,function(e){e.r+=d}),Yr(a,mo),Yr(a,function(e){e.r-=d})}return bo(a,l/2,c/2,t?1:1/Math.max(2*a.r/l,2*a.r/c)),s}var t,n=zs.layout.hierarchy().sort(ho),i=0,r=[1,1];return e.size=function(t){return arguments.length?(r=t,e):r},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(i=+t,e):i},Gr(e,n)},zs.layout.tree=function(){function e(e,r){var u=s.call(this,e,r),d=u[0],h=t(d);if(Yr(h,n),h.parent.m=-h.z,Kr(h,i),c)Kr(d,o);else{var p=d,f=d,g=d;Kr(d,function(e){e.x<p.x&&(p=e),e.x>f.x&&(f=e),e.depth>g.depth&&(g=e)});var m=a(p,f)/2-p.x,v=l[0]/(f.x+a(f,p)/2+m),y=l[1]/(g.depth||1);Kr(d,function(e){e.x=(e.x+m)*v,e.y=e.depth*y})}return u}function t(e){for(var t,n={A:null,children:[e]},i=[n];null!=(t=i.pop());)for(var r,o=t.children,s=0,a=o.length;a>s;++s)i.push((o[s]=r={_:o[s],parent:t,children:(r=o[s].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=r);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,i=e.i?n[e.i-1]:null;if(t.length){So(e);var o=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+a(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+a(e._,i._));e.parent.A=r(e,i,e.parent.A||n[0])}function i(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function r(e,t,n){if(t){for(var i,r=e,o=e,s=t,l=r.parent.children[0],c=r.m,u=o.m,d=s.m,h=l.m;s=wo(s),r=_o(r),s&&r;)l=_o(l),o=wo(o),o.a=e,i=s.z+d-r.z-c+a(s._,r._),i>0&&(Ao(Do(s,e,n),e,i),c+=i,u+=i),d+=s.m,c+=r.m,h+=l.m,u+=o.m;s&&!wo(o)&&(o.t=s,o.m+=d-u),r&&!_o(l)&&(l.t=r,l.m+=c-h,n=e)}return n}function o(e){e.x*=l[0],e.y=e.depth*l[1]}var s=zs.layout.hierarchy().sort(null).value(null),a=Co,l=[1,1],c=null;return e.separation=function(t){return arguments.length?(a=t,e):a},e.size=function(t){return arguments.length?(c=null==(l=t)?o:null,e):c?null:l},e.nodeSize=function(t){return arguments.length?(c=null==(l=t)?null:o,e):c?l:null},Gr(e,s)},zs.layout.cluster=function(){function e(e,o){var s,a=t.call(this,e,o),l=a[0],c=0;Yr(l,function(e){var t=e.children;t&&t.length?(e.x=To(t),e.y=xo(t)):(e.x=s?c+=n(e,s):0,e.y=0,s=e)});var u=ko(l),d=Fo(l),h=u.x-n(u,d)/2,p=d.x+n(d,u)/2;return Yr(l,r?function(e){e.x=(e.x-l.x)*i[0],e.y=(l.y-e.y)*i[1]}:function(e){e.x=(e.x-h)/(p-h)*i[0],e.y=(1-(l.y?e.y/l.y:1))*i[1]}),a}var t=zs.layout.hierarchy().sort(null).value(null),n=Co,i=[1,1],r=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(r=null==(i=t),e):r?null:i},e.nodeSize=function(t){return arguments.length?(r=null!=(i=t),e):r?i:null},Gr(e,t)},zs.layout.treemap=function(){function e(e,t){for(var n,i,r=-1,o=e.length;o>++r;)i=(n=e[r]).value*(0>t?0:t),n.area=isNaN(i)||0>=i?0:i}function t(n){var o=n.children;if(o&&o.length){var s,a,l,c=d(n),u=[],h=o.slice(),f=1/0,g="slice"===p?c.dx:"dice"===p?c.dy:"slice-dice"===p?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);
for(e(h,c.dx*c.dy/n.value),u.area=0;(l=h.length)>0;)u.push(s=h[l-1]),u.area+=s.area,"squarify"!==p||f>=(a=i(u,g))?(h.pop(),f=a):(u.area-=u.pop().area,r(u,g,c,!1),g=Math.min(c.dx,c.dy),u.length=u.area=0,f=1/0);u.length&&(r(u,g,c,!0),u.length=u.area=0),o.forEach(t)}}function n(t){var i=t.children;if(i&&i.length){var o,s=d(t),a=i.slice(),l=[];for(e(a,s.dx*s.dy/t.value),l.area=0;o=a.pop();)l.push(o),l.area+=o.area,null!=o.z&&(r(l,o.z?s.dx:s.dy,s,!a.length),l.length=l.area=0);i.forEach(n)}}function i(e,t){for(var n,i=e.area,r=0,o=1/0,s=-1,a=e.length;a>++s;)(n=e[s].area)&&(o>n&&(o=n),n>r&&(r=n));return i*=i,t*=t,i?Math.max(t*r*f/i,i/(t*o*f)):1/0}function r(e,t,n,i){var r,o=-1,s=e.length,a=n.x,c=n.y,u=t?l(e.area/t):0;if(t==n.dx){for((i||u>n.dy)&&(u=n.dy);s>++o;)r=e[o],r.x=a,r.y=c,r.dy=u,a+=r.dx=Math.min(n.x+n.dx-a,u?l(r.area/u):0);r.z=!0,r.dx+=n.x+n.dx-a,n.y+=u,n.dy-=u}else{for((i||u>n.dx)&&(u=n.dx);s>++o;)r=e[o],r.x=a,r.y=c,r.dx=u,c+=r.dy=Math.min(n.y+n.dy-c,u?l(r.area/u):0);r.z=!1,r.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function o(i){var r=s||a(i),o=r[0];return o.x=0,o.y=0,o.dx=c[0],o.dy=c[1],s&&a.revalue(o),e([o],o.dx*o.dy/o.value),(s?n:t)(o),h&&(s=r),r}var s,a=zs.layout.hierarchy(),l=Math.round,c=[1,1],u=null,d=No,h=!1,p="squarify",f=.5*(1+Math.sqrt(5));return o.size=function(e){return arguments.length?(c=e,o):c},o.padding=function(e){function t(t){var n=e.call(o,t,t.depth);return null==n?No(t):Mo(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Mo(t,e)}if(!arguments.length)return u;var i;return d=null==(u=e)?No:"function"==(i=typeof e)?t:"number"===i?(e=[e,e,e,e],n):n,o},o.round=function(e){return arguments.length?(l=e?Math.round:Number,o):l!=Number},o.sticky=function(e){return arguments.length?(h=e,s=null,o):h},o.ratio=function(e){return arguments.length?(f=e,o):f},o.mode=function(e){return arguments.length?(p=e+"",o):p},Gr(o,a)},zs.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return e+t*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var e=zs.random.normal.apply(zs,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=zs.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},zs.scale={};var uc={floor:wt,ceil:wt};zs.scale.linear=function(){return $o([0,1],[0,1],pr,!1)};var dc={s:1,g:1,p:1,r:1,e:1};zs.scale.log=function(){return Go(zs.scale.linear().domain([0,1]),10,!0,[1,10])};var hc=zs.format(".0e"),pc={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};zs.scale.pow=function(){return Ko(zs.scale.linear(),1,[0,1])},zs.scale.sqrt=function(){return zs.scale.pow().exponent(.5)},zs.scale.ordinal=function(){return Xo([],{t:"range",a:[[]]})},zs.scale.category10=function(){return zs.scale.ordinal().range(fc)},zs.scale.category20=function(){return zs.scale.ordinal().range(gc)},zs.scale.category20b=function(){return zs.scale.ordinal().range(mc)},zs.scale.category20c=function(){return zs.scale.ordinal().range(vc)};var fc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(gt),gc=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(gt),mc=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(gt),vc=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(gt);zs.scale.quantile=function(){return Qo([],[])},zs.scale.quantize=function(){return Jo(0,1,[0,1])},zs.scale.threshold=function(){return Zo([.5],[0,1])},zs.scale.identity=function(){return es([0,1])},zs.svg={},zs.svg.arc=function(){function e(){var e=t.apply(this,arguments),o=n.apply(this,arguments),s=i.apply(this,arguments)+yc,a=r.apply(this,arguments)+yc,l=(s>a&&(l=s,s=a,a=l),a-s),c=wa>l?"0":"1",u=Math.cos(s),d=Math.sin(s),h=Math.cos(a),p=Math.sin(a);return l>=bc?e?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+-e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":e?"M"+o*u+","+o*d+"A"+o+","+o+" 0 "+c+",1 "+o*h+","+o*p+"L"+e*h+","+e*p+"A"+e+","+e+" 0 "+c+",0 "+e*u+","+e*d+"Z":"M"+o*u+","+o*d+"A"+o+","+o+" 0 "+c+",1 "+o*h+","+o*p+"L0,0"+"Z"}var t=ts,n=ns,i=is,r=rs;return e.innerRadius=function(n){return arguments.length?(t=_t(n),e):t},e.outerRadius=function(t){return arguments.length?(n=_t(t),e):n},e.startAngle=function(t){return arguments.length?(i=_t(t),e):i},e.endAngle=function(t){return arguments.length?(r=_t(t),e):r},e.centroid=function(){var e=(t.apply(this,arguments)+n.apply(this,arguments))/2,o=(i.apply(this,arguments)+r.apply(this,arguments))/2+yc;return[Math.cos(o)*e,Math.sin(o)*e]},e};var yc=-Sa,bc=Aa-Da;zs.svg.line=function(){return os(wt)};var Ec=zs.map({linear:ss,"linear-closed":as,step:ls,"step-before":cs,"step-after":us,basis:ms,"basis-open":vs,"basis-closed":ys,bundle:bs,cardinal:ps,"cardinal-open":ds,"cardinal-closed":hs,monotone:Ss});Ec.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Cc=[0,2/3,1/3,0],_c=[0,1/3,2/3,0],wc=[0,1/6,2/3,1/6];zs.svg.line.radial=function(){var e=os(Ds);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},cs.reverse=us,us.reverse=cs,zs.svg.area=function(){return xs(wt)},zs.svg.area.radial=function(){var e=xs(Ds);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},zs.svg.chord=function(){function e(e,a){var l=t(this,o,e,a),c=t(this,s,e,a);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,c)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,c.r,c.p0)+i(c.r,c.p1,c.a1-c.a0)+r(c.r,c.p1,l.r,l.p0))+"Z"}function t(e,t,n,i){var r=t.call(e,n,i),o=a.call(e,r,i),s=l.call(e,r,i)+yc,u=c.call(e,r,i)+yc;return{r:o,a0:s,a1:u,p0:[o*Math.cos(s),o*Math.sin(s)],p1:[o*Math.cos(u),o*Math.sin(u)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function i(e,t,n){return"A"+e+","+e+" 0 "+ +(n>wa)+",1 "+t}function r(e,t,n,i){return"Q 0,0 "+i}var o=fi,s=gi,a=Ts,l=is,c=rs;return e.radius=function(t){return arguments.length?(a=_t(t),e):a},e.source=function(t){return arguments.length?(o=_t(t),e):o},e.target=function(t){return arguments.length?(s=_t(t),e):s},e.startAngle=function(t){return arguments.length?(l=_t(t),e):l},e.endAngle=function(t){return arguments.length?(c=_t(t),e):c},e},zs.svg.diagonal=function(){function e(e,r){var o=t.call(this,e,r),s=n.call(this,e,r),a=(o.y+s.y)/2,l=[o,{x:o.x,y:a},{x:s.x,y:a},s];return l=l.map(i),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=fi,n=gi,i=ks;return e.source=function(n){return arguments.length?(t=_t(n),e):t},e.target=function(t){return arguments.length?(n=_t(t),e):n},e.projection=function(t){return arguments.length?(i=t,e):i},e},zs.svg.diagonal.radial=function(){var e=zs.svg.diagonal(),t=ks,n=e.projection;return e.projection=function(e){return arguments.length?n(Fs(t=e)):t},e},zs.svg.symbol=function(){function e(e,i){return(Ac.get(t.call(this,e,i))||Rs)(n.call(this,e,i))}var t=Ms,n=Ns;return e.type=function(n){return arguments.length?(t=_t(n),e):t},e.size=function(t){return arguments.length?(n=_t(t),e):n},e};var Ac=zs.map({circle:Rs,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Tc)),n=t*Tc;return"M0,"+-t+"L"+n+",0"+" 0,"+t+" "+-n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/xc),n=t*xc/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/xc),n=t*xc/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});zs.svg.symbolTypes=Ac.keys();var Sc,Dc,xc=Math.sqrt(3),Tc=Math.tan(30*Ta),kc=[],Fc=0;kc.call=ga.call,kc.empty=ga.empty,kc.node=ga.node,kc.size=ga.size,zs.transition=function(e){return arguments.length?Sc?e.transition():e:ya.transition()},zs.transition.prototype=kc,kc.select=function(e){var t,n,i,r=this.id,o=[];e=_(e);for(var s=-1,a=this.length;a>++s;){o.push(t=[]);for(var l=this[s],c=-1,u=l.length;u>++c;)(i=l[c])&&(n=e.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),Bs(n,c,r,i.__transition__[r]),t.push(n)):t.push(null)}return Ls(o,r)},kc.selectAll=function(e){var t,n,i,r,o,s=this.id,a=[];e=w(e);for(var l=-1,c=this.length;c>++l;)for(var u=this[l],d=-1,h=u.length;h>++d;)if(i=u[d]){o=i.__transition__[s],n=e.call(i,i.__data__,d,l),a.push(t=[]);for(var p=-1,f=n.length;f>++p;)(r=n[p])&&Bs(r,p,s,o),t.push(r)}return Ls(a,s)},kc.filter=function(e){var t,n,i,r=[];"function"!=typeof e&&(e=L(e));for(var o=0,s=this.length;s>o;o++){r.push(t=[]);for(var n=this[o],a=0,l=n.length;l>a;a++)(i=n[a])&&e.call(i,i.__data__,a,o)&&t.push(i)}return Ls(r,this.id)},kc.tween=function(e,t){var n=this.id;return 2>arguments.length?this.node().__transition__[n].tween.get(e):O(this,null==t?function(t){t.__transition__[n].tween.remove(e)}:function(i){i.__transition__[n].tween.set(e,t)})},kc.attr=function(e,t){function n(){this.removeAttribute(a)}function i(){this.removeAttributeNS(a.space,a.local)}function r(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(a);return n!==e&&(t=s(n,e),function(e){this.setAttribute(a,t(e))})})}function o(e){return null==e?i:(e+="",function(){var t,n=this.getAttributeNS(a.space,a.local);return n!==e&&(t=s(n,e),function(e){this.setAttributeNS(a.space,a.local,t(e))})})}if(2>arguments.length){for(t in e)this.attr(t,e[t]);return this}var s="transform"==e?Or:pr,a=zs.ns.qualify(e);return Is(this,"attr."+e,t,a.local?o:r)},kc.attrTween=function(e,t){function n(e,n){var i=t.call(this,e,n,this.getAttribute(r));return i&&function(e){this.setAttribute(r,i(e))}}function i(e,n){var i=t.call(this,e,n,this.getAttributeNS(r.space,r.local));return i&&function(e){this.setAttributeNS(r.space,r.local,i(e))}}var r=zs.ns.qualify(e);return this.tween("attr."+e,r.local?i:n)},kc.style=function(e,t,n){function i(){this.style.removeProperty(e)}function r(t){return null==t?i:(t+="",function(){var i,r=Xs.getComputedStyle(this,null).getPropertyValue(e);return r!==t&&(i=pr(r,t),function(t){this.style.setProperty(e,i(t),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof e){2>o&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return Is(this,"style."+e,t,r)},kc.styleTween=function(e,t,n){function i(i,r){var o=t.call(this,i,r,Xs.getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return 3>arguments.length&&(n=""),this.tween("style."+e,i)},kc.text=function(e){return Is(this,"text",e,Os)},kc.remove=function(){return this.each("end.transition",function(){var e;2>this.__transition__.count&&(e=this.parentNode)&&e.removeChild(this)})},kc.ease=function(e){var t=this.id;return 1>arguments.length?this.node().__transition__[t].ease:("function"!=typeof e&&(e=zs.ease.apply(zs,arguments)),O(this,function(n){n.__transition__[t].ease=e}))},kc.delay=function(e){var t=this.id;return 1>arguments.length?this.node().__transition__[t].delay:O(this,"function"==typeof e?function(n,i,r){n.__transition__[t].delay=+e.call(n,n.__data__,i,r)}:(e=+e,function(n){n.__transition__[t].delay=e}))},kc.duration=function(e){var t=this.id;return 1>arguments.length?this.node().__transition__[t].duration:O(this,"function"==typeof e?function(n,i,r){n.__transition__[t].duration=Math.max(1,e.call(n,n.__data__,i,r))}:(e=Math.max(1,e),function(n){n.__transition__[t].duration=e}))},kc.each=function(e,t){var n=this.id;if(2>arguments.length){var i=Dc,r=Sc;Sc=n,O(this,function(t,i,r){Dc=t.__transition__[n],e.call(t,t.__data__,i,r)}),Dc=i,Sc=r}else O(this,function(i){var r=i.__transition__[n];(r.event||(r.event=zs.dispatch("start","end"))).on(e,t)});return this},kc.transition=function(){for(var e,t,n,i,r=this.id,o=++Fc,s=[],a=0,l=this.length;l>a;a++){s.push(e=[]);for(var t=this[a],c=0,u=t.length;u>c;c++)(n=t[c])&&(i=Object.create(n.__transition__[r]),i.delay+=i.duration,Bs(n,c,o,i)),e.push(n)}return Ls(s,o)},zs.svg.axis=function(){function e(e){e.each(function(){var e,c=zs.select(this),u=this.__chart__||n,d=this.__chart__=n.copy(),h=null==l?d.ticks?d.ticks.apply(d,a):d.domain():l,p=null==t?d.tickFormat?d.tickFormat.apply(d,a):wt:t,f=c.selectAll(".tick").data(h,d),g=f.enter().insert("g",".domain").attr("class","tick").style("opacity",Da),m=zs.transition(f.exit()).style("opacity",Da).remove(),v=zs.transition(f.order()).style("opacity",1),y=Lo(d),b=c.selectAll(".domain").data([0]),E=(b.enter().append("path").attr("class","domain"),zs.transition(b));g.append("line"),g.append("text");var C=g.select("line"),_=v.select("line"),w=f.select("text").text(p),A=g.select("text"),S=v.select("text");switch(i){case"bottom":e=Ps,C.attr("y2",r),A.attr("y",Math.max(r,0)+s),_.attr("x2",0).attr("y2",r),S.attr("x",0).attr("y",Math.max(r,0)+s),w.attr("dy",".71em").style("text-anchor","middle"),E.attr("d","M"+y[0]+","+o+"V0H"+y[1]+"V"+o);break;case"top":e=Ps,C.attr("y2",-r),A.attr("y",-(Math.max(r,0)+s)),_.attr("x2",0).attr("y2",-r),S.attr("x",0).attr("y",-(Math.max(r,0)+s)),w.attr("dy","0em").style("text-anchor","middle"),E.attr("d","M"+y[0]+","+-o+"V0H"+y[1]+"V"+-o);break;case"left":e=$s,C.attr("x2",-r),A.attr("x",-(Math.max(r,0)+s)),_.attr("x2",-r).attr("y2",0),S.attr("x",-(Math.max(r,0)+s)).attr("y",0),w.attr("dy",".32em").style("text-anchor","end"),E.attr("d","M"+-o+","+y[0]+"H0V"+y[1]+"H"+-o);break;case"right":e=$s,C.attr("x2",r),A.attr("x",Math.max(r,0)+s),_.attr("x2",r).attr("y2",0),S.attr("x",Math.max(r,0)+s).attr("y",0),w.attr("dy",".32em").style("text-anchor","start"),E.attr("d","M"+o+","+y[0]+"H0V"+y[1]+"H"+o)}if(d.rangeBand){var D=d,x=D.rangeBand()/2;u=d=function(e){return D(e)+x}}else u.rangeBand?u=d:m.call(e,d);g.call(e,u),v.call(e,d)})}var t,n=zs.scale.linear(),i=Nc,r=6,o=6,s=3,a=[10],l=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(i=t in Mc?t+"":Nc,e):i},e.ticks=function(){return arguments.length?(a=arguments,e):a},e.tickValues=function(t){return arguments.length?(l=t,e):l},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(r=+t,o=+arguments[n-1],e):r},e.innerTickSize=function(t){return arguments.length?(r=+t,e):r},e.outerTickSize=function(t){return arguments.length?(o=+t,e):o},e.tickPadding=function(t){return arguments.length?(s=+t,e):s},e.tickSubdivide=function(){return arguments.length&&e},e};var Nc="bottom",Mc={top:1,right:1,bottom:1,left:1};zs.svg.brush=function(){function e(o){o.each(function(){var o=zs.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",r).on("touchstart.brush",r),s=o.selectAll(".background").data([0]);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=o.selectAll(".resize").data(f,wt);a.exit().remove(),a.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Rc[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",e.empty()?"none":null);var u,d=zs.transition(o),h=zs.transition(s);l&&(u=Lo(l),h.attr("x",u[0]).attr("width",u[1]-u[0]),n(d)),c&&(u=Lo(c),h.attr("y",u[0]).attr("height",u[1]-u[0]),i(d)),t(d)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+u[+/e$/.test(e)]+","+d[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",u[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",u[1]-u[0])}function i(e){e.select(".extent").attr("y",d[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function r(){function r(){32==zs.event.keyCode&&(T||(b=null,F[0]-=u[1],F[1]-=d[1],T=2),y())}function f(){32==zs.event.keyCode&&2==T&&(F[0]+=u[1],F[1]+=d[1],T=0,y())}function g(){var e=zs.mouse(C),r=!1;E&&(e[0]+=E[0],e[1]+=E[1]),T||(zs.event.altKey?(b||(b=[(u[0]+u[1])/2,(d[0]+d[1])/2]),F[0]=u[+(e[0]<b[0])],F[1]=d[+(e[1]<b[1])]):b=null),D&&m(e,l,0)&&(n(A),r=!0),x&&m(e,c,1)&&(i(A),r=!0),r&&(t(A),w({type:"brush",mode:T?"move":"resize"}))}function m(e,t,n){var i,r,a=Lo(t),l=a[0],c=a[1],f=F[n],g=n?d:u,m=g[1]-g[0];return T&&(l-=f,c-=m+f),i=(n?p:h)?Math.max(l,Math.min(c,e[n])):e[n],T?r=(i+=f)+m:(b&&(f=Math.max(l,Math.min(c,2*b[n]-i))),i>f?(r=i,i=f):r=f),g[0]!=i||g[1]!=r?(n?s=null:o=null,g[0]=i,g[1]=r,!0):void 0}function v(){g(),A.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),zs.select("body").style("cursor",null),N.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),k(),w({type:"brushend"})}var b,E,C=this,_=zs.select(zs.event.target),w=a.of(C,arguments),A=zs.select(C),S=_.datum(),D=!/^(n|s)$/.test(S)&&l,x=!/^(e|w)$/.test(S)&&c,T=_.classed("extent"),k=H(),F=zs.mouse(C),N=zs.select(Xs).on("keydown.brush",r).on("keyup.brush",f);if(zs.event.changedTouches?N.on("touchmove.brush",g).on("touchend.brush",v):N.on("mousemove.brush",g).on("mouseup.brush",v),A.interrupt().selectAll("*").interrupt(),T)F[0]=u[0]-F[0],F[1]=d[0]-F[1];else if(S){var M=+/w$/.test(S),R=+/^n/.test(S);E=[u[1-M]-F[0],d[1-R]-F[1]],F[0]=u[M],F[1]=d[R]}else zs.event.altKey&&(b=F.slice());A.style("pointer-events","none").selectAll(".resize").style("display",null),zs.select("body").style("cursor",_.style("cursor")),w({type:"brushstart"}),g()}var o,s,a=E(e,"brushstart","brush","brushend"),l=null,c=null,u=[0,0],d=[0,0],h=!0,p=!0,f=Lc[0];return e.event=function(e){e.each(function(){var e=a.of(this,arguments),t={x:u,y:d,i:o,j:s},n=this.__chart__||t;this.__chart__=t,Sc?zs.select(this).transition().each("start.brush",function(){o=n.i,s=n.j,u=n.x,d=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=fr(u,t.x),i=fr(d,t.y);return o=s=null,function(r){u=t.x=n(r),d=t.y=i(r),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,s=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(l=t,f=Lc[!l<<1|!c],e):l},e.y=function(t){return arguments.length?(c=t,f=Lc[!l<<1|!c],e):c},e.clamp=function(t){return arguments.length?(l&&c?(h=!!t[0],p=!!t[1]):l?h=!!t:c&&(p=!!t),e):l&&c?[h,p]:l?h:c?p:null},e.extent=function(t){var n,i,r,a,h;return arguments.length?(l&&(n=t[0],i=t[1],c&&(n=n[0],i=i[0]),o=[n,i],l.invert&&(n=l(n),i=l(i)),n>i&&(h=n,n=i,i=h),(n!=u[0]||i!=u[1])&&(u=[n,i])),c&&(r=t[0],a=t[1],l&&(r=r[1],a=a[1]),s=[r,a],c.invert&&(r=c(r),a=c(a)),r>a&&(h=r,r=a,a=h),(r!=d[0]||a!=d[1])&&(d=[r,a])),e):(l&&(o?(n=o[0],i=o[1]):(n=u[0],i=u[1],l.invert&&(n=l.invert(n),i=l.invert(i)),n>i&&(h=n,n=i,i=h))),c&&(s?(r=s[0],a=s[1]):(r=d[0],a=d[1],c.invert&&(r=c.invert(r),a=c.invert(a)),r>a&&(h=r,r=a,a=h))),l&&c?[[n,r],[i,a]]:l?[n,i]:c&&[r,a])},e.clear=function(){return e.empty()||(u=[0,0],d=[0,0],o=s=null),e},e.empty=function(){return!!l&&u[0]==u[1]||!!c&&d[0]==d[1]},zs.rebind(e,a,"on")};var Rc={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Lc=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ic=el.format=sl.timeFormat,Oc=Ic.utc,Bc=Oc("%Y-%m-%dT%H:%M:%S.%LZ");Ic.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Us:Bc,Us.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Us.toString=Bc.toString,el.second=It(function(e){return new tl(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),el.seconds=el.second.range,el.seconds.utc=el.second.utc.range,el.minute=It(function(e){return new tl(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),el.minutes=el.minute.range,el.minutes.utc=el.minute.utc.range,el.hour=It(function(e){var t=e.getTimezoneOffset()/60;return new tl(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),el.hours=el.hour.range,el.hours.utc=el.hour.utc.range,el.month=It(function(e){return e=el.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),el.months=el.month.range,el.months.utc=el.month.utc.range;var Pc=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],$c=[[el.second,1],[el.second,5],[el.second,15],[el.second,30],[el.minute,1],[el.minute,5],[el.minute,15],[el.minute,30],[el.hour,1],[el.hour,3],[el.hour,6],[el.hour,12],[el.day,1],[el.day,2],[el.week,1],[el.month,1],[el.month,3],[el.year,1]],Uc=Ic.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",An]]),Vc={range:function(e,t,n){return zs.range(Math.ceil(e/n)*n,+t,n).map(js)},floor:wt,ceil:wt};$c.year=el.year,el.scale=function(){return Vs(zs.scale.linear(),$c,Uc)};var jc=$c.map(function(e){return[e[0].utc,e[1]]}),Hc=Oc.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",An]]);jc.year=el.year.utc,el.scale.utc=function(){return Vs(zs.scale.linear(),jc,Hc)},zs.text=At(function(e){return e.responseText}),zs.json=function(e,t){return St(e,"application/json",Hs,t)},zs.html=function(e,t){return St(e,"text/html",Ws,t)},zs.xml=At(function(e){return e.responseXML}),"function"==typeof define&&define.amd?define("d3",zs):"object"==typeof module&&module.exports&&(module.exports=zs),this.d3=zs}(),function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw Error("Implement me")}}function n(e,t){return St.call(e,t)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function r(e){bt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function o(e,t){var n=!0;return h(function(){return n&&(r(e),n=!1),t.apply(this,arguments)},t)}function s(e,t){vn[e]||(r(t),vn[e]=!0)}function a(e,t){return function(n){return g(e.call(this,n),t)}}function l(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function c(){}function u(e,t){t!==!1&&N(e),p(this,e),this._d=new Date(+e._d)}function d(e){var t=A(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*a,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=bt.localeData(),this._bubble()}function h(e,t){for(var i in t)n(t,i)&&(e[i]=t[i]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(t,n){var i,r,o;if(n._isAMomentObject!==e&&(t._isAMomentObject=n._isAMomentObject),n._i!==e&&(t._i=n._i),n._f!==e&&(t._f=n._f),n._l!==e&&(t._l=n._l),n._strict!==e&&(t._strict=n._strict),n._tzm!==e&&(t._tzm=n._tzm),n._isUTC!==e&&(t._isUTC=n._isUTC),n._offset!==e&&(t._offset=n._offset),n._pf!==e&&(t._pf=n._pf),n._locale!==e&&(t._locale=n._locale),Lt.length>0)for(i in Lt)r=Lt[i],o=n[r],o!==e&&(t[r]=o);return t}function f(e){return 0>e?Math.ceil(e):Math.floor(e)}function g(e,t,n){for(var i=""+Math.abs(e),r=e>=0;t>i.length;)i="0"+i;return(r?n?"+":"":"-")+i}function m(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function v(e,t){var n;return t=O(t,e),e.isBefore(t)?n=m(e,t):(n=m(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function y(e,t){return function(n,i){var r,o;return null===i||isNaN(+i)||(s(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=bt.duration(n,i),b(this,r,e),this}}function b(e,t,n,i){var r=t._milliseconds,o=t._days,s=t._months;i=null==i?!0:i,r&&e._d.setTime(+e._d+r*n),o&&pt(e,"Date",ht(e,"Date")+o*n),s&&dt(e,ht(e,"Month")+s*n),i&&bt.updateOffset(e,o||s)}function E(e){return"[object Array]"===Object.prototype.toString.call(e)}function C(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function _(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&D(e[i])!==D(t[i]))&&s++;return s+o}function w(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=un[e]||dn[t]||t}return e}function A(e){var t,i,r={};for(i in e)n(e,i)&&(t=w(i),t&&(r[t]=e[i]));return r}function S(t){var n,i;if(0===t.indexOf("week"))n=7,i="day";else{if(0!==t.indexOf("month"))return;n=12,i="month"}bt[t]=function(r,o){var s,a,l=bt._locale[t],c=[];if("number"==typeof r&&(o=r,r=e),a=function(e){var t=bt().utc().set(i,e);return l.call(bt._locale,t,r||"")},null!=o)return a(o);for(s=0;n>s;s++)c.push(a(s));return c}}function D(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function x(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function T(e,t,n){return at(bt([e,11,31+t-n]),t,n).week}function k(e){return F(e)?366:365}function F(e){return 0===e%4&&0!==e%100||0===e%400}function N(e){var t;e._a&&-2===e._pf.overflow&&(t=0>e._a[xt]||e._a[xt]>11?xt:1>e._a[Tt]||e._a[Tt]>x(e._a[Dt],e._a[xt])?Tt:0>e._a[kt]||e._a[kt]>24||24===e._a[kt]&&(0!==e._a[Ft]||0!==e._a[Nt]||0!==e._a[Mt])?kt:0>e._a[Ft]||e._a[Ft]>59?Ft:0>e._a[Nt]||e._a[Nt]>59?Nt:0>e._a[Mt]||e._a[Mt]>999?Mt:-1,e._pf._overflowDayOfYear&&(Dt>t||t>Tt)&&(t=Tt),e._pf.overflow=t)}function M(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&0>t._pf.overflow&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===e)),t._isValid}function R(e){return e?e.toLowerCase().replace("_","-"):e}function L(e){for(var t,n,i,r,o=0;e.length>o;){for(r=R(e[o]).split("-"),t=r.length,n=R(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=I(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&_(r,n,!0)>=t-1)break;t--}o++}return null}function I(e){var t=null;if(!Rt[e]&&It)try{t=bt.locale(),require("./locale/"+e),bt.locale(t)}catch(n){}return Rt[e]}function O(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(bt.isMoment(e)||C(e)?+e:+bt(e))-+n,n._d.setTime(+n._d+i),bt.updateOffset(n,!1),n):bt(e).local()}function B(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function P(e){var t,n,i=e.match($t);for(t=0,n=i.length;n>t;t++)i[t]=mn[i[t]]?mn[i[t]]:B(i[t]);return function(r){var o="";for(t=0;n>t;t++)o+=i[t]instanceof Function?i[t].call(r,e):i[t];return o}}function $(e,t){return e.isValid()?(t=U(t,e.localeData()),hn[t]||(hn[t]=P(t)),hn[t](e)):e.localeData().invalidDate()}function U(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Ut.lastIndex=0;i>=0&&Ut.test(e);)e=e.replace(Ut,n),Ut.lastIndex=0,i-=1;return e}function V(e,t){var n,i=t._strict;switch(e){case"Q":return Qt;case"DDDD":return Zt;case"YYYY":case"GGGG":case"gggg":return i?en:Ht;case"Y":case"G":case"g":return nn;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?tn:Wt;case"S":if(i)return Qt;case"SS":if(i)return Jt;case"SSS":if(i)return Zt;case"DDD":return jt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return qt;case"a":case"A":return t._locale._meridiemParse;case"x":return Yt;case"X":return Xt;case"Z":case"ZZ":return Gt;case"T":return Kt;case"SSSS":return zt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Jt:Vt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Vt;case"Do":return i?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return n=RegExp(X(Y(e.replace("\\","")),"i"))}}function j(e){e=e||"";var t=e.match(Gt)||[],n=t[t.length-1]||[],i=(n+"").match(ln)||["-",0,0],r=+(60*i[1])+D(i[2]);return"+"===i[0]?-r:r}function H(e,t,n){var i,r=n._a;switch(e){case"Q":null!=t&&(r[xt]=3*(D(t)-1));break;case"M":case"MM":null!=t&&(r[xt]=D(t)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(t,e,n._strict),null!=i?r[xt]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(r[Tt]=D(t));break;case"Do":null!=t&&(r[Tt]=D(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=D(t));break;case"YY":r[Dt]=bt.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":r[Dt]=D(t);break;case"a":case"A":n._isPm=n._locale.isPM(t);break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":r[kt]=D(t);break;case"m":case"mm":r[Ft]=D(t);break;case"s":case"ss":r[Nt]=D(t);break;case"S":case"SS":case"SSS":case"SSSS":r[Mt]=D(1e3*("0."+t));break;case"x":n._d=new Date(D(t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=j(t);break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(t),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=D(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=bt.parseTwoDigitYear(t)}}function W(e){var n,i,r,o,s,a,l;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(s=1,a=4,i=t(n.GG,e._a[Dt],at(bt(),1,4).year),r=t(n.W,1),o=t(n.E,1)):(s=e._locale._week.dow,a=e._locale._week.doy,i=t(n.gg,e._a[Dt],at(bt(),s,a).year),r=t(n.w,1),null!=n.d?(o=n.d,s>o&&++r):o=null!=n.e?n.e+s:s),l=lt(i,r,o,a,s),e._a[Dt]=l.year,e._dayOfYear=l.dayOfYear}function z(e){var n,i,r,o,s=[];if(!e._d){for(r=G(e),e._w&&null==e._a[Tt]&&null==e._a[xt]&&W(e),e._dayOfYear&&(o=t(e._a[Dt],r[Dt]),e._dayOfYear>k(o)&&(e._pf._overflowDayOfYear=!0),i=it(o,0,e._dayOfYear),e._a[xt]=i.getUTCMonth(),e._a[Tt]=i.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=s[n]=r[n];for(;7>n;n++)e._a[n]=s[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[kt]&&0===e._a[Ft]&&0===e._a[Nt]&&0===e._a[Mt]&&(e._nextDay=!0,e._a[kt]=0),e._d=(e._useUTC?it:nt).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm),e._nextDay&&(e._a[kt]=24)}}function q(e){var t;e._d||(t=A(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],z(e))}function G(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function K(t){if(t._f===bt.ISO_8601)return J(t),e;t._a=[],t._pf.empty=!0;var n,i,r,o,s,a=""+t._i,l=a.length,c=0;for(r=U(t._f,t._locale).match($t)||[],n=0;r.length>n;n++)o=r[n],i=(a.match(V(o,t))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&t._pf.unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),c+=i.length),mn[o]?(i?t._pf.empty=!1:t._pf.unusedTokens.push(o),H(o,i,t)):t._strict&&!i&&t._pf.unusedTokens.push(o);t._pf.charsLeftOver=l-c,a.length>0&&t._pf.unusedInput.push(a),t._pf.bigHour===!0&&12>=t._a[kt]&&(t._pf.bigHour=e),t._isPm&&12>t._a[kt]&&(t._a[kt]+=12),t._isPm===!1&&12===t._a[kt]&&(t._a[kt]=0),z(t),N(t)
}function Y(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})}function X(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(t){var n,r,o,s,a;if(0===t._f.length)return t._pf.invalidFormat=!0,t._d=new Date(0/0),e;for(s=0;t._f.length>s;s++)a=0,n=p({},t),null!=t._useUTC&&(n._useUTC=t._useUTC),n._pf=i(),n._f=t._f[s],K(n),M(n)&&(a+=n._pf.charsLeftOver,a+=10*n._pf.unusedTokens.length,n._pf.score=a,(null==o||o>a)&&(o=a,r=n));h(t,r||n)}function J(e){var t,n,i=e._i,r=rn.exec(i);if(r){for(e._pf.iso=!0,t=0,n=sn.length;n>t;t++)if(sn[t][1].exec(i)){e._f=sn[t][0]+(r[6]||" ");break}for(t=0,n=an.length;n>t;t++)if(an[t][1].exec(i)){e._f+=an[t][0];break}i.match(Gt)&&(e._f+="Z"),K(e)}else e._isValid=!1}function Z(e){J(e),e._isValid===!1&&(delete e._isValid,bt.createFromInputFallback(e))}function et(e,t){var n,i=[];for(n=0;e.length>n;++n)i.push(t(e[n],n));return i}function tt(t){var n,i=t._i;i===e?t._d=new Date:C(i)?t._d=new Date(+i):null!==(n=Ot.exec(i))?t._d=new Date(+n[1]):"string"==typeof i?Z(t):E(i)?(t._a=et(i.slice(0),function(e){return parseInt(e,10)}),z(t)):"object"==typeof i?q(t):"number"==typeof i?t._d=new Date(i):bt.createFromInputFallback(t)}function nt(e,t,n,i,r,o,s){var a=new Date(e,t,n,i,r,o,s);return 1970>e&&a.setFullYear(e),a}function it(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function rt(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function ot(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function st(e,t,n){var i=bt.duration(e).abs(),r=At(i.as("s")),o=At(i.as("m")),s=At(i.as("h")),a=At(i.as("d")),l=At(i.as("M")),c=At(i.as("y")),u=pn.s>r&&["s",r]||1===o&&["m"]||pn.m>o&&["mm",o]||1===s&&["h"]||pn.h>s&&["hh",s]||1===a&&["d"]||pn.d>a&&["dd",a]||1===l&&["M"]||pn.M>l&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,ot.apply({},u)}function at(e,t,n){var i,r=n-t,o=n-e.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=bt(e).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function lt(e,t,n,i,r){var o,s,a=it(e,0,1).getUTCDay();return a=0===a?7:a,n=null!=n?n:r,o=r-a+(a>i?7:0)-(r>a?7:0),s=7*(t-1)+(n-r)+o+1,{year:s>0?e:e-1,dayOfYear:s>0?s:k(e-1)+s}}function ct(t){var n,i=t._i,r=t._f;return t._locale=t._locale||bt.localeData(t._l),null===i||r===e&&""===i?bt.invalid({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),bt.isMoment(i)?new u(i,!0):(r?E(r)?Q(t):K(t):tt(t),n=new u(t),n._nextDay&&(n.add(1,"d"),n._nextDay=e),n))}function ut(e,t){var n,i;if(1===t.length&&E(t[0])&&(t=t[0]),!t.length)return bt();for(n=t[0],i=1;t.length>i;++i)t[i][e](n)&&(n=t[i]);return n}function dt(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),x(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function ht(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function pt(e,t,n){return"Month"===t?dt(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function ft(e,t){return function(n){return null!=n?(pt(this,e,n),bt.updateOffset(this,t),this):ht(this,e)}}function gt(e){return 400*e/146097}function mt(e){return 146097*e/400}function vt(e){bt.duration.fn[e]=function(){return this._data[e]}}function yt(e){"undefined"==typeof ender&&(Et=wt.moment,wt.moment=e?o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",bt):bt)}for(var bt,Et,Ct,_t="2.8.4",wt="undefined"!=typeof global?global:this,At=Math.round,St=Object.prototype.hasOwnProperty,Dt=0,xt=1,Tt=2,kt=3,Ft=4,Nt=5,Mt=6,Rt={},Lt=[],It="undefined"!=typeof module&&module&&module.exports,Ot=/^\/?Date\((\-?\d+)/i,Bt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Pt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,$t=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Ut=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Vt=/\d\d?/,jt=/\d{1,3}/,Ht=/\d{1,4}/,Wt=/[+\-]?\d{1,6}/,zt=/\d+/,qt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Gt=/Z|[\+\-]\d\d:?\d\d/gi,Kt=/T/i,Yt=/[\+\-]?\d+/,Xt=/[\+\-]?\d+(\.\d{1,3})?/,Qt=/\d/,Jt=/\d\d/,Zt=/\d{3}/,en=/\d{4}/,tn=/[+-]?\d{6}/,nn=/[+-]?\d+/,rn=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,on="YYYY-MM-DDTHH:mm:ssZ",sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],an=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ln=/([\+\-]|\d\d)/gi,cn=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),un={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},dn={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},hn={},pn={s:45,m:45,h:22,d:26,M:11},fn="DDD w W M D d".split(" "),gn="M D H h m s w W".split(" "),mn={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return g(this.year()%100,2)},YYYY:function(){return g(this.year(),4)},YYYYY:function(){return g(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+g(Math.abs(e),6)},gg:function(){return g(this.weekYear()%100,2)},gggg:function(){return g(this.weekYear(),4)},ggggg:function(){return g(this.weekYear(),5)},GG:function(){return g(this.isoWeekYear()%100,2)},GGGG:function(){return g(this.isoWeekYear(),4)},GGGGG:function(){return g(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return D(this.milliseconds()/100)},SS:function(){return g(D(this.milliseconds()/10),2)},SSS:function(){return g(this.milliseconds(),3)},SSSS:function(){return g(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+g(D(e/60),2)+":"+g(D(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+g(D(e/60),2)+g(D(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},vn={},yn=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];fn.length;)Ct=fn.pop(),mn[Ct+"o"]=l(mn[Ct],Ct);for(;gn.length;)Ct=gn.pop(),mn[Ct+Ct]=a(mn[Ct],2);mn.DDDD=a(mn.DDD,3),h(c.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=bt.utc([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=bt([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.apply(t,[n]):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return at(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),bt=function(t,n,r,o){var s;return"boolean"==typeof r&&(o=r,r=e),s={},s._isAMomentObject=!0,s._i=t,s._f=n,s._l=r,s._strict=o,s._isUTC=!1,s._pf=i(),ct(s)},bt.suppressDeprecationWarnings=!1,bt.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),bt.min=function(){var e=[].slice.call(arguments,0);return ut("isBefore",e)},bt.max=function(){var e=[].slice.call(arguments,0);return ut("isAfter",e)},bt.utc=function(t,n,r,o){var s;return"boolean"==typeof r&&(o=r,r=e),s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=r,s._i=t,s._f=n,s._strict=o,s._pf=i(),ct(s).utc()},bt.unix=function(e){return bt(1e3*e)},bt.duration=function(e,t){var i,r,o,s,a=e,l=null;return bt.isDuration(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(l=Bt.exec(e))?(i="-"===l[1]?-1:1,a={y:0,d:D(l[Tt])*i,h:D(l[kt])*i,m:D(l[Ft])*i,s:D(l[Nt])*i,ms:D(l[Mt])*i}):(l=Pt.exec(e))?(i="-"===l[1]?-1:1,o=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*i},a={y:o(l[2]),M:o(l[3]),d:o(l[4]),h:o(l[5]),m:o(l[6]),s:o(l[7]),w:o(l[8])}):"object"==typeof a&&("from"in a||"to"in a)&&(s=v(bt(a.from),bt(a.to)),a={},a.ms=s.milliseconds,a.M=s.months),r=new d(a),bt.isDuration(e)&&n(e,"_locale")&&(r._locale=e._locale),r},bt.version=_t,bt.defaultFormat=on,bt.ISO_8601=function(){},bt.momentProperties=Lt,bt.updateOffset=function(){},bt.relativeTimeThreshold=function(t,n){return pn[t]===e?!1:n===e?pn[t]:(pn[t]=n,!0)},bt.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return bt.locale(e,t)}),bt.locale=function(t,n){var i;return t&&(i=n!==e?bt.defineLocale(t,n):bt.localeData(t),i&&(bt.duration._locale=bt._locale=i)),bt._locale._abbr},bt.defineLocale=function(e,t){return null!==t?(t.abbr=e,Rt[e]||(Rt[e]=new c),Rt[e].set(t),bt.locale(e),Rt[e]):(delete Rt[e],null)},bt.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(e){return bt.localeData(e)}),bt.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return bt._locale;if(!E(e)){if(t=I(e))return t;e=[e]}return L(e)},bt.isMoment=function(e){return e instanceof u||null!=e&&n(e,"_isAMomentObject")},bt.isDuration=function(e){return e instanceof d};for(Ct=yn.length-1;Ct>=0;--Ct)S(yn[Ct]);bt.normalizeUnits=function(e){return w(e)},bt.invalid=function(e){var t=bt.utc(0/0);return null!=e?h(t._pf,e):t._pf.userInvalidated=!0,t},bt.parseZone=function(){return bt.apply(null,arguments).parseZone()},bt.parseTwoDigitYear=function(e){return D(e)+(D(e)>68?1900:2e3)},h(bt.fn=u.prototype,{clone:function(){return bt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=bt(this).utc();return e.year()>0&&9999>=e.year()?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():$(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):$(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return M(this)},isDSTShifted:function(){return this._a?this.isValid()&&_(this._a,(this._isUTC?bt.utc(this._a):bt(this._a)).toArray())>0:!1},parsingFlags:function(){return h({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._dateTzOffset(),"m")),this},format:function(e){var t=$(this,e||bt.defaultFormat);return this.localeData().postformat(t)},add:y(1,"add"),subtract:y(-1,"subtract"),diff:function(e,t,n){var i,r,o,s=O(e,this),a=6e4*(this.zone()-s.zone());return t=w(t),"year"===t||"month"===t?(i=432e5*(this.daysInMonth()+s.daysInMonth()),r=12*(this.year()-s.year())+(this.month()-s.month()),o=this-bt(this).startOf("month")-(s-bt(s).startOf("month")),o-=6e4*(this.zone()-bt(this).startOf("month").zone()-(s.zone()-bt(s).startOf("month").zone())),r+=o/i,"year"===t&&(r/=12)):(i=this-s,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-a)/864e5:"week"===t?(i-a)/6048e5:i),n?r:f(r)},from:function(e,t){return bt.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(bt(),e)},calendar:function(e){var t=e||bt(),n=O(t,this).startOf("day"),i=this.diff(n,"days",!0),r=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(r,this,bt(t)))},isLeapYear:function(){return F(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=rt(e,this.localeData()),this.add(e-t,"d")):t},month:ft("Month",!0),startOf:function(e){switch(e=w(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=w(t),t===e||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(t,n){var i;return n=w(n!==e?n:"millisecond"),"millisecond"===n?(t=bt.isMoment(t)?t:bt(t),+this>+t):(i=bt.isMoment(t)?+t:+bt(t),+this.clone().startOf(n)>i)},isBefore:function(t,n){var i;return n=w(n!==e?n:"millisecond"),"millisecond"===n?(t=bt.isMoment(t)?t:bt(t),+t>+this):(i=bt.isMoment(t)?+t:+bt(t),i>+this.clone().endOf(n))},isSame:function(e,t){var n;return t=w(t||"millisecond"),"millisecond"===t?(e=bt.isMoment(e)?e:bt(e),+this===+e):(n=+bt(e),n>=+this.clone().startOf(t)&&+this.clone().endOf(t)>=n)},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=bt.apply(null,arguments),this>e?this:e}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=bt.apply(null,arguments),e>this?this:e}),zone:function(e,t){var n,i=this._offset||0;return null==e?this._isUTC?i:this._dateTzOffset():("string"==typeof e&&(e=j(e)),16>Math.abs(e)&&(e=60*e),!this._isUTC&&t&&(n=this._dateTzOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.subtract(n,"m"),i!==e&&(!t||this._changeInProgress?b(this,bt.duration(i-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,bt.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?bt(e).zone():0,0===(this.zone()-e)%60},daysInMonth:function(){return x(this.year(),this.month())},dayOfYear:function(e){var t=At((bt(this).startOf("day")-bt(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=at(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=at(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=at(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return T(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return T(this.year(),e.dow,e.doy)},get:function(e){return e=w(e),this[e]()},set:function(e,t){return e=w(e),"function"==typeof this[e]&&this[e](t),this},locale:function(t){var n;return t===e?this._locale._abbr:(n=bt.localeData(t),null!=n&&(this._locale=n),this)},lang:o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),bt.fn.millisecond=bt.fn.milliseconds=ft("Milliseconds",!1),bt.fn.second=bt.fn.seconds=ft("Seconds",!1),bt.fn.minute=bt.fn.minutes=ft("Minutes",!1),bt.fn.hour=bt.fn.hours=ft("Hours",!0),bt.fn.date=ft("Date",!0),bt.fn.dates=o("dates accessor is deprecated. Use date instead.",ft("Date",!0)),bt.fn.year=ft("FullYear",!0),bt.fn.years=o("years accessor is deprecated. Use year instead.",ft("FullYear",!0)),bt.fn.days=bt.fn.day,bt.fn.months=bt.fn.month,bt.fn.weeks=bt.fn.week,bt.fn.isoWeeks=bt.fn.isoWeek,bt.fn.quarters=bt.fn.quarter,bt.fn.toJSON=bt.fn.toISOString,h(bt.duration.fn=d.prototype,{_bubble:function(){var e,t,n,i=this._milliseconds,r=this._days,o=this._months,s=this._data,a=0;s.milliseconds=i%1e3,e=f(i/1e3),s.seconds=e%60,t=f(e/60),s.minutes=t%60,n=f(t/60),s.hours=n%24,r+=f(n/24),a=f(gt(r)),r-=f(mt(a)),o+=f(r/30),r%=30,a+=f(o/12),o%=12,s.days=r,s.months=o,s.years=a},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return f(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*D(this._months/12)},humanize:function(e){var t=st(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=bt.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=bt.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=w(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=w(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*gt(t),"month"===e?n:n/12;switch(t=this._days+Math.round(mt(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 60*24*t+this._milliseconds/6e4;case"second":return 60*60*24*t+this._milliseconds/1e3;case"millisecond":return Math.floor(1e3*60*60*24*t)+this._milliseconds;default:throw Error("Unknown unit "+e)}},lang:bt.fn.lang,locale:bt.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(0>this.asSeconds()?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||r||o?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale}}),bt.duration.fn.toString=bt.duration.fn.toISOString;for(Ct in cn)n(cn,Ct)&&vt(Ct.toLowerCase());bt.duration.fn.asMilliseconds=function(){return this.as("ms")},bt.duration.fn.asSeconds=function(){return this.as("s")},bt.duration.fn.asMinutes=function(){return this.as("m")},bt.duration.fn.asHours=function(){return this.as("h")},bt.duration.fn.asDays=function(){return this.as("d")},bt.duration.fn.asWeeks=function(){return this.as("weeks")},bt.duration.fn.asMonths=function(){return this.as("M")},bt.duration.fn.asYears=function(){return this.as("y")},bt.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===D(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),It?module.exports=bt:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(wt.moment=Et),bt}),yt(!0)):yt()}.call(this),define("helpers",["constants","core/utils","d3","moment"],function(e,t,n,i){var r={};return r.removeSpecialCharacters=t.removeSpecialCharacters,r.safeURL=t.safeURLName,r.imageUrl=function(e){return e},r.getDocUrl=function(t){return _.has(e.DOC_URLS,t)?e.DOC_URLS[t]:"#"},r.formatSize=function(e){var t=512;if(t>e)return e+" bytes";for(var n=["KB","MB","GB","TB","PB","EB","ZB","YB"],i=0;e>=t&&n.length>i;)i+=1,e/=1024;return e.toFixed(1)+" "+n[i-1]},r.formatDate=function(e){return i(e,"X").format("MMM Do, h:mm:ss a")},r.getDateFromNow=function(e){return i(e,"X").fromNow()},r}),function(e,t){"use strict";var n=e.Backbone;return"function"==typeof define&&define.amd?define("plugins/backbone.layoutmanager",["backbone","underscore","jquery"],function(){return t.apply(e,arguments)}):(n.Layout=t.call(e,n,e._,n.$),void 0)}("object"==typeof global?global:this,function(e,t,n){"use strict";var i=this,r=e.View,o=Array.prototype.push,s=Array.prototype.concat,a=Array.prototype.splice,l=String.prototype.trim?t.bind(String.prototype.trim.call,String.prototype.trim):n.trim,c=e.View.extend({_render:function(){var e=this,t=e.__manager__,n=e.beforeRender,i=e.deferred();return e.hasRendered&&e._removeViews(),t.callback=function(){delete t.isAsync,delete t.callback,e.trigger("beforeRender",e),e._viewRender(t).render().then(function(){i.resolve()})},n&&n.call(e,e),t.isAsync||t.callback(),i.promise()},_applyTemplate:function(e,i,r){t.isString(e)&&(i.noel?(e=n.parseHTML(e,!0),this.$el.slice(1).remove(),this.$el.replaceWith(e),this.setElement(e,!1)):this.html(this.$el,e)),r.resolveWith(this,[this])},_viewRender:function(e){function n(t,n){var r;e.callback=function(t){delete e.isAsync,delete e.callback,s._applyTemplate(t,e,o)},c.cache(i,n),n&&(r=s.renderTemplate.call(s,n,t)),e.isAsync||s._applyTemplate(r,e,o)}var i,r,o,s=this;return{render:function(){var a=s.serialize,l=s.template;return o=s.deferred(),t.isFunction(a)&&(a=a.call(s)),e.callback=function(t){delete e.isAsync,delete e.callback,n(a,t)},"string"==typeof l&&(i=s.prefix+l),(r=c.cache(i))?(n(a,r,i),o):("string"==typeof l?r=s.fetchTemplate.call(s,s.prefix+l):"function"==typeof l?r=l:null!=l&&(r=s.fetchTemplate.call(s,l)),e.isAsync||n(a,r),o)}}},constructor:function(n){this.manage=!0,t.extend(this,n),e.View.apply(this,arguments)},async:function(){var e=this.__manager__;return e.isAsync=!0,e.callback},promise:function(){return this.__manager__.renderDeferred.promise()},renderViews:function(){var e=this,t=e.__manager__,n=e.deferred(),i=e.getViews().map(function(e){return e.render().__manager__.renderDeferred}).value();return t.renderDeferred=n.promise(),e.when(i).then(function(){n.resolveWith(e,[e])}),e},insertView:function(e,t){return t?this.setView(e,t,!0):this.setView(e,!0)},insertViews:function(e){return t.isArray(e)?this.setViews({"":e}):(t.each(e,function(n,i){e[i]=t.isArray(n)?n:[n]}),this.setViews(e))},getView:function(e){return null==e&&(e=arguments[1]),this.getViews(e).first().value()},getViews:function(e){var n;return"string"==typeof e?(e=this.sections[e]||e,n=this.views[e]||[],t.chain([].concat(n))):(n=t.chain(this.views).map(function(e){return t.isArray(e)?e:[e]},this).flatten(),"object"==typeof e?n.where(e):"function"==typeof e?n.filter(e):n)},removeView:function(e){return this.getViews(e).each(function(e){e.remove()})},setView:function(e,t,n){var i,r,o=this;if("string"!=typeof e&&(n=t,t=e,e=""),i=t.__manager__,!i)throw Error("The argument associated with selector '"+e+"' is defined and a View.  Set `manage` property to true for "+"Backbone.View instances.");return i.parent=o,r=i.selector=o.sections[e]||e,n?(o.views[r]=s.call([],o.views[e]||[],t),o.__manager__.insert=!0,t):(o.getView(e)!==t&&o.removeView(e),o.views[r]=t)},setViews:function(e){return t.each(e,function(e,n){return t.isArray(e)?t.each(e,function(e){this.insertView(n,e)},this):(this.setView(n,e),void 0)},this),this},render:function(){function e(){function e(){var e=i.console,n=r.afterRender;n&&n.call(r,r),r.trigger("afterRender",r),s.noel&&r.$el.length>1&&t.isFunction(e.warn)&&!r.suppressWarnings&&(e.warn("`el: false` with multiple top level elements is not supported."),t.isFunction(e.trace)&&e.trace())}var n;return t.each(r.views,function(e,n){t.isArray(e)&&r.htmlBatch(r,e,n)}),a&&!s.insertedViaFragment&&(r.contains(a.el,r.el)||a.partial(a.$el,r.$el,l,s)),r.delegateEvents(),r.hasRendered=!0,(n=s.queue.shift())?n():delete s.queue,l&&l.queue?a.once("afterRender",e):e(),c.resolveWith(r,[r])}function n(){r._render().done(function(){if(!t.keys(r.views).length)return e();var n=t.map(r.views,function(e){var n=t.isArray(e);return n&&e.length?r.when(t.map(e,function(e){return e.__manager__.insertedViaFragment=!0,e.render().__manager__.renderDeferred})):n?e:e.render().__manager__.renderDeferred});r.when(n).done(e)})}var r=this,s=r.__manager__,a=s.parent,l=a&&a.__manager__,c=r.deferred();return s.queue?o.call(s.queue,n):(s.queue=[],n(r,c)),r.__manager__.renderDeferred=c,r},remove:function(){return c._removeView(this,!0),this._remove.apply(this,arguments)}},{_cache:{},_removeViews:function(e,t){"boolean"==typeof e&&(t=e,e=this),e=e||this,e.getViews().each(function(e){(e.hasRendered||t)&&c._removeView(e,t)})},_removeView:function(e,n){var i,r=e.__manager__,o=r.parent&&r.parent.__manager__,s="boolean"==typeof e.keep?e.keep:e.options.keep;if(!s&&o&&o.insert===!0||n){if(c.cleanViews(e),e._removeViews(!0),e.$el.remove(),!r.parent)return;if(i=r.parent.views[r.selector],t.isArray(i))return t.each(t.clone(i),function(e,t){e&&e.__manager__===r&&a.call(i,t,1)});delete r.parent.views[r.selector]}},cache:function(e,t){return e in this._cache&&null==t?this._cache[e]:null!=e&&null!=t?this._cache[e]=t:void 0},cleanViews:function(n){t.each(s.call([],n),function(n){n.unbind(),n.model instanceof e.Model&&n.model.off(null,null,n),n.collection instanceof e.Collection&&n.collection.off(null,null,n),n.stopListening(),t.isFunction(n.cleanup)&&n.cleanup()})},configure:function(n){t.extend(c.prototype,n),n.manage&&(e.View.prototype.manage=!0),n.el===!1&&(e.View.prototype.el=!1),n.suppressWarnings===!0&&(e.View.prototype.suppressWarnings=!0)},setupView:function(n,i){i=t.extend({},i),t.each(s.call([],n),function(n){if(!n.__manager__){var r,o,s=c.prototype;t.defaults(n,{views:{},sections:{},__manager__:{},_removeViews:c._removeViews,_removeView:c._removeView},c.prototype),n.options=i,t.extend(n,i),n._remove=e.View.prototype.remove,n.render=c.prototype.render,n.remove!==s.remove&&(n._remove=n.remove,n.remove=s.remove),r=i.views||n.views,t.keys(r).length&&(o=r,n.views={},t.each(o,function(e,t){"function"==typeof e&&(o[t]=e.call(n,n))}),n.setViews(o))}})}});c.VERSION="0.9.5",e.Layout=c,e.View=function(e){var t;e=e||{},("el"in e?e.el===!1:this.el===!1)&&(t=!0),(e.manage||this.manage)&&c.setupView(this,e),this.__manager__&&(this.__manager__.noel=t,this.__manager__.suppressWarnings=e.suppressWarnings),r.apply(this,arguments)},e.View.extend=r.extend,e.View.prototype=r.prototype;var u={prefix:"",deferred:function(){return n.Deferred()},fetchTemplate:function(e){return t.template(n(e).html())},renderTemplate:function(e,t){return l(e.call(this,t))},serialize:function(){return this.model?t.clone(this.model.attributes):{}},partial:function(e,t,n,i){var r;i.selector&&(n.noel?(r=e.filter(i.selector),e=r.length?r:e.find(i.selector)):e=e.find(i.selector)),n.insert?this.insert(e,t):this.html(e,t)},html:function(e,t){e.html(t)},htmlBatch:function(e,i,r){var o=e.__manager__,s={selector:r},a=t.reduce(i,function(t,i){var r="boolean"==typeof i.keep?i.keep:i.options.keep,o=r&&n.contains(e.el,i.el);return i.el&&!o&&t.push(i.el),t},[]);return this.partial(e.$el,n(a),o,s)},insert:function(e,t){e.append(t)},when:function(e){return n.when.apply(null,e)},contains:function(e,t){return n.contains(e,t)}};return t.extend(c.prototype,u),c}),define("core/base",["backbone","plugins/backbone.layoutmanager"],function(e){var t={router:{navigate:function(){}},masterLayout:{},addNotification:function(){},config:function(e){return _.extend(this,e)}};t.Deferred=function(){return $.Deferred()},t.when=function(e){return e instanceof Array?$.when.apply(null,e):$.when(e)
},t.addonExtensions={initialize:function(){},RouteObjects:{},Views:{}},t.addon=function(e){return _.extend(_.clone(t.addonExtensions),e)},t.View=e.View.extend({establish:function(){return null},loaderClassname:"loader",manage:!0,disableLoader:!1,forceRender:function(){this.hasRendered=!1}});var n={fetchOnce:function(e){var t=_.extend({},e);return(!this._deferred||"rejected"===this._deferred.state()||t.forceFetch)&&(this._deferred=this.fetch()),this._deferred}};t.Model=e.Model.extend({}),t.Collection=e.Collection.extend({}),_.each([t.Model,t.Collection],function(e){_.extend(e.prototype,n)});var i=_.extend({},e.Events);return t.registerExtension=function(e,t){i[e]||(i[e]=[]),i.trigger("add:"+e,t),i[e].push(t)},t.unRegisterExtension=function(e){var t=i[e];t&&(i.trigger("remove:"+e,t),delete i[e])},t.getExtensions=function(e){var t=i[e];return t||(t=[]),t},t.removeExtensionItem=function(e,t,n){var r=i[e];if(r){var o=arguments[arguments.length-1];_.isObject(t)&&!n&&(o=function(e){return _.isEqual(e,t)}),r=_.filter(r,function(e){return!o(e)}),i[e]=r,i.trigger("removeItem:"+e,t)}},t.extensions=i,t.setSession=function(e){return t.session=e,t.session.fetchUser()},t}),define("core/layout",["backbone","plugins/backbone.layoutmanager"],function(e){var t=function(){this.layout=new e.Layout({template:"templates/layouts/with_sidebar",className:"pusher"}),this.layoutViews={},this.reactComponents={},this.permanentViews={},this.el=this.layout.el};return t.configure=function(t){e.Layout.configure(t)},_.extend(t.prototype,{render:function(){return this.layout.render()},setTemplate:function(e){return this.layout.template=e.prefix?e.prefix+e.name:"templates/layouts/"+e,_.each(this.layoutViews,function(e){e.removeView()}),this.layoutViews={},this.render().promise()},setView:function(e,t,n){return this.layout.setView(e,t,!1),n?this.permanentViews[e]=t:this.layoutViews[e]=t,t},renderView:function(e){var t=this.layoutViews[e];return t?t.render():!1},removeView:function(e){var t=this.layout.getView(e);return t?(this.layout.removeView(e),this.layoutViews[e]&&delete this.layoutViews[e],!0):!1}}),t}),define("core/auth",["core/base","backbone"],function(e,t){var n=function(e){this._options=e,this.initialize.apply(this,arguments)};return n.extend=t.Model.extend,_.extend(n.prototype,t.Events,{authDeniedCb:function(){},initialize:function(){},authHandlerCb:function(){var e=$.Deferred();return e.resolve(),e},registerAuth:function(e){this.authHandlerCb=e},registerAuthDenied:function(e){this.authDeniedCb=e},checkAccess:function(t){var n=t||[],i=this;if(!e.session)throw Error("Fauxton.session is not configured.");return e.session.fetchUser().then(function(){return e.when(i.authHandlerCb(e.session,n))})}}),n}),define("core/router",["core/base","core/auth","backbone"],function(e,t,n){var i={},r=n.Router.extend({routes:{},beforeUnload:function(e,t){i[e]=t},removeBeforeUnload:function(e){delete i[e]},navigate:function(e,t){var r=!0,o=_.find(_.map(i,function(e){return e()}),function(e){return e?!0:void 0});o&&(r=window.confirm(o)),r&&n.Router.prototype.navigate(e,t)},addModuleRouteObject:function(t){var n=this,i=e.masterLayout,r=t.prototype.getRouteUrls();_.each(r,function(r){this.route(r,""+r,function(){var o=Array.prototype.slice.call(arguments),s=t.prototype.getRouteRoles(r),a=e.auth.checkAccess(s);a.then(function(){n.activeRouteObject&&n.activeRouteObject.hasRoute(r)||(n.activeRouteObject&&n.activeRouteObject.cleanup(),n.activeRouteObject=new t(r,i,o));var e=n.activeRouteObject;e.rejectPromises(),e.routeCallback(r,o),e.renderWith(r,i,o)},function(){e.auth.authDeniedCb()})})},this)},setModuleRoutes:function(e){_.each(e,function(e){e&&(e.initialize(),e.RouteObjects&&_.each(e.RouteObjects,this.addModuleRouteObject,this))},this)},initialize:function(i){this.addons=i,this.auth=e.auth=new t,this.setModuleRoutes(i),$(e.el).append(e.masterLayout.el),e.masterLayout.render(),this.lastPages=[],n.history.on("route",function(){this.lastPages.push(n.history.fragment),this.lastPages.length>2&&this.lastPages.shift()},this)},triggerRouteEvent:function(t,n){if(this.activeRouteObject){var i=[t].concat(n);this.activeRouteObject.trigger.apply(this.activeRouteObject,i),this.activeRouteObject.renderWith(i,e.masterLayout,n)}}});return r}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("react",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.React=e()}}(function(){return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;i.length>s;s++)r(i[s]);return r}({1:[function(e,t){var n=e(25),i=e(31),r=e(42),o=e(34),s=e(69),a=e(98),l=e(100),c=e(127),u=e(122),d=e(170);i.addons={CSSTransitionGroup:o,LinkedStateMixin:n,PureRenderMixin:r,TransitionGroup:a,batchedUpdates:l.batchedUpdates,classSet:c,cloneWithProps:u,createFragment:s.create,update:d},i.addons.Perf=e(61),i.addons.TestUtils=e(95),t.exports=i},{100:100,122:122,127:127,170:170,25:25,31:31,34:34,42:42,61:61,69:69,95:95,98:98}],2:[function(e,t){var n=e(134),i={componentDidMount:function(){this.props.autoFocus&&n(this.getDOMNode())}};t.exports=i},{134:134}],3:[function(e,t){function n(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&12>=parseInt(e.version(),10)}function i(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function r(e){switch(e){case x.topCompositionStart:return T.compositionStart;case x.topCompositionEnd:return T.compositionEnd;case x.topCompositionUpdate:return T.compositionUpdate}}function o(e,t){return e===x.topKeyDown&&t.keyCode===E}function s(e,t){switch(e){case x.topKeyUp:return-1!==b.indexOf(t.keyCode);case x.topKeyDown:return t.keyCode!==E;case x.topKeyPress:case x.topMouseDown:case x.topBlur:return!0;default:return!1}}function a(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function l(e,t,n,i){var l,c;if(C?l=r(e):F?s(e,i)&&(l=T.compositionEnd):o(e,i)&&(l=T.compositionStart),!l)return null;A&&(F||l!==T.compositionStart?l===T.compositionEnd&&F&&(c=F.getData()):F=g.getPooled(t));var u=m.getPooled(l,n,i);if(c)u.data=c;else{var d=a(i);null!==d&&(u.data=d)}return p.accumulateTwoPhaseDispatches(u),u}function c(e,t){switch(e){case x.topCompositionEnd:return a(t);case x.topKeyPress:var n=t.which;return n!==S?null:(k=!0,D);case x.topTextInput:var i=t.data;return i===D&&k?null:i;default:return null}}function u(e,t){if(F){if(e===x.topCompositionEnd||s(e,t)){var n=F.getData();return g.release(F),F=null,n}return null}switch(e){case x.topPaste:return null;case x.topKeyPress:return t.which&&!i(t)?String.fromCharCode(t.which):null;case x.topCompositionEnd:return A?null:t.data;default:return null}}function d(e,t,n,i){var r;if(r=w?c(e,i):u(e,i),!r)return null;var o=v.getPooled(T.beforeInput,n,i);return o.data=r,p.accumulateTwoPhaseDispatches(o),o}var h=e(16),p=e(21),f=e(22),g=e(23),m=e(106),v=e(110),y=e(157),b=[9,13,27,32],E=229,C=f.canUseDOM&&"CompositionEvent"in window,_=null;f.canUseDOM&&"documentMode"in document&&(_=document.documentMode);var w=f.canUseDOM&&"TextEvent"in window&&!_&&!n(),A=f.canUseDOM&&(!C||_&&_>8&&11>=_),S=32,D=String.fromCharCode(S),x=h.topLevelTypes,T={beforeInput:{phasedRegistrationNames:{bubbled:y({onBeforeInput:null}),captured:y({onBeforeInputCapture:null})},dependencies:[x.topCompositionEnd,x.topKeyPress,x.topTextInput,x.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:y({onCompositionEnd:null}),captured:y({onCompositionEndCapture:null})},dependencies:[x.topBlur,x.topCompositionEnd,x.topKeyDown,x.topKeyPress,x.topKeyUp,x.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:y({onCompositionStart:null}),captured:y({onCompositionStartCapture:null})},dependencies:[x.topBlur,x.topCompositionStart,x.topKeyDown,x.topKeyPress,x.topKeyUp,x.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:y({onCompositionUpdate:null}),captured:y({onCompositionUpdateCapture:null})},dependencies:[x.topBlur,x.topCompositionUpdate,x.topKeyDown,x.topKeyPress,x.topKeyUp,x.topMouseDown]}},k=!1,F=null,N={eventTypes:T,extractEvents:function(e,t,n,i){return[l(e,t,n,i),d(e,t,n,i)]}};t.exports=N},{106:106,110:110,157:157,16:16,21:21,22:22,23:23}],4:[function(e,t){var n=e(150),i={addClass:function(e,t){return n(!/\s/.test(t),'CSSCore.addClass takes only a single class name. "%s" contains multiple classes.',t),t&&(e.classList?e.classList.add(t):i.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return n(!/\s/.test(t),'CSSCore.removeClass takes only a single class name. "%s" contains multiple classes.',t),t&&(e.classList?e.classList.remove(t):i.hasClass(e,t)&&(e.className=e.className.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?i.addClass:i.removeClass)(e,t)},hasClass:function(e,t){return n(!/\s/.test(t),"CSS.hasClass takes only a single class name."),e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}};t.exports=i},{150:150}],5:[function(e,t){function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var i={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},r=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(e){r.forEach(function(t){i[n(t,e)]=i[e]})});var o={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},s={isUnitlessNumber:i,shorthandPropertyExpansions:o};t.exports=s},{}],6:[function(e,t){var n=e(5),i=e(22),r=e(121),o=e(128),s=e(148),a=e(159),l=e(171),c=a(function(e){return s(e)}),u="cssFloat";i.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(u="styleFloat");var d=/^(?:webkit|moz|o)[A-Z]/,h=/;\s*$/,p={},f={},g=function(e){p.hasOwnProperty(e)&&p[e]||(p[e]=!0,l(!1,"Unsupported style property %s. Did you mean %s?",e,r(e)))},m=function(e){p.hasOwnProperty(e)&&p[e]||(p[e]=!0,l(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",e,e.charAt(0).toUpperCase()+e.slice(1)))},v=function(e,t){f.hasOwnProperty(t)&&f[t]||(f[t]=!0,l(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',e,t.replace(h,"")))},y=function(e,t){e.indexOf("-")>-1?g(e):d.test(e)?m(e):h.test(t)&&v(e,t)},b={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];y(n,i),null!=i&&(t+=c(n)+":",t+=o(n,i)+";")}return t||null},setValueForStyles:function(e,t){var i=e.style;for(var r in t)if(t.hasOwnProperty(r)){y(r,t[r]);var s=o(r,t[r]);if("float"===r&&(r=u),s)i[r]=s;else{var a=n.shorthandPropertyExpansions[r];if(a)for(var l in a)i[l]="";else i[r]=""}}}};t.exports=b},{121:121,128:128,148:148,159:159,171:171,22:22,5:5}],7:[function(e,t){function n(){this._callbacks=null,this._contexts=null}var i=e(30),r=e(29),o=e(150);r(n.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){o(e.length===t.length,"Mismatched list of contexts in callback queue"),this._callbacks=null,this._contexts=null;for(var n=0,i=e.length;i>n;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),i.addPoolingTo(n),t.exports=n},{150:150,29:29,30:30}],8:[function(e,t){function n(e){return"SELECT"===e.nodeName||"INPUT"===e.nodeName&&"file"===e.type}function i(e){var t=_.getPooled(x.change,k,e);b.accumulateTwoPhaseDispatches(t),C.batchedUpdates(r,t)}function r(e){y.enqueueEvents(e),y.processEventQueue()}function o(e,t){T=e,k=t,T.attachEvent("onchange",i)}function s(){T&&(T.detachEvent("onchange",i),T=null,k=null)}function a(e,t,n){return e===D.topChange?n:void 0}function l(e,t,n){e===D.topFocus?(s(),o(t,n)):e===D.topBlur&&s()}function c(e,t){T=e,k=t,F=e.value,N=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(T,"value",L),T.attachEvent("onpropertychange",d)}function u(){T&&(delete T.value,T.detachEvent("onpropertychange",d),T=null,k=null,F=null,N=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==F&&(F=t,i(e))}}function h(e,t,n){return e===D.topInput?n:void 0}function p(e,t,n){e===D.topFocus?(u(),c(t,n)):e===D.topBlur&&u()}function f(e){return e!==D.topSelectionChange&&e!==D.topKeyUp&&e!==D.topKeyDown||!T||T.value===F?void 0:(F=T.value,k)}function g(e){return"INPUT"===e.nodeName&&("checkbox"===e.type||"radio"===e.type)}function m(e,t,n){return e===D.topClick?n:void 0}var v=e(16),y=e(18),b=e(21),E=e(22),C=e(100),_=e(108),w=e(151),A=e(153),S=e(157),D=v.topLevelTypes,x={change:{phasedRegistrationNames:{bubbled:S({onChange:null}),captured:S({onChangeCapture:null})},dependencies:[D.topBlur,D.topChange,D.topClick,D.topFocus,D.topInput,D.topKeyDown,D.topKeyUp,D.topSelectionChange]}},T=null,k=null,F=null,N=null,M=!1;E.canUseDOM&&(M=w("change")&&(!("documentMode"in document)||document.documentMode>8));var R=!1;E.canUseDOM&&(R=w("input")&&(!("documentMode"in document)||document.documentMode>9));var L={get:function(){return N.get.call(this)},set:function(e){F=""+e,N.set.call(this,e)}},I={eventTypes:x,extractEvents:function(e,t,i,r){var o,s;if(n(t)?M?o=a:s=l:A(t)?R?o=h:(o=f,s=p):g(t)&&(o=m),o){var c=o(e,t,i);if(c){var u=_.getPooled(x.change,c,r);return b.accumulateTwoPhaseDispatches(u),u}}s&&s(e,t,i)}};t.exports=I},{100:100,108:108,151:151,153:153,157:157,16:16,18:18,21:21,22:22}],9:[function(e,t){var n=0,i={createReactRootIndex:function(){return n++}};t.exports=i},{}],10:[function(e,t){function n(e,t,n){e.insertBefore(t,e.childNodes[n]||null)}var i=e(13),r=e(79),o=e(165),s=e(150),a={dangerouslyReplaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,updateTextContent:o,processUpdates:function(e,t){for(var a,l=null,c=null,u=0;e.length>u;u++)if(a=e[u],a.type===r.MOVE_EXISTING||a.type===r.REMOVE_NODE){var d=a.fromIndex,h=a.parentNode.childNodes[d],p=a.parentID;s(h,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",d,p),l=l||{},l[p]=l[p]||[],l[p][d]=h,c=c||[],c.push(h)}var f=i.dangerouslyRenderMarkup(t);if(c)for(var g=0;c.length>g;g++)c[g].parentNode.removeChild(c[g]);for(var m=0;e.length>m;m++)switch(a=e[m],a.type){case r.INSERT_MARKUP:n(a.parentNode,f[a.markupIndex],a.toIndex);break;case r.MOVE_EXISTING:n(a.parentNode,l[a.parentID][a.fromIndex],a.toIndex);break;case r.TEXT_CONTENT:o(a.parentNode,a.textContent);break;case r.REMOVE_NODE:}}};t.exports=a},{13:13,150:150,165:165,79:79}],11:[function(e,t){function n(e,t){return(e&t)===t}var i=e(150),r={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=e.Properties||{},o=e.DOMAttributeNames||{},a=e.DOMPropertyNames||{},l=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var c in t){i(!s.isStandardName.hasOwnProperty(c),"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",c),s.isStandardName[c]=!0;var u=c.toLowerCase();if(s.getPossibleStandardName[u]=c,o.hasOwnProperty(c)){var d=o[c];s.getPossibleStandardName[d]=c,s.getAttributeName[c]=d}else s.getAttributeName[c]=u;s.getPropertyName[c]=a.hasOwnProperty(c)?a[c]:c,s.getMutationMethod[c]=l.hasOwnProperty(c)?l[c]:null;var h=t[c];s.mustUseAttribute[c]=n(h,r.MUST_USE_ATTRIBUTE),s.mustUseProperty[c]=n(h,r.MUST_USE_PROPERTY),s.hasSideEffects[c]=n(h,r.HAS_SIDE_EFFECTS),s.hasBooleanValue[c]=n(h,r.HAS_BOOLEAN_VALUE),s.hasNumericValue[c]=n(h,r.HAS_NUMERIC_VALUE),s.hasPositiveNumericValue[c]=n(h,r.HAS_POSITIVE_NUMERIC_VALUE),s.hasOverloadedBooleanValue[c]=n(h,r.HAS_OVERLOADED_BOOLEAN_VALUE),i(!s.mustUseAttribute[c]||!s.mustUseProperty[c],"DOMProperty: Cannot require using both attribute and property: %s",c),i(s.mustUseProperty[c]||!s.hasSideEffects[c],"DOMProperty: Properties that have side effects must use property: %s",c),i(1>=!!s.hasBooleanValue[c]+!!s.hasNumericValue[c]+!!s.hasOverloadedBooleanValue[c],"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",c)}}},o={},s={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;s._isCustomAttributeFunctions.length>t;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,i=o[e];return i||(o[e]=i={}),t in i||(n=document.createElement(e),i[t]=n[t]),i[t]},injection:r};t.exports=s},{150:150}],12:[function(e,t){function n(e,t){return null==t||i.hasBooleanValue[e]&&!t||i.hasNumericValue[e]&&isNaN(t)||i.hasPositiveNumericValue[e]&&1>t||i.hasOverloadedBooleanValue[e]&&t===!1}var i=e(11),r=e(163),o=e(171),s={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},a={},l=function(e){if(!(s.hasOwnProperty(e)&&s[e]||a.hasOwnProperty(e)&&a[e])){a[e]=!0;var t=e.toLowerCase(),n=i.isCustomAttribute(t)?t:i.getPossibleStandardName.hasOwnProperty(t)?i.getPossibleStandardName[t]:null;o(null==n,"Unknown DOM property %s. Did you mean %s?",e,n)}},c={createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+r(e)},createMarkupForProperty:function(e,t){if(i.isStandardName.hasOwnProperty(e)&&i.isStandardName[e]){if(n(e,t))return"";var o=i.getAttributeName[e];return i.hasBooleanValue[e]||i.hasOverloadedBooleanValue[e]&&t===!0?o:o+"="+r(t)}return i.isCustomAttribute(e)?null==t?"":e+"="+r(t):(l(e),null)},setValueForProperty:function(e,t,r){if(i.isStandardName.hasOwnProperty(t)&&i.isStandardName[t]){var o=i.getMutationMethod[t];if(o)o(e,r);else if(n(t,r))this.deleteValueForProperty(e,t);else if(i.mustUseAttribute[t])e.setAttribute(i.getAttributeName[t],""+r);else{var s=i.getPropertyName[t];i.hasSideEffects[t]&&""+e[s]==""+r||(e[s]=r)}}else i.isCustomAttribute(t)?null==r?e.removeAttribute(t):e.setAttribute(t,""+r):l(t)},deleteValueForProperty:function(e,t){if(i.isStandardName.hasOwnProperty(t)&&i.isStandardName[t]){var n=i.getMutationMethod[t];if(n)n(e,void 0);else if(i.mustUseAttribute[t])e.removeAttribute(i.getAttributeName[t]);else{var r=i.getPropertyName[t],o=i.getDefaultValueForProperty(e.nodeName,r);i.hasSideEffects[t]&&""+e[r]===o||(e[r]=o)}}else i.isCustomAttribute(t)?e.removeAttribute(t):l(t)}};t.exports=c},{11:11,163:163,171:171}],13:[function(e,t){function n(e){return e.substring(1,e.indexOf(" "))}var i=e(22),r=e(126),o=e(129),s=e(142),a=e(150),l=/^(<[^ \/>]+)/,c="data-danger-index",u={dangerouslyRenderMarkup:function(e){a(i.canUseDOM,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering.");for(var t,u={},d=0;e.length>d;d++)a(e[d],"dangerouslyRenderMarkup(...): Missing markup."),t=n(e[d]),t=s(t)?t:"*",u[t]=u[t]||[],u[t][d]=e[d];var h=[],p=0;for(t in u)if(u.hasOwnProperty(t)){var f,g=u[t];for(f in g)if(g.hasOwnProperty(f)){var m=g[f];g[f]=m.replace(l,"$1 "+c+'="'+f+'" ')}for(var v=r(g.join(""),o),y=0;v.length>y;++y){var b=v[y];b.hasAttribute&&b.hasAttribute(c)?(f=+b.getAttribute(c),b.removeAttribute(c),a(!h.hasOwnProperty(f),"Danger: Assigning to an already-occupied result index."),h[f]=b,p+=1):console.error("Danger: Discarding unexpected node:",b)}}return a(p===h.length,"Danger: Did not assign to every index of resultList."),a(h.length===e.length,"Danger: Expected markup to render %s nodes, but rendered %s.",e.length,h.length),h},dangerouslyReplaceNodeWithMarkup:function(e,t){a(i.canUseDOM,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."),a(t,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."),a("html"!==e.tagName.toLowerCase(),"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See React.renderToString().");var n=r(t,o)[0];e.parentNode.replaceChild(n,e)}};t.exports=u},{126:126,129:129,142:142,150:150,22:22}],14:[function(e,t){var n=e(157),i=[n({ResponderEventPlugin:null}),n({SimpleEventPlugin:null}),n({TapEventPlugin:null}),n({EnterLeaveEventPlugin:null}),n({ChangeEventPlugin:null}),n({SelectEventPlugin:null}),n({BeforeInputEventPlugin:null}),n({AnalyticsEventPlugin:null}),n({MobileSafariClickEventPlugin:null})];t.exports=i},{157:157}],15:[function(e,t){var n=e(16),i=e(21),r=e(112),o=e(77),s=e(157),a=n.topLevelTypes,l=o.getFirstReactDOM,c={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[a.topMouseOut,a.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[a.topMouseOut,a.topMouseOver]}},u=[null,null],d={eventTypes:c,extractEvents:function(e,t,n,s){if(e===a.topMouseOver&&(s.relatedTarget||s.fromElement))return null;if(e!==a.topMouseOut&&e!==a.topMouseOver)return null;var d;if(t.window===t)d=t;else{var h=t.ownerDocument;d=h?h.defaultView||h.parentWindow:window}var p,f;if(e===a.topMouseOut?(p=t,f=l(s.relatedTarget||s.toElement)||d):(p=d,f=t),p===f)return null;var g=p?o.getID(p):"",m=f?o.getID(f):"",v=r.getPooled(c.mouseLeave,g,s);v.type="mouseleave",v.target=p,v.relatedTarget=f;var y=r.getPooled(c.mouseEnter,m,s);return y.type="mouseenter",y.target=f,y.relatedTarget=p,i.accumulateEnterLeaveDispatches(v,y,g,m),u[0]=v,u[1]=y,u}};t.exports=d},{112:112,157:157,16:16,21:21,77:77}],16:[function(e,t){var n=e(156),i=n({bubbled:null,captured:null}),r=n({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),o={topLevelTypes:r,PropagationPhases:i};t.exports=o},{156:156}],17:[function(e,t){var n=e(129),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,i){return e.addEventListener?(e.addEventListener(t,i,!0),{remove:function(){e.removeEventListener(t,i,!0)}}):(console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:n})},registerDefault:function(){}};t.exports=i},{129:129}],18:[function(e,t){function n(){var e=d&&d.traverseTwoPhase&&d.traverseEnterLeave;a(e,"InstanceHandle not injected before use!")}var i=e(19),r=e(20),o=e(118),s=e(135),a=e(150),l={},c=null,u=function(e){if(e){var t=r.executeDispatch,n=i.getPluginModuleForEvent(e);n&&n.executeDispatch&&(t=n.executeDispatch),r.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e)}},d=null,h={injection:{injectMount:r.injection.injectMount,injectInstanceHandle:function(e){d=e,n()},getInstanceHandle:function(){return n(),d},injectEventPluginOrder:i.injectEventPluginOrder,injectEventPluginsByName:i.injectEventPluginsByName},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:function(e,t,n){a(!n||"function"==typeof n,"Expected %s listener to be a function, instead got type %s",t,typeof n);var i=l[t]||(l[t]={});i[e]=n},getListener:function(e,t){var n=l[t];return n&&n[e]},deleteListener:function(e,t){var n=l[t];n&&delete n[e]},deleteAllListeners:function(e){for(var t in l)delete l[t][e]},extractEvents:function(e,t,n,r){for(var s,a=i.plugins,l=0,c=a.length;c>l;l++){var u=a[l];if(u){var d=u.extractEvents(e,t,n,r);d&&(s=o(s,d))}}return s},enqueueEvents:function(e){e&&(c=o(c,e))},processEventQueue:function(){var e=c;c=null,s(e,u),a(!c,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.")},__purge:function(){l={}},__getListenerBank:function(){return l}};t.exports=h},{118:118,135:135,150:150,19:19,20:20}],19:[function(e,t){function n(){if(s)for(var e in a){var t=a[e],n=s.indexOf(e);if(o(n>-1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e),!l.plugins[n]){o(t.extractEvents,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e),l.plugins[n]=t;var r=t.eventTypes;for(var c in r)o(i(r[c],t,c),"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",c,e)}}}function i(e,t,n){o(!l.eventNameDispatchConfigs.hasOwnProperty(n),"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",n),l.eventNameDispatchConfigs[n]=e;var i=e.phasedRegistrationNames;if(i){for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];r(a,t,n)}return!0}return e.registrationName?(r(e.registrationName,t,n),!0):!1}function r(e,t,n){o(!l.registrationNameModules[e],"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e),l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var o=e(150),s=null,a={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){o(!s,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."),s=Array.prototype.slice.call(e),n()},injectEventPluginsByName:function(e){var t=!1;for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];a.hasOwnProperty(i)&&a[i]===r||(o(!a[i],"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",i),a[i]=r,t=!0)}t&&n()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var i=l.registrationNameModules[t.phasedRegistrationNames[n]];if(i)return i}return null},_resetEventPlugins:function(){s=null;for(var e in a)a.hasOwnProperty(e)&&delete a[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var i=l.registrationNameModules;for(var r in i)i.hasOwnProperty(r)&&delete i[r]}};t.exports=l},{150:150}],20:[function(e,t){function n(e){return e===m.topMouseUp||e===m.topTouchEnd||e===m.topTouchCancel}function i(e){return e===m.topMouseMove||e===m.topTouchMove}function r(e){return e===m.topMouseDown||e===m.topTouchStart}function o(e,t){var n=e._dispatchListeners,i=e._dispatchIDs;if(h(e),Array.isArray(n))for(var r=0;n.length>r&&!e.isPropagationStopped();r++)t(e,n[r],i[r]);else n&&t(e,n,i)}function s(e,t,n){e.currentTarget=g.Mount.getNode(n);var i=t(e,n);return e.currentTarget=null,i}function a(e,t){o(e,t),e._dispatchListeners=null,e._dispatchIDs=null}function l(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(h(e),Array.isArray(t)){for(var i=0;t.length>i&&!e.isPropagationStopped();i++)if(t[i](e,n[i]))return n[i]}else if(t&&t(e,n))return n;return null}function c(e){var t=l(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function u(e){h(e);var t=e._dispatchListeners,n=e._dispatchIDs;f(!Array.isArray(t),"executeDirectDispatch(...): Invalid `event`.");var i=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,i}function d(e){return!!e._dispatchListeners}var h,p=e(16),f=e(150),g={Mount:null,injectMount:function(e){g.Mount=e,f(e&&e.getNode,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode.")}},m=p.topLevelTypes;h=function(e){var t=e._dispatchListeners,n=e._dispatchIDs,i=Array.isArray(t),r=Array.isArray(n),o=r?n.length:n?1:0,s=i?t.length:t?1:0;f(r===i&&o===s,"EventPluginUtils: Invalid `event`.")};var v={isEndish:n,isMoveish:i,isStartish:r,executeDirectDispatch:u,executeDispatch:s,executeDispatchesInOrder:a,executeDispatchesInOrderStopAtTrue:c,hasDispatches:d,injection:g,useTouchEvents:!1};t.exports=v},{150:150,16:16}],21:[function(e,t){function n(e,t,n){var i=t.dispatchConfig.phasedRegistrationNames[n];return g(e,i)}function i(e,t,i){if(!e)throw Error("Dispatching id must not be null");var r=t?f.bubbled:f.captured,o=n(e,i,r);o&&(i._dispatchListeners=h(i._dispatchListeners,o),i._dispatchIDs=h(i._dispatchIDs,e))}function r(e){e&&e.dispatchConfig.phasedRegistrationNames&&d.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,i,e)}function o(e,t,n){if(n&&n.dispatchConfig.registrationName){var i=n.dispatchConfig.registrationName,r=g(e,i);r&&(n._dispatchListeners=h(n._dispatchListeners,r),n._dispatchIDs=h(n._dispatchIDs,e))}}function s(e){e&&e.dispatchConfig.registrationName&&o(e.dispatchMarker,null,e)}function a(e){p(e,r)}function l(e,t,n,i){d.injection.getInstanceHandle().traverseEnterLeave(n,i,o,e,t)}function c(e){p(e,s)}var u=e(16),d=e(18),h=e(118),p=e(135),f=u.PropagationPhases,g=d.getListener,m={accumulateTwoPhaseDispatches:a,accumulateDirectDispatches:c,accumulateEnterLeaveDispatches:l};t.exports=m},{118:118,135:135,16:16,18:18}],22:[function(e,t){var n=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=i},{}],23:[function(e,t){function n(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=e(30),r=e(29),o=e(145);r(n.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[o()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,i=n.length,r=this.getText(),o=r.length;for(e=0;i>e&&n[e]===r[e];e++);var s=i-e;
for(t=1;s>=t&&n[i-t]===r[o-t];t++);var a=t>1?1-t:void 0;return this._fallbackText=r.slice(e,a),this._fallbackText}}),i.addPoolingTo(n),t.exports=n},{145:145,29:29,30:30}],24:[function(e,t){var n,i=e(11),r=e(22),o=i.injection.MUST_USE_ATTRIBUTE,s=i.injection.MUST_USE_PROPERTY,a=i.injection.HAS_BOOLEAN_VALUE,l=i.injection.HAS_SIDE_EFFECTS,c=i.injection.HAS_NUMERIC_VALUE,u=i.injection.HAS_POSITIVE_NUMERIC_VALUE,d=i.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(r.canUseDOM){var h=document.implementation;n=h&&h.hasFeature&&h.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var p={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:o|a,allowTransparency:o,alt:null,async:a,autoComplete:null,autoPlay:a,cellPadding:null,cellSpacing:null,charSet:o,checked:s|a,classID:o,className:n?o:s,cols:o|u,colSpan:null,content:null,contentEditable:null,contextMenu:o,controls:s|a,coords:null,crossOrigin:null,data:null,dateTime:o,defer:a,dir:null,disabled:o|a,download:d,draggable:null,encType:null,form:o,formAction:o,formEncType:o,formMethod:o,formNoValidate:a,formTarget:o,frameBorder:o,headers:null,height:o,hidden:o|a,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,label:null,lang:null,list:o,loop:s|a,low:null,manifest:o,marginHeight:null,marginWidth:null,max:null,maxLength:o,media:o,mediaGroup:null,method:null,min:null,multiple:s|a,muted:s|a,name:null,noValidate:a,open:a,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|a,rel:null,required:a,role:o,rows:o|u,rowSpan:null,sandbox:null,scope:null,scoped:a,scrolling:null,seamless:o|a,selected:s|a,shape:null,size:o|u,sizes:o,span:u,spellCheck:null,src:null,srcDoc:s,srcSet:o,start:c,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|l,width:o,wmode:o,autoCapitalize:null,autoCorrect:null,itemProp:o,itemScope:o|a,itemType:o,itemID:o,itemRef:o,property:null,unselectable:o},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=p},{11:11,22:22}],25:[function(e,t){var n=e(75),i=e(94),r={linkState:function(e){return new n(this.state[e],i.createStateKeySetter(this,e))}};t.exports=r},{75:75,94:94}],26:[function(e,t){function n(e){l(null==e.props.checkedLink||null==e.props.valueLink,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa.")}function i(e){n(e),l(null==e.props.value&&null==e.props.onChange,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink.")}function r(e){n(e),l(null==e.props.checked&&null==e.props.onChange,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink")}function o(e){this.props.valueLink.requestChange(e.target.value)}function s(e){this.props.checkedLink.requestChange(e.target.checked)}var a=e(86),l=e(150),c={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},u={Mixin:{propTypes:{value:function(e,t){return!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled?null:Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t){return!e[t]||e.onChange||e.readOnly||e.disabled?null:Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:a.func}},getValue:function(e){return e.props.valueLink?(i(e),e.props.valueLink.value):e.props.value},getChecked:function(e){return e.props.checkedLink?(r(e),e.props.checkedLink.value):e.props.checked},getOnChange:function(e){return e.props.valueLink?(i(e),o):e.props.checkedLink?(r(e),s):e.props.onChange}};t.exports=u},{150:150,86:86}],27:[function(e,t){function n(e){e.remove()}var i=e(33),r=e(118),o=e(135),s=e(150),a={trapBubbledEvent:function(e,t){s(this.isMounted(),"Must be mounted to trap events");var n=this.getDOMNode();s(n,"LocalEventTrapMixin.trapBubbledEvent(...): Requires node to be rendered.");var o=i.trapBubbledEvent(e,t,n);this._localEventListeners=r(this._localEventListeners,o)},componentWillUnmount:function(){this._localEventListeners&&o(this._localEventListeners,n)}};t.exports=a},{118:118,135:135,150:150,33:33}],28:[function(e,t){var n=e(16),i=e(129),r=n.topLevelTypes,o={eventTypes:null,extractEvents:function(e,t,n,o){if(e===r.topTouchStart){var s=o.target;s&&!s.onclick&&(s.onclick=i)}}};t.exports=o},{129:129,16:16}],29:[function(e,t){function n(e){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var t=Object(e),n=Object.prototype.hasOwnProperty,i=1;arguments.length>i;i++){var r=arguments[i];if(null!=r){var o=Object(r);for(var s in o)n.call(o,s)&&(t[s]=o[s])}}return t}t.exports=n},{}],30:[function(e,t){var n=e(150),i=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},r=function(e,t){var n=this;if(n.instancePool.length){var i=n.instancePool.pop();return n.call(i,e,t),i}return new n(e,t)},o=function(e,t,n){var i=this;if(i.instancePool.length){var r=i.instancePool.pop();return i.call(r,e,t,n),r}return new i(e,t,n)},s=function(e,t,n,i,r){var o=this;if(o.instancePool.length){var s=o.instancePool.pop();return o.call(s,e,t,n,i,r),s}return new o(e,t,n,i,r)},a=function(e){var t=this;n(e instanceof t,"Trying to release an instance into a pool of a different type."),e.destructor&&e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},l=10,c=i,u=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||c,n.poolSize||(n.poolSize=l),n.release=a,n},d={addPoolingTo:u,oneArgumentPooler:i,twoArgumentPooler:r,threeArgumentPooler:o,fiveArgumentPooler:s};t.exports=d},{150:150}],31:[function(e,t){var n=e(20),i=e(37),r=e(39),o=e(38),s=e(44),a=e(45),l=e(63),c=e(64),u=e(46),d=e(57),h=e(60),p=e(72),f=e(77),g=e(82),m=e(86),v=e(89),y=e(92),b=e(29),E=e(132),C=e(160);h.inject();var _=l.createElement,w=l.createFactory,A=l.cloneElement;_=c.createElement,w=c.createFactory,A=c.cloneElement;var S=g.measure("React","render",f.render),D={Children:{map:i.map,forEach:i.forEach,count:i.count,only:C},Component:r,DOM:u,PropTypes:m,initializeTouchEvents:function(e){n.useTouchEvents=e},createClass:o.createClass,createElement:_,cloneElement:A,createFactory:w,createMixin:function(e){return e},constructAndRenderComponent:f.constructAndRenderComponent,constructAndRenderComponentByID:f.constructAndRenderComponentByID,findDOMNode:E,render:S,renderToString:y.renderToString,renderToStaticMarkup:y.renderToStaticMarkup,unmountComponentAtNode:f.unmountComponentAtNode,isValidElement:l.isValidElement,withContext:s.withContext,__spread:b};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:a,InstanceHandles:p,Mount:f,Reconciler:v,TextComponent:d});var x=e(22);if(x.canUseDOM&&window.top===window.self){navigator.userAgent.indexOf("Chrome")>-1&&"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");for(var T=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],k=0;T.length>k;k++)if(!T[k]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}D.version="0.13.3",t.exports=D},{132:132,160:160,20:20,22:22,29:29,37:37,38:38,39:39,44:44,45:45,46:46,57:57,60:60,63:63,64:64,72:72,77:77,82:82,86:86,89:89,92:92}],32:[function(e,t){var n=e(132),i={getDOMNode:function(){return n(this)}};t.exports=i},{132:132}],33:[function(e,t){function n(e){return Object.prototype.hasOwnProperty.call(e,f)||(e[f]=h++,u[e[f]]={}),u[e[f]]}var i=e(16),r=e(18),o=e(19),s=e(67),a=e(117),l=e(29),c=e(151),u={},d=!1,h=0,p={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},f="_reactListenersID"+(Math.random()+"").slice(2),g=l({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var r=t,s=n(r),a=o.registrationNameDependencies[e],l=i.topLevelTypes,u=0,d=a.length;d>u;u++){var h=a[u];s.hasOwnProperty(h)&&s[h]||(h===l.topWheel?c("wheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",r):c("mousewheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",r):g.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",r):h===l.topScroll?c("scroll",!0)?g.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",r):g.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):h===l.topFocus||h===l.topBlur?(c("focus",!0)?(g.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",r),g.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",r)):c("focusin")&&(g.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",r),g.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",r)),s[l.topBlur]=!0,s[l.topFocus]=!0):p.hasOwnProperty(h)&&g.ReactEventListener.trapBubbledEvent(h,p[h],r),s[h]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!d){var e=a.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),d=!0}},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:r.putListener,getListener:r.getListener,deleteListener:r.deleteListener,deleteAllListeners:r.deleteAllListeners});t.exports=g},{117:117,151:151,16:16,18:18,19:19,29:29,67:67}],34:[function(e,t){var n=e(31),i=e(29),r=n.createFactory(e(98)),o=n.createFactory(e(35)),s=n.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:n.PropTypes.string.isRequired,transitionAppear:n.PropTypes.bool,transitionEnter:n.PropTypes.bool,transitionLeave:n.PropTypes.bool},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return o({name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave},e)},render:function(){return r(i({},this.props,{childFactory:this._wrapChild}))}});t.exports=s},{29:29,31:31,35:35,98:98}],35:[function(e,t){var n=e(31),i=e(4),r=e(97),o=e(160),s=e(171),a=17,l=5e3,c=null;c=function(){s(!1,"transition(): tried to perform an animation without an animationend or transitionend event after timeout (%sms). You should either disable this transition in JS or add a CSS animation/transition.",l)};var u=n.createClass({displayName:"ReactCSSTransitionGroupChild",transition:function(e,t){var n=this.getDOMNode(),o=this.props.name+"-"+e,s=o+"-active",a=null,u=function(e){e&&e.target!==n||(clearTimeout(a),i.removeClass(n,o),i.removeClass(n,s),r.removeEndEventListener(n,u),t&&t())};r.addEndEventListener(n,u),i.addClass(n,o),this.queueClass(s),a=setTimeout(c,l)},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,a))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(i.addClass.bind(i,this.getDOMNode())),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillAppear:function(e){this.props.appear?this.transition("appear",e):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e):e()},render:function(){return o(this.props.children)}});t.exports=u},{160:160,171:171,31:31,4:4,97:97}],36:[function(e,t){var n=e(89),i=e(133),r=e(149),o=e(167),s={instantiateChildren:function(e){var t=i(e);for(var n in t)if(t.hasOwnProperty(n)){var o=t[n],s=r(o,null);t[n]=s}return t},updateChildren:function(e,t,s,a){var l=i(t);if(!l&&!e)return null;var c;for(c in l)if(l.hasOwnProperty(c)){var u=e&&e[c],d=u&&u._currentElement,h=l[c];if(o(d,h))n.receiveComponent(u,h,s,a),l[c]=u;else{u&&n.unmountComponent(u,c);var p=r(h,null);l[c]=p}}for(c in e)!e.hasOwnProperty(c)||l&&l.hasOwnProperty(c)||n.unmountComponent(e[c]);return l},unmountChildren:function(e){for(var t in e){var i=e[t];n.unmountComponent(i)}}};t.exports=s},{133:133,149:149,167:167,89:89}],37:[function(e,t){function n(e,t){this.forEachFunction=e,this.forEachContext=t}function i(e,t,n,i){var r=e;r.forEachFunction.call(r.forEachContext,t,i)}function r(e,t,r){if(null==e)return e;var o=n.getPooled(t,r);h(e,i,o),n.release(o)}function o(e,t,n){this.mapResult=e,this.mapFunction=t,this.mapContext=n}function s(e,t,n,i){var r=e,o=r.mapResult,s=!o.hasOwnProperty(n);if(p(s,"ReactChildren.map(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",n),s){var a=r.mapFunction.call(r.mapContext,t,i);o[n]=a}}function a(e,t,n){if(null==e)return e;var i={},r=o.getPooled(i,t,n);return h(e,s,r),o.release(r),d.create(i)}function l(){return null}function c(e){return h(e,l,null)}var u=e(30),d=e(69),h=e(169),p=e(171),f=u.twoArgumentPooler,g=u.threeArgumentPooler;u.addPoolingTo(n,f),u.addPoolingTo(o,g);var m={forEach:r,map:a,count:c};t.exports=m},{169:169,171:171,30:30,69:69}],38:[function(e,t){function n(e,t,n){for(var i in t)t.hasOwnProperty(i)&&A("function"==typeof t[i],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e.displayName||"ReactClass",y[n],i)}function i(e,t){var n=T.hasOwnProperty(t)?T[t]:null;N.hasOwnProperty(t)&&C(n===D.OVERRIDE_BASE,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e.hasOwnProperty(t)&&C(n===D.DEFINE_MANY||n===D.DEFINE_MANY_MERGED,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function r(e,t){if(t){C("function"!=typeof t,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."),C(!p.isValidElement(t),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var n=e.prototype;t.hasOwnProperty(S)&&k.mixins(e,t.mixins);for(var r in t)if(t.hasOwnProperty(r)&&r!==S){var o=t[r];if(i(n,r),k.hasOwnProperty(r))k[r](e,o);else{var s=T.hasOwnProperty(r),c=n.hasOwnProperty(r),u=o&&o.__reactDontBind,d="function"==typeof o,h=d&&!s&&!c&&!u;if(h)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[r]=o,n[r]=o;else if(c){var f=T[r];C(s&&(f===D.DEFINE_MANY_MERGED||f===D.DEFINE_MANY),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",f,r),f===D.DEFINE_MANY_MERGED?n[r]=a(n[r],o):f===D.DEFINE_MANY&&(n[r]=l(n[r],o))}else n[r]=o,"function"==typeof o&&t.displayName&&(n[r].displayName=t.displayName+"_"+r)}}}}function o(e,t){if(t)for(var n in t){var i=t[n];if(t.hasOwnProperty(n)){var r=n in k;C(!r,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var o=n in e;C(!o,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=i}}}function s(e,t){C(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(C(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function a(e,t){return function(){var n=e.apply(this,arguments),i=t.apply(this,arguments);if(null==n)return i;if(null==i)return n;var r={};return s(r,n),s(r,i),r}}function l(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function c(e,t){var n=t.bind(e);n.__reactBoundContext=e,n.__reactBoundMethod=t,n.__reactBoundArguments=null;var i=e.constructor.displayName,r=n.bind;return n.bind=function(o){for(var s=[],a=1,l=arguments.length;l>a;a++)s.push(arguments[a]);if(o!==e&&null!==o)A(!1,"bind(): React component methods may only be bound to the component instance. See %s",i);else if(!s.length)return A(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",i),n;var c=r.apply(n,arguments);return c.__reactBoundContext=e,c.__reactBoundMethod=t,c.__reactBoundArguments=s,c},n}function u(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=c(e,f.guard(n,e.constructor.displayName+"."+t))}}var d=e(39),h=e(45),p=e(63),f=e(66),g=e(73),m=e(74),v=e(85),y=e(84),b=e(99),E=e(29),C=e(150),_=e(156),w=e(157),A=e(171),S=w({mixins:null}),D=_({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),x=[],T={mixins:D.DEFINE_MANY,statics:D.DEFINE_MANY,propTypes:D.DEFINE_MANY,contextTypes:D.DEFINE_MANY,childContextTypes:D.DEFINE_MANY,getDefaultProps:D.DEFINE_MANY_MERGED,getInitialState:D.DEFINE_MANY_MERGED,getChildContext:D.DEFINE_MANY_MERGED,render:D.DEFINE_ONCE,componentWillMount:D.DEFINE_MANY,componentDidMount:D.DEFINE_MANY,componentWillReceiveProps:D.DEFINE_MANY,shouldComponentUpdate:D.DEFINE_ONCE,componentWillUpdate:D.DEFINE_MANY,componentDidUpdate:D.DEFINE_MANY,componentWillUnmount:D.DEFINE_MANY,updateComponent:D.OVERRIDE_BASE},k={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;t.length>n;n++)r(e,t[n])},childContextTypes:function(e,t){n(e,t,v.childContext),e.childContextTypes=E({},e.childContextTypes,t)},contextTypes:function(e,t){n(e,t,v.context),e.contextTypes=E({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps=e.getDefaultProps?a(e.getDefaultProps,t):t},propTypes:function(e,t){n(e,t,v.prop),e.propTypes=E({},e.propTypes,t)},statics:function(e,t){o(e,t)}},F={enumerable:!1,get:function(){var e=this.displayName||this.name||"Component";return A(!1,"%s.type is deprecated. Use %s directly to access the class.",e,e),Object.defineProperty(this,"type",{value:this}),this}},N={replaceState:function(e,t){b.enqueueReplaceState(this,e),t&&b.enqueueCallback(this,t)},isMounted:function(){var e=h.current;null!==e&&(A(e._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",e.getName()||"A component"),e._warnedAboutRefsInRender=!0);var t=g.get(this);return t&&t!==m.currentlyMountingInstance},setProps:function(e,t){b.enqueueSetProps(this,e),t&&b.enqueueCallback(this,t)},replaceProps:function(e,t){b.enqueueReplaceProps(this,e),t&&b.enqueueCallback(this,t)}},M=function(){};E(M.prototype,d.prototype,N);var R={createClass:function(e){var t=function(e,n){A(this instanceof t,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"),this.__reactAutoBindMap&&u(this),this.props=e,this.context=n,this.state=null;var i=this.getInitialState?this.getInitialState():null;i===void 0&&this.getInitialState._isMockFunction&&(i=null),C("object"==typeof i&&!Array.isArray(i),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=i};t.prototype=new M,t.prototype.constructor=t,x.forEach(r.bind(null,t)),r(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.getDefaultProps&&(t.getDefaultProps.isReactClassApproved={}),t.prototype.getInitialState&&(t.prototype.getInitialState.isReactClassApproved={}),C(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),A(!t.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",e.displayName||"A component");for(var n in T)t.prototype[n]||(t.prototype[n]=null);t.type=t;try{Object.defineProperty(t,"type",F)}catch(i){}return t},injection:{injectMixin:function(e){x.push(e)}}};t.exports=R},{150:150,156:156,157:157,171:171,29:29,39:39,45:45,63:63,66:66,73:73,74:74,84:84,85:85,99:99}],39:[function(e,t){function n(e,t){this.props=e,this.context=t}var i=e(99),r=e(150),o=e(171);n.prototype.setState=function(e,t){r("object"==typeof e||"function"==typeof e||null==e,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."),o(null!=e,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."),i.enqueueSetState(this,e),t&&i.enqueueCallback(this,t)},n.prototype.forceUpdate=function(e){i.enqueueForceUpdate(this),e&&i.enqueueCallback(this,e)};var s={getDOMNode:["getDOMNode","Use React.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead call React.render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead call React.render again at the top level."]},a=function(e,t){try{Object.defineProperty(n.prototype,e,{get:function(){return o(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1]),void 0}})}catch(i){}};for(var l in s)s.hasOwnProperty(l)&&a(l,s[l]);t.exports=n},{150:150,171:171,99:99}],40:[function(e,t){var n=e(50),i=e(77),r={processChildrenUpdates:n.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:n.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){i.purgeID(e)}};t.exports=r},{50:50,77:77}],41:[function(e,t){var n=e(150),i=!1,r={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){n(!i,"ReactCompositeComponent: injectEnvironment() can only be called once."),r.unmountIDFromEnvironment=e.unmountIDFromEnvironment,r.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,r.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};t.exports=r},{150:150}],42:[function(e,t){var n=e(166),i={shouldComponentUpdate:function(e,t){return!n(this.props,e)||!n(this.state,t)}};t.exports=i},{166:166}],43:[function(e,t){function n(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}var i=e(41),r=e(44),o=e(45),s=e(63),a=e(64),l=e(73),c=e(74),u=e(80),d=e(82),h=e(85),p=e(84),f=e(89),g=e(100),m=e(29),v=e(130),y=e(150),b=e(167),E=e(171),C=1,_={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(e,t,n){this._context=n,this._mountOrder=C++,this._rootNodeID=e;var i=this._processProps(this._currentElement.props),r=this._processContext(this._currentElement._context),o=u.getComponentClassForElement(this._currentElement),s=new o(i,r);E(null!=s.render,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render` in your component or you may have accidentally tried to render an element whose type is a function that isn't a React component.",o.displayName||o.name||"Component"),s.props=i,s.context=r,s.refs=v,this._instance=s,l.set(s,this),this._warnIfContextsDiffer(this._currentElement._context,n),E(!s.getInitialState||s.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"),E(!s.getDefaultProps||s.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"),E(!s.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"),E(!s.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"),E("function"!=typeof s.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component");var a=s.state;void 0===a&&(s.state=a=null),y("object"==typeof a&&!Array.isArray(a),"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var d,h,p=c.currentlyMountingInstance;c.currentlyMountingInstance=this;try{s.componentWillMount&&(s.componentWillMount(),this._pendingStateQueue&&(s.state=this._processPendingState(s.props,s.context))),d=this._getValidatedChildContext(n),h=this._renderValidatedComponent(d)}finally{c.currentlyMountingInstance=p}this._renderedComponent=this._instantiateReactComponent(h,this._currentElement.type);var g=f.mountComponent(this._renderedComponent,e,t,this._mergeChildContext(n,d));return s.componentDidMount&&t.getReactMountReady().enqueue(s.componentDidMount,s),g},unmountComponent:function(){var e=this._instance;if(e.componentWillUnmount){var t=c.currentlyUnmountingInstance;c.currentlyUnmountingInstance=this;try{e.componentWillUnmount()}finally{c.currentlyUnmountingInstance=t}}f.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,l.remove(e)},_setPropsInternal:function(e,t){var n=this._pendingElement||this._currentElement;this._pendingElement=s.cloneAndReplaceProps(n,m({},n.props,e)),g.enqueueUpdate(this,t)},_maskContext:function(e){var t=null;if("string"==typeof this._currentElement.type)return v;var n=this._currentElement.type.contextTypes;if(!n)return v;t={};for(var i in n)t[i]=e[i];return t},_processContext:function(e){var t=this._maskContext(e),n=u.getComponentClassForElement(this._currentElement);return n.contextTypes&&this._checkPropTypes(n.contextTypes,t,h.context),t},_getValidatedChildContext:function(){var e=this._instance,t=e.getChildContext&&e.getChildContext();if(t){y("object"==typeof e.constructor.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"),this._checkPropTypes(e.constructor.childContextTypes,t,h.childContext);for(var n in t)y(n in e.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",n);return t}return null},_mergeChildContext:function(e,t){return t?m({},e,t):e},_processProps:function(e){var t=u.getComponentClassForElement(this._currentElement);return t.propTypes&&this._checkPropTypes(t.propTypes,e,h.prop),e},_checkPropTypes:function(e,t,i){var r=this.getName();for(var o in e)if(e.hasOwnProperty(o)){var s;try{y("function"==typeof e[o],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",r||"React class",p[i],o),s=e[o](t,o,r,i)}catch(a){s=a}if(s instanceof Error){var l=n(this);i===h.prop?E(!1,"Failed Composite propType: %s%s",s.message,l):E(!1,"Failed Context Types: %s%s",s.message,l)}}},receiveComponent:function(e,t,n){var i=this._currentElement,r=this._context;this._pendingElement=null,this.updateComponent(t,i,e,r,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&f.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&(a.checkAndWarnForMutatedProps(this._currentElement),this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context))},_warnIfContextsDiffer:function(e,t){e=this._maskContext(e),t=this._maskContext(t);for(var n=Object.keys(t).sort(),i=this.getName()||"ReactCompositeComponent",r=0;n.length>r;r++){var o=n[r];E(e[o]===t[o],"owner-based and parent-based contexts differ (values: `%s` vs `%s`) for key (%s) while mounting %s (see: http://fb.me/react-context-by-parent)",e[o],t[o],o,i)}},updateComponent:function(e,t,n,i,r){var o=this._instance,s=o.context,a=o.props;t!==n&&(s=this._processContext(n._context),a=this._processProps(n.props),null!=r&&this._warnIfContextsDiffer(n._context,r),o.componentWillReceiveProps&&o.componentWillReceiveProps(a,s));var l=this._processPendingState(a,s),c=this._pendingForceUpdate||!o.shouldComponentUpdate||o.shouldComponentUpdate(a,l,s);E(c!==void 0,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"),c?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,a,l,s,e,r)):(this._currentElement=n,this._context=r,o.props=a,o.state=l,o.context=s)},_processPendingState:function(e,t){var n=this._instance,i=this._pendingStateQueue,r=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!i)return n.state;if(r&&1===i.length)return i[0];for(var o=m({},r?i[0]:n.state),s=r?1:0;i.length>s;s++){var a=i[s];m(o,"function"==typeof a?a.call(n,o,e,t):a)
}return o},_performComponentUpdate:function(e,t,n,i,r,o){var s=this._instance,a=s.props,l=s.state,c=s.context;s.componentWillUpdate&&s.componentWillUpdate(t,n,i),this._currentElement=e,this._context=o,s.props=t,s.state=n,s.context=i,this._updateRenderedComponent(r,o),s.componentDidUpdate&&r.getReactMountReady().enqueue(s.componentDidUpdate.bind(s,a,l,c),s)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,i=n._currentElement,r=this._getValidatedChildContext(),o=this._renderValidatedComponent(r);if(b(i,o))f.receiveComponent(n,o,e,this._mergeChildContext(t,r));else{var s=this._rootNodeID,a=n._rootNodeID;f.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(o,this._currentElement.type);var l=f.mountComponent(this._renderedComponent,s,e,this._mergeChildContext(t,r));this._replaceNodeWithMarkupByID(a,l)}},_replaceNodeWithMarkupByID:function(e,t){i.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t===void 0&&e.render._isMockFunction&&(t=null),t},_renderValidatedComponent:function(e){var t,n=r.current;r.current=this._mergeChildContext(this._currentElement._context,e),o.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{r.current=n,o.current=null}return y(null===t||t===!1||s.isValidElement(t),"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"),t},attachRef:function(e,t){var n=this.getPublicInstance(),i=n.refs===v?n.refs={}:n.refs;i[e]=t.getPublicInstance()},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};d.measureMethods(_,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var w={Mixin:_};t.exports=w},{100:100,130:130,150:150,167:167,171:171,29:29,41:41,44:44,45:45,63:63,64:64,73:73,74:74,80:80,82:82,84:84,85:85,89:89}],44:[function(e,t){var n=e(29),i=e(130),r=e(171),o=!1,s={current:i,withContext:function(e,t){r(o,"withContext is deprecated and will be removed in a future version. Use a wrapper component with getChildContext instead."),o=!0;var i,a=s.current;s.current=n({},a,e);try{i=t()}finally{s.current=a}return i}};t.exports=s},{130:130,171:171,29:29}],45:[function(e,t){var n={current:null};t.exports=n},{}],46:[function(e,t){function n(e){return i.createFactory(e)}var i=(e(63),e(64)),r=e(158),o=r({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},n);t.exports=o},{158:158,63:63,64:64}],47:[function(e,t){var n=e(2),i=e(32),r=e(38),o=e(63),s=e(156),a=o.createFactory("button"),l=s({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),c=r.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[n,i],render:function(){var e={};for(var t in this.props)!this.props.hasOwnProperty(t)||this.props.disabled&&l[t]||(e[t]=this.props[t]);return a(e,this.props.children)}});t.exports=c},{156:156,2:2,32:32,38:38,63:63}],48:[function(e,t){function n(e){e&&(null!=e.dangerouslySetInnerHTML&&(m(null==e.children,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."),m("object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")),b(null==e.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),b(!e.contentEditable||null==e.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),m(null==e.style||"object"==typeof e.style,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX."))}function i(e,t,n,i){b("onScroll"!==t||v("scroll",!0),"This browser doesn't support the `onScroll` event");var r=d.findReactContainerForID(e);if(r){var o=r.nodeType===S?r.ownerDocument:r;C(t,o)}i.getPutListenerQueue().enqueuePutListener(e,t,n)}function r(e){F.call(k,e)||(m(T.test(e),"Invalid tag: %s",e),k[e]=!0)}function o(e){r(e),this._tag=e,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var s=e(6),a=e(11),l=e(12),c=e(33),u=e(40),d=e(77),h=e(78),p=e(82),f=e(29),g=e(131),m=e(150),v=e(151),y=e(157),b=e(171),E=c.deleteListener,C=c.listenTo,_=c.registrationNameModules,w={string:!0,number:!0},A=y({style:null}),S=1,D=null,x={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},T=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,k={},F={}.hasOwnProperty;o.displayName="ReactDOMComponent",o.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,i){this._rootNodeID=e,n(this._currentElement.props);var r=x[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(t)+this._createContentMarkup(t,i)+r},_createOpenTagMarkupAndPutListeners:function(e){var t=this._currentElement.props,n="<"+this._tag;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(_.hasOwnProperty(r))i(this._rootNodeID,r,o,e);else{r===A&&(o&&(o=this._previousStyleCopy=f({},t.style)),o=s.createMarkupForStyles(o));var a=l.createMarkupForProperty(r,o);a&&(n+=" "+a)}}if(e.renderToStaticMarkup)return n+">";var c=l.createMarkupForID(this._rootNodeID);return n+" "+c+">"},_createContentMarkup:function(e,t){var n="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(n="\n");var i=this._currentElement.props,r=i.dangerouslySetInnerHTML;if(null!=r){if(null!=r.__html)return n+r.__html}else{var o=w[typeof i.children]?i.children:null,s=null!=o?null:i.children;if(null!=o)return n+g(o);if(null!=s){var a=this.mountChildren(s,e,t);return n+a.join("")}}return n},receiveComponent:function(e,t,n){var i=this._currentElement;this._currentElement=e,this.updateComponent(t,i,e,n)},updateComponent:function(e,t,i,r){n(this._currentElement.props),this._updateDOMProperties(t.props,e),this._updateDOMChildren(t.props,e,r)},_updateDOMProperties:function(e,t){var n,r,o,s=this._currentElement.props;for(n in e)if(!s.hasOwnProperty(n)&&e.hasOwnProperty(n))if(n===A){var l=this._previousStyleCopy;for(r in l)l.hasOwnProperty(r)&&(o=o||{},o[r]="");this._previousStyleCopy=null}else _.hasOwnProperty(n)?E(this._rootNodeID,n):(a.isStandardName[n]||a.isCustomAttribute(n))&&D.deletePropertyByID(this._rootNodeID,n);for(n in s){var c=s[n],u=n===A?this._previousStyleCopy:e[n];if(s.hasOwnProperty(n)&&c!==u)if(n===A)if(c?c=this._previousStyleCopy=f({},c):this._previousStyleCopy=null,u){for(r in u)!u.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(o=o||{},o[r]="");for(r in c)c.hasOwnProperty(r)&&u[r]!==c[r]&&(o=o||{},o[r]=c[r])}else o=c;else _.hasOwnProperty(n)?i(this._rootNodeID,n,c,t):(a.isStandardName[n]||a.isCustomAttribute(n))&&D.updatePropertyByID(this._rootNodeID,n,c)}o&&D.updateStylesByID(this._rootNodeID,o)},_updateDOMChildren:function(e,t,n){var i=this._currentElement.props,r=w[typeof e.children]?e.children:null,o=w[typeof i.children]?i.children:null,s=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,a=i.dangerouslySetInnerHTML&&i.dangerouslySetInnerHTML.__html,l=null!=r?null:e.children,c=null!=o?null:i.children,u=null!=r||null!=s,d=null!=o||null!=a;null!=l&&null==c?this.updateChildren(null,t,n):u&&!d&&this.updateTextContent(""),null!=o?r!==o&&this.updateTextContent(""+o):null!=a?s!==a&&D.updateInnerHTMLByID(this._rootNodeID,a):null!=c&&this.updateChildren(c,t,n)},unmountComponent:function(){this.unmountChildren(),c.deleteAllListeners(this._rootNodeID),u.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},p.measureMethods(o,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),f(o.prototype,o.Mixin,h.Mixin),o.injection={injectIDOperations:function(e){o.BackendIDOperations=D=e}},t.exports=o},{11:11,12:12,131:131,150:150,151:151,157:157,171:171,29:29,33:33,40:40,6:6,77:77,78:78,82:82}],49:[function(e,t){var n=e(16),i=e(27),r=e(32),o=e(38),s=e(63),a=s.createFactory("form"),l=o.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[r,i],render:function(){return a(this.props)},componentDidMount:function(){this.trapBubbledEvent(n.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(n.topLevelTypes.topSubmit,"submit")}});t.exports=l},{16:16,27:27,32:32,38:38,63:63}],50:[function(e,t){var n=e(6),i=e(10),r=e(12),o=e(77),s=e(82),a=e(150),l=e(164),c={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},u={updatePropertyByID:function(e,t,n){var i=o.getNode(e);a(!c.hasOwnProperty(t),"updatePropertyByID(...): %s",c[t]),null!=n?r.setValueForProperty(i,t,n):r.deleteValueForProperty(i,t)},deletePropertyByID:function(e,t,n){var i=o.getNode(e);a(!c.hasOwnProperty(t),"updatePropertyByID(...): %s",c[t]),r.deleteValueForProperty(i,t,n)},updateStylesByID:function(e,t){var i=o.getNode(e);n.setValueForStyles(i,t)},updateInnerHTMLByID:function(e,t){var n=o.getNode(e);l(n,t)},updateTextContentByID:function(e,t){var n=o.getNode(e);i.updateTextContent(n,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=o.getNode(e);i.dangerouslyReplaceNodeWithMarkup(n,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var n=0;e.length>n;n++)e[n].parentNode=o.getNode(e[n].parentID);i.processUpdates(e,t)}};s.measureMethods(u,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=u},{10:10,12:12,150:150,164:164,6:6,77:77,82:82}],51:[function(e,t){var n=e(16),i=e(27),r=e(32),o=e(38),s=e(63),a=s.createFactory("iframe"),l=o.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[r,i],render:function(){return a(this.props)},componentDidMount:function(){this.trapBubbledEvent(n.topLevelTypes.topLoad,"load")}});t.exports=l},{16:16,27:27,32:32,38:38,63:63}],52:[function(e,t){var n=e(16),i=e(27),r=e(32),o=e(38),s=e(63),a=s.createFactory("img"),l=o.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[r,i],render:function(){return a(this.props)},componentDidMount:function(){this.trapBubbledEvent(n.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(n.topLevelTypes.topError,"error")}});t.exports=l},{16:16,27:27,32:32,38:38,63:63}],53:[function(e,t){function n(){this.isMounted()&&this.forceUpdate()}var i=e(2),r=e(12),o=e(26),s=e(32),a=e(38),l=e(63),c=e(77),u=e(100),d=e(29),h=e(150),p=l.createFactory("input"),f={},g=a.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[i,o.Mixin,s],getInitialState:function(){var e=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=e?e:null}},render:function(){var e=d({},this.props);e.defaultChecked=null,e.defaultValue=null;var t=o.getValue(this);e.value=null!=t?t:this.state.initialValue;var n=o.getChecked(this);return e.checked=null!=n?n:this.state.initialChecked,e.onChange=this._handleChange,p(e,this.props.children)},componentDidMount:function(){var e=c.getID(this.getDOMNode());f[e]=this},componentWillUnmount:function(){var e=this.getDOMNode(),t=c.getID(e);delete f[t]},componentDidUpdate:function(){var e=this.getDOMNode();null!=this.props.checked&&r.setValueForProperty(e,"checked",this.props.checked||!1);var t=o.getValue(this);null!=t&&r.setValueForProperty(e,"value",""+t)},_handleChange:function(e){var t,i=o.getOnChange(this);i&&(t=i.call(this,e)),u.asap(n,this);var r=this.props.name;if("radio"===this.props.type&&null!=r){for(var s=this.getDOMNode(),a=s;a.parentNode;)a=a.parentNode;for(var l=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),d=0,p=l.length;p>d;d++){var g=l[d];if(g!==s&&g.form===s.form){var m=c.getID(g);h(m,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");var v=f[m];h(v,"ReactDOMInput: Unknown radio button ID %s.",m),u.asap(n,v)}}}return t}});t.exports=g},{100:100,12:12,150:150,2:2,26:26,29:29,32:32,38:38,63:63,77:77}],54:[function(e,t){var n=e(32),i=e(38),r=e(63),o=e(171),s=r.createFactory("option"),a=i.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[n],componentWillMount:function(){o(null==this.props.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.")},render:function(){return s(this.props,this.props.children)}});t.exports=a},{171:171,32:32,38:38,63:63}],55:[function(e,t){function n(){if(this._pendingUpdate){this._pendingUpdate=!1;var e=s.getValue(this);null!=e&&this.isMounted()&&r(this,e)}}function i(e,t){if(null==e[t])return null;if(e.multiple){if(!Array.isArray(e[t]))return Error("The `"+t+"` prop supplied to <select> must be an array if "+"`multiple` is true.")}else if(Array.isArray(e[t]))return Error("The `"+t+"` prop supplied to <select> must be a scalar "+"value if `multiple` is false.")}function r(e,t){var n,i,r,o=e.getDOMNode().options;if(e.props.multiple){for(n={},i=0,r=t.length;r>i;i++)n[""+t[i]]=!0;for(i=0,r=o.length;r>i;i++){var s=n.hasOwnProperty(o[i].value);o[i].selected!==s&&(o[i].selected=s)}}else{for(n=""+t,i=0,r=o.length;r>i;i++)if(o[i].value===n)return o[i].selected=!0,void 0;o.length&&(o[0].selected=!0)}}var o=e(2),s=e(26),a=e(32),l=e(38),c=e(63),u=e(100),d=e(29),h=c.createFactory("select"),p=l.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[o,s.Mixin,a],propTypes:{defaultValue:i,value:i},render:function(){var e=d({},this.props);return e.onChange=this._handleChange,e.value=null,h(e,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var e=s.getValue(this);null!=e?r(this,e):null!=this.props.defaultValue&&r(this,this.props.defaultValue)},componentDidUpdate:function(e){var t=s.getValue(this);null!=t?(this._pendingUpdate=!1,r(this,t)):!e.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?r(this,this.props.defaultValue):r(this,this.props.multiple?[]:""))},_handleChange:function(e){var t,i=s.getOnChange(this);return i&&(t=i.call(this,e)),this._pendingUpdate=!0,u.asap(n,this),t}});t.exports=p},{100:100,2:2,26:26,29:29,32:32,38:38,63:63}],56:[function(e,t){function n(e,t,n,i){return e===n&&t===i}function i(e){var t=document.selection,n=t.createRange(),i=n.text.length,r=n.duplicate();r.moveToElementText(e),r.setEndPoint("EndToStart",n);var o=r.text.length,s=o+i;return{start:o,end:s}}function r(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var i=t.anchorNode,r=t.anchorOffset,o=t.focusNode,s=t.focusOffset,a=t.getRangeAt(0),l=n(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=l?0:(""+a).length,u=a.cloneRange();u.selectNodeContents(e),u.setEnd(a.startContainer,a.startOffset);var d=n(u.startContainer,u.startOffset,u.endContainer,u.endOffset),h=d?0:(""+u).length,p=h+c,f=document.createRange();f.setStart(i,r),f.setEnd(o,s);var g=f.collapsed;return{start:g?p:h,end:g?h:p}}function o(e,t){var n,i,r=document.selection.createRange().duplicate();t.end===void 0?(n=t.start,i=n):t.start>t.end?(n=t.end,i=t.start):(n=t.start,i=t.end),r.moveToElementText(e),r.moveStart("character",n),r.setEndPoint("EndToStart",r),r.moveEnd("character",i-n),r.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),i=e[c()].length,r=Math.min(t.start,i),o=t.end===void 0?r:Math.min(t.end,i);if(!n.extend&&r>o){var s=o;o=r,r=s}var a=l(e,r),u=l(e,o);if(a&&u){var d=document.createRange();d.setStart(a.node,a.offset),n.removeAllRanges(),r>o?(n.addRange(d),n.extend(u.node,u.offset)):(d.setEnd(u.node,u.offset),n.addRange(d))}}}var a=e(22),l=e(143),c=e(145),u=a.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:u?i:r,setOffsets:u?o:s};t.exports=d},{143:143,145:145,22:22}],57:[function(e,t){var n=e(12),i=e(40),r=e(48),o=e(29),s=e(131),a=function(){};o(a.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t){this._rootNodeID=e;var i=s(this._stringText);return t.renderToStaticMarkup?i:"<span "+n.createMarkupForID(e)+">"+i+"</span>"},receiveComponent:function(e){if(e!==this._currentElement){this._currentElement=e;var t=""+e;t!==this._stringText&&(this._stringText=t,r.BackendIDOperations.updateTextContentByID(this._rootNodeID,t))}},unmountComponent:function(){i.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=a},{12:12,131:131,29:29,40:40,48:48}],58:[function(e,t){function n(){this.isMounted()&&this.forceUpdate()}var i=e(2),r=e(12),o=e(26),s=e(32),a=e(38),l=e(63),c=e(100),u=e(29),d=e(150),h=e(171),p=l.createFactory("textarea"),f=a.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[i,o.Mixin,s],getInitialState:function(){var e=this.props.defaultValue,t=this.props.children;null!=t&&(h(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),d(null==e,"If you supply `defaultValue` on a <textarea>, do not pass children."),Array.isArray(t)&&(d(1>=t.length,"<textarea> can only have at most one child."),t=t[0]),e=""+t),null==e&&(e="");var n=o.getValue(this);return{initialValue:""+(null!=n?n:e)}},render:function(){var e=u({},this.props);return d(null==e.dangerouslySetInnerHTML,"`dangerouslySetInnerHTML` does not make sense on <textarea>."),e.defaultValue=null,e.value=null,e.onChange=this._handleChange,p(e,this.state.initialValue)},componentDidUpdate:function(){var e=o.getValue(this);if(null!=e){var t=this.getDOMNode();r.setValueForProperty(t,"value",""+e)}},_handleChange:function(e){var t,i=o.getOnChange(this);return i&&(t=i.call(this,e)),c.asap(n,this),t}});t.exports=f},{100:100,12:12,150:150,171:171,2:2,26:26,29:29,32:32,38:38,63:63}],59:[function(e,t){function n(){this.reinitializeTransaction()}var i=e(100),r=e(116),o=e(29),s=e(129),a={initialize:s,close:function(){d.isBatchingUpdates=!1}},l={initialize:s,close:i.flushBatchedUpdates.bind(i)},c=[l,a];o(n.prototype,r.Mixin,{getTransactionWrappers:function(){return c}});var u=new n,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,i,r){var o=d.isBatchingUpdates;d.isBatchingUpdates=!0,o?e(t,n,i,r):u.perform(e,null,t,n,i,r)}};t.exports=d},{100:100,116:116,129:129,29:29}],60:[function(e,t){function n(e){return p.createClass({tagName:e.toUpperCase(),render:function(){return new x(e,null,null,null,null,this.props)}})}function i(){k.EventEmitter.injectReactEventListener(T),k.EventPluginHub.injectEventPluginOrder(a),k.EventPluginHub.injectInstanceHandle(F),k.EventPluginHub.injectMount(N),k.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:I,EnterLeaveEventPlugin:l,ChangeEventPlugin:o,MobileSafariClickEventPlugin:d,SelectEventPlugin:R,BeforeInputEventPlugin:r}),k.NativeComponent.injectGenericComponentClass(m),k.NativeComponent.injectTextComponentClass(D),k.NativeComponent.injectAutoWrapper(n),k.Class.injectMixin(h),k.NativeComponent.injectComponentClasses({button:v,form:y,iframe:C,img:b,input:_,option:w,select:A,textarea:S,html:B("html"),head:B("head"),body:B("body")}),k.DOMProperty.injectDOMPropertyConfig(u),k.DOMProperty.injectDOMPropertyConfig(O),k.EmptyComponent.injectEmptyComponent("noscript"),k.Updates.injectReconcileTransaction(M),k.Updates.injectBatchingStrategy(g),k.RootIndex.injectCreateReactRootIndex(c.canUseDOM?s.createReactRootIndex:L.createReactRootIndex),k.Component.injectEnvironment(f),k.DOMComponent.injectIDOperations(E);var t=c.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(t)){var i=e(61);i.start()}}var r=e(3),o=e(8),s=e(9),a=e(14),l=e(15),c=e(22),u=e(24),d=e(28),h=e(32),p=e(38),f=e(40),g=e(59),m=e(48),v=e(47),y=e(49),b=e(52),E=e(50),C=e(51),_=e(53),w=e(54),A=e(55),S=e(58),D=e(57),x=e(63),T=e(68),k=e(70),F=e(72),N=e(77),M=e(88),R=e(102),L=e(103),I=e(104),O=e(101),B=e(125);t.exports={inject:i}},{101:101,102:102,103:103,104:104,125:125,14:14,15:15,22:22,24:24,28:28,3:3,32:32,38:38,40:40,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,57:57,58:58,59:59,61:61,63:63,68:68,70:70,72:72,77:77,8:8,88:88,9:9}],61:[function(e,t){function n(e){return Math.floor(100*e)/100}function i(e,t,n){e[t]=(e[t]||0)+n}var r=e(11),o=e(62),s=e(77),a=e(82),l=e(162),c={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){c._injected||a.injection.injectMeasure(c.measure),c._allMeasurements.length=0,a.enableMeasure=!0},stop:function(){a.enableMeasure=!1},getLastMeasurements:function(){return c._allMeasurements},printExclusive:function(e){e=e||c._allMeasurements;var t=o.getExclusiveSummary(e);console.table(t.map(function(e){return{"Component class name":e.componentName,"Total inclusive time (ms)":n(e.inclusive),"Exclusive mount time (ms)":n(e.exclusive),"Exclusive render time (ms)":n(e.render),"Mount time per instance (ms)":n(e.exclusive/e.count),"Render time per instance (ms)":n(e.render/e.count),Instances:e.count}}))},printInclusive:function(e){e=e||c._allMeasurements;var t=o.getInclusiveSummary(e);console.table(t.map(function(e){return{"Owner > component":e.componentName,"Inclusive time (ms)":n(e.time),Instances:e.count}})),console.log("Total time:",o.getTotalTime(e).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(e){var t=o.getInclusiveSummary(e,!0);return t.map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})},printWasted:function(e){e=e||c._allMeasurements,console.table(c.getMeasurementsSummaryMap(e)),console.log("Total time:",o.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){e=e||c._allMeasurements;var t=o.getDOMSummary(e);console.table(t.map(function(e){var t={};return t[r.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args),t})),console.log("Total time:",o.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,n,i){var r=c._allMeasurements[c._allMeasurements.length-1].writes;r[e]=r[e]||[],r[e].push({type:t,time:n,args:i})},measure:function(e,t,n){return function(){for(var r=[],o=0,a=arguments.length;a>o;o++)r.push(arguments[o]);var u,d,h;if("_renderNewRootComponent"===t||"flushBatchedUpdates"===t)return c._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),h=l(),d=n.apply(this,r),c._allMeasurements[c._allMeasurements.length-1].totalTime=l()-h,d;if("_mountImageIntoNode"===t||"ReactDOMIDOperations"===e){if(h=l(),d=n.apply(this,r),u=l()-h,"_mountImageIntoNode"===t){var p=s.getID(r[1]);c._recordWrite(p,t,u,r[0])}else"dangerouslyProcessChildrenUpdates"===t?r[0].forEach(function(e){var t={};null!==e.fromIndex&&(t.fromIndex=e.fromIndex),null!==e.toIndex&&(t.toIndex=e.toIndex),null!==e.textContent&&(t.textContent=e.textContent),null!==e.markupIndex&&(t.markup=r[1][e.markupIndex]),c._recordWrite(e.parentID,e.type,u,t)}):c._recordWrite(r[0],t,u,Array.prototype.slice.call(r,1));return d}if("ReactCompositeComponent"!==e||"mountComponent"!==t&&"updateComponent"!==t&&"_renderValidatedComponent"!==t)return n.apply(this,r);if("string"==typeof this._currentElement.type)return n.apply(this,r);var f="mountComponent"===t?r[0]:this._rootNodeID,g="_renderValidatedComponent"===t,m="mountComponent"===t,v=c._mountStack,y=c._allMeasurements[c._allMeasurements.length-1];if(g?i(y.counts,f,1):m&&v.push(0),h=l(),d=n.apply(this,r),u=l()-h,g)i(y.render,f,u);else if(m){var b=v.pop();v[v.length-1]+=u,i(y.exclusive,f,u-b),i(y.inclusive,f,u)}else i(y.inclusive,f,u);return y.displayNames[f]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},d}}};t.exports=c},{11:11,162:162,62:62,77:77,82:82}],62:[function(e,t){function n(e){for(var t=0,n=0;e.length>n;n++){var i=e[n];t+=i.totalTime}return t}function i(e){for(var t=[],n=0;e.length>n;n++){var i,r=e[n];for(i in r.writes)r.writes[i].forEach(function(e){t.push({id:i,type:c[e.type]||e.type,args:e.args})})}return t}function r(e){for(var t,n={},i=0;e.length>i;i++){var r=e[i],o=a({},r.exclusive,r.inclusive);for(var s in o)t=r.displayNames[s].current,n[t]=n[t]||{componentName:t,inclusive:0,exclusive:0,render:0,count:0},r.render[s]&&(n[t].render+=r.render[s]),r.exclusive[s]&&(n[t].exclusive+=r.exclusive[s]),r.inclusive[s]&&(n[t].inclusive+=r.inclusive[s]),r.counts[s]&&(n[t].count+=r.counts[s])}var c=[];for(t in n)n[t].exclusive>=l&&c.push(n[t]);return c.sort(function(e,t){return t.exclusive-e.exclusive}),c}function o(e,t){for(var n,i={},r=0;e.length>r;r++){var o,c=e[r],u=a({},c.exclusive,c.inclusive);t&&(o=s(c));for(var d in u)if(!t||o[d]){var h=c.displayNames[d];n=h.owner+" > "+h.current,i[n]=i[n]||{componentName:n,time:0,count:0},c.inclusive[d]&&(i[n].time+=c.inclusive[d]),c.counts[d]&&(i[n].count+=c.counts[d])}}var p=[];for(n in i)i[n].time>=l&&p.push(i[n]);return p.sort(function(e,t){return t.time-e.time}),p}function s(e){var t={},n=Object.keys(e.writes),i=a({},e.exclusive,e.inclusive);for(var r in i){for(var o=!1,s=0;n.length>s;s++)if(0===n[s].indexOf(r)){o=!0;break}!o&&e.counts[r]>0&&(t[r]=!0)}return t}var a=e(29),l=1.2,c={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},u={getExclusiveSummary:r,getInclusiveSummary:o,getDOMSummary:i,getTotalTime:n};t.exports=u},{29:29}],63:[function(e,t){function n(e,t){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:function(){return this._store?this._store[t]:null},set:function(e){a(!1,"Don't set the %s property of the React element. Instead, specify the correct value when initially creating the element.",t),this._store[t]=e}})}function i(e){try{var t={props:!0};for(var i in t)n(e,i);c=!0}catch(r){}}var r=e(44),o=e(45),s=e(29),a=e(171),l={key:!0,ref:!0},c=!1,u=function(e,t,n,i,r,o){this.type=e,this.key=t,this.ref=n,this._owner=i,this._context=r,this._store={props:o,originalProps:s({},o)};try{Object.defineProperty(this._store,"validated",{configurable:!1,enumerable:!1,writable:!0})}catch(a){}return this._store.validated=!1,c?(Object.freeze(this),void 0):(this.props=o,void 0)};u.prototype={_isReactElement:!0},i(u.prototype),u.createElement=function(e,t,n){var i,s={},a=null,c=null;if(null!=t){c=void 0===t.ref?null:t.ref,a=void 0===t.key?null:""+t.key;for(i in t)t.hasOwnProperty(i)&&!l.hasOwnProperty(i)&&(s[i]=t[i])}var d=arguments.length-2;if(1===d)s.children=n;else if(d>1){for(var h=Array(d),p=0;d>p;p++)h[p]=arguments[p+2];s.children=h}if(e&&e.defaultProps){var f=e.defaultProps;for(i in f)s[i]===void 0&&(s[i]=f[i])}return new u(e,a,c,o.current,r.current,s)},u.createFactory=function(e){var t=u.createElement.bind(null,e);return t.type=e,t},u.cloneAndReplaceProps=function(e,t){var n=new u(e.type,e.key,e.ref,e._owner,e._context,t);return n._store.validated=e._store.validated,n},u.cloneElement=function(e,t,n){var i,r=s({},e.props),a=e.key,c=e.ref,d=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,d=o.current),void 0!==t.key&&(a=""+t.key);for(i in t)t.hasOwnProperty(i)&&!l.hasOwnProperty(i)&&(r[i]=t[i])}var h=arguments.length-2;if(1===h)r.children=n;else if(h>1){for(var p=Array(h),f=0;h>f;f++)p[f]=arguments[f+2];r.children=p}return new u(e.type,a,c,d,e._context,r)},u.isValidElement=function(e){var t=!(!e||!e._isReactElement);return t},t.exports=u},{171:171,29:29,44:44,45:45}],64:[function(e,t){function n(){if(y.current){var e=y.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function i(e){var t=e&&e.getPublicInstance();if(!t)return void 0;var n=t.constructor;return n?n.displayName||n.name||void 0:void 0}function r(){var e=y.current;return e&&i(e)||void 0}function o(e,t){e._store.validated||null!=e.key||(e._store.validated=!0,a('Each child in an array or iterator should have a unique "key" prop.',e,t))}function s(e,t,n){S.test(e)&&a("Child objects should have non-numeric keys so ordering is preserved.",t,n)}function a(e,t,n){var o=r(),s="string"==typeof n?n:n.displayName||n.name,a=o||s,l=w[e]||(w[e]={});if(!l.hasOwnProperty(a)){l[a]=!0;var c=o?" Check the render method of "+o+".":s?" Check the React.render call using <"+s+">.":"",u="";if(t&&t._owner&&t._owner!==y.current){var d=i(t._owner);u=" It was passed a child from "+d+"."}_(!1,e+"%s%s See https://fb.me/react-warning-keys for more information.",c,u)}}function l(e,t){if(Array.isArray(e))for(var n=0;e.length>n;n++){var i=e[n];f.isValidElement(i)&&o(i,t)}else if(f.isValidElement(e))e._store.validated=!0;else if(e){var r=E(e);if(r){if(r!==e.entries)for(var a,l=r.call(e);!(a=l.next()).done;)f.isValidElement(a.value)&&o(a.value,t)}else if("object"==typeof e){var c=g.extractIfFragment(e);for(var u in c)c.hasOwnProperty(u)&&s(u,c[u],t)}}}function c(e,t,i,r){for(var o in t)if(t.hasOwnProperty(o)){var s;try{C("function"==typeof t[o],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e||"React class",v[r],o),s=t[o](i,o,e,r)}catch(a){s=a}if(s instanceof Error&&!(s.message in A)){A[s.message]=!0;var l=n(this);_(!1,"Failed propType: %s%s",s.message,l)}}}function u(e,t){var n=t.type,i="string"==typeof n?n:n.displayName,r=t._owner?t._owner.getPublicInstance().constructor.displayName:null,o=e+"|"+i+"|"+r;if(!D.hasOwnProperty(o)){D[o]=!0;var s="";i&&(s=" <"+i+" />");var a="";r&&(a=" The element was created by "+r+"."),_(!1,"Don't set .props.%s of the React component%s. Instead, specify the correct value when initially creating the element or use React.cloneElement to make a new element with updated props.%s",e,s,a)
}}function d(e,t){return e!==e?t!==t:0===e&&0===t?1/e===1/t:e===t}function h(e){if(e._store){var t=e._store.originalProps,n=e.props;for(var i in n)n.hasOwnProperty(i)&&(t.hasOwnProperty(i)&&d(t[i],n[i])||(u(i,e),t[i]=n[i]))}}function p(e){if(null!=e.type){var t=b.getComponentClassForElement(e),n=t.displayName||t.name;t.propTypes&&c(n,t.propTypes,e.props,m.prop),"function"==typeof t.getDefaultProps&&_(t.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var f=e(63),g=e(69),m=e(85),v=e(84),y=e(45),b=e(80),E=e(141),C=e(150),_=e(171),w={},A={},S=/^\d+$/,D={},x={checkAndWarnForMutatedProps:h,createElement:function(e){_(null!=e,"React.createElement: type should not be null or undefined. It should be a string (for DOM elements) or a ReactClass (for composite components).");var t=f.createElement.apply(this,arguments);if(null==t)return t;for(var n=2;arguments.length>n;n++)l(arguments[n],e);return p(t),t},createFactory:function(e){var t=x.createElement.bind(null,e);t.type=e;try{Object.defineProperty(t,"type",{enumerable:!1,get:function(){return _(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}})}catch(n){}return t},cloneElement:function(){for(var e=f.cloneElement.apply(this,arguments),t=2;arguments.length>t;t++)l(arguments[t],e.type);return p(e),e}};t.exports=x},{141:141,150:150,171:171,45:45,63:63,69:69,80:80,84:84,85:85}],65:[function(e,t){function n(e){c[e]=!0}function i(e){delete c[e]}function r(e){return!!c[e]}var o,s=e(63),a=e(73),l=e(150),c={},u={injectEmptyComponent:function(e){o=s.createFactory(e)}},d=function(){};d.prototype.componentDidMount=function(){var e=a.get(this);e&&n(e._rootNodeID)},d.prototype.componentWillUnmount=function(){var e=a.get(this);e&&i(e._rootNodeID)},d.prototype.render=function(){return l(o,"Trying to return null from a render, but no null placeholder component was injected."),o()};var h=s.createElement(d),p={emptyElement:h,injection:u,isNullComponentID:r};t.exports=p},{150:150,63:63,73:73}],66:[function(e,t){var n={guard:function(e){return e}};t.exports=n},{}],67:[function(e,t){function n(e){i.enqueueEvents(e),i.processEventQueue()}var i=e(18),r={handleTopLevel:function(e,t,r,o){var s=i.extractEvents(e,t,r,o);n(s)}};t.exports=r},{18:18}],68:[function(e,t){function n(e){var t=u.getID(e),n=c.getReactRootIDFromNodeID(t),i=u.findReactContainerForID(n),r=u.getFirstReactDOM(i);return r}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function r(e){for(var t=u.getFirstReactDOM(p(e.nativeEvent))||window,i=t;i;)e.ancestors.push(i),i=n(i);for(var r=0,o=e.ancestors.length;o>r;r++){t=e.ancestors[r];var s=u.getID(t)||"";g._handleTopLevel(e.topLevelType,t,s,e.nativeEvent)}}function o(e){var t=f(window);e(t)}var s=e(17),a=e(22),l=e(30),c=e(72),u=e(77),d=e(100),h=e(29),p=e(140),f=e(146);h(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),l.addPoolingTo(i,l.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:a.canUseDOM?window:null,setHandleTopLevel:function(e){g._handleTopLevel=e},setEnabled:function(e){g._enabled=!!e},isEnabled:function(){return g._enabled},trapBubbledEvent:function(e,t,n){var i=n;return i?s.listen(i,t,g.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var i=n;return i?s.capture(i,t,g.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=o.bind(null,e);s.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(g._enabled){var n=i.getPooled(e,t);try{d.batchedUpdates(r,n)}finally{i.release(n)}}}};t.exports=g},{100:100,140:140,146:146,17:17,22:22,29:29,30:30,72:72,77:77}],69:[function(e,t){var n=e(63),i=e(171),r="_reactFragment",o="_reactDidWarn",s=!1;try{var a=function(){return 1};Object.defineProperty({},r,{enumerable:!1,value:!0}),Object.defineProperty({},"key",{enumerable:!0,get:a}),s=!0}catch(l){}var c=function(e,t){Object.defineProperty(e,t,{enumerable:!0,get:function(){return i(this[o],"A ReactFragment is an opaque type. Accessing any of its properties is deprecated. Pass it to one of the React.Children helpers."),this[o]=!0,this[r][t]},set:function(e){i(this[o],"A ReactFragment is an immutable opaque type. Mutating its properties is deprecated."),this[o]=!0,this[r][t]=e}})},u={},d=function(e){var t="";for(var n in e)t+=n+":"+typeof e[n]+",";var i=!!u[t];return u[t]=!0,i},h={create:function(e){if("object"!=typeof e||!e||Array.isArray(e))return i(!1,"React.addons.createFragment only accepts a single object.",e),e;if(n.isValidElement(e))return i(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;if(s){var t={};Object.defineProperty(t,r,{enumerable:!1,value:e}),Object.defineProperty(t,o,{writable:!0,enumerable:!1,value:!1});for(var a in e)c(t,a);return Object.preventExtensions(t),t}return e},extract:function(e){return s?e[r]?e[r]:(i(d(e),"Any use of a keyed object should be wrapped in React.addons.createFragment(object) before being passed as a child."),e):e},extractIfFragment:function(e){if(s){if(e[r])return e[r];for(var t in e)if(e.hasOwnProperty(t)&&n.isValidElement(e[t]))return h.extract(e)}return e}};t.exports=h},{171:171,63:63}],70:[function(e,t){var n=e(11),i=e(18),r=e(41),o=e(38),s=e(65),a=e(33),l=e(80),c=e(48),u=e(82),d=e(91),h=e(100),p={Component:r.injection,Class:o.injection,DOMComponent:c.injection,DOMProperty:n.injection,EmptyComponent:s.injection,EventPluginHub:i.injection,EventEmitter:a.injection,NativeComponent:l.injection,Perf:u.injection,RootIndex:d.injection,Updates:h.injection};t.exports=p},{100:100,11:11,18:18,33:33,38:38,41:41,48:48,65:65,80:80,82:82,91:91}],71:[function(e,t){function n(e){return r(document.documentElement,e)}var i=e(56),r=e(123),o=e(134),s=e(136),a={hasSelectionCapabilities:function(e){return e&&("INPUT"===e.nodeName&&"text"===e.type||"TEXTAREA"===e.nodeName||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:a.hasSelectionCapabilities(e)?a.getSelection(e):null}},restoreSelection:function(e){var t=s(),i=e.focusedElem,r=e.selectionRange;t!==i&&n(i)&&(a.hasSelectionCapabilities(i)&&a.setSelection(i,r),o(i))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&"INPUT"===e.nodeName){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(r===void 0&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&"INPUT"===e.nodeName){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(e,t)}};t.exports=a},{123:123,134:134,136:136,56:56}],72:[function(e,t){function n(e){return h+e.toString(36)}function i(e,t){return e.charAt(t)===h||t===e.length}function r(e){return""===e||e.charAt(0)===h&&e.charAt(e.length-1)!==h}function o(e,t){return 0===t.indexOf(e)&&i(t,e.length)}function s(e){return e?e.substr(0,e.lastIndexOf(h)):""}function a(e,t){if(d(r(e)&&r(t),"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",e,t),d(o(e,t),"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",e,t),e===t)return e;var n,s=e.length+p;for(n=s;t.length>n&&!i(t,n);n++);return t.substr(0,n)}function l(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var o=0,s=0;n>=s;s++)if(i(e,s)&&i(t,s))o=s;else if(e.charAt(s)!==t.charAt(s))break;var a=e.substr(0,o);return d(r(a),"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",e,t,a),a}function c(e,t,n,i,r,l){e=e||"",t=t||"",d(e!==t,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",e);var c=o(t,e);d(c||o(e,t),"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",e,t);for(var u=0,h=c?s:a,p=e;;p=h(p,t)){var g;if(r&&p===e||l&&p===t||(g=n(p,c,i)),g===!1||p===t)break;d(f>u++,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",e,t)}}var u=e(91),d=e(150),h=".",p=h.length,f=100,g={createReactRootID:function(){return n(u.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===h&&e.length>1){var t=e.indexOf(h,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,i,r){var o=l(e,t);o!==e&&c(e,o,n,i,!1,!0),o!==t&&c(o,t,n,r,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(c("",e,t,n,!0,!1),c(e,"",t,n,!1,!0))},traverseAncestors:function(e,t,n){c("",e,t,n,!0,!1)},_getFirstCommonAncestorID:l,_getNextDescendantID:a,isAncestorIDOf:o,SEPARATOR:h};t.exports=g},{150:150,91:91}],73:[function(e,t){var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=n},{}],74:[function(e,t){var n={currentlyMountingInstance:null,currentlyUnmountingInstance:null};t.exports=n},{}],75:[function(e,t){function n(e,t){this.value=e,this.requestChange=t}function i(e){var t={value:e===void 0?r.PropTypes.any.isRequired:e.isRequired,requestChange:r.PropTypes.func.isRequired};return r.PropTypes.shape(t)}var r=e(31);n.PropTypes={link:i},t.exports=n},{31:31}],76:[function(e,t){var n=e(119),i={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=n(e);return e.replace(">"," "+i.CHECKSUM_ATTR_NAME+'="'+t+'">')},canReuseMarkup:function(e,t){var r=t.getAttribute(i.CHECKSUM_ATTR_NAME);r=r&&parseInt(r,10);var o=n(e);return o===r}};t.exports=i},{119:119}],77:[function(e,t){function n(e,t){for(var n=Math.min(e.length,t.length),i=0;n>i;i++)if(e.charAt(i)!==t.charAt(i))return i;return e.length===t.length?-1:n}function i(e){var t=F(e);return t&&q.getID(t)}function r(e){var t=o(e);if(t)if(P.hasOwnProperty(t)){var n=P[t];n!==e&&(M(!c(n,t),"ReactMount: Two valid but unequal nodes with the same `%s`: %s",B,t),P[t]=e)}else P[t]=e;return t}function o(e){return e&&e.getAttribute&&e.getAttribute(B)||""}function s(e,t){var n=o(e);n!==t&&delete P[n],e.setAttribute(B,t),P[t]=e}function a(e){return P.hasOwnProperty(e)&&c(P[e],e)||(P[e]=q.findReactNodeByID(e)),P[e]}function l(e){var t=_.get(e)._rootNodeID;return E.isNullComponentID(t)?null:(P.hasOwnProperty(t)&&c(P[t],t)||(P[t]=q.findReactNodeByID(t)),P[t])}function c(e,t){if(e){M(o(e)===t,"ReactMount: Unexpected modification of `%s`",B);var n=q.findReactContainerForID(t);if(n&&k(n,e))return!0}return!1}function u(e){delete P[e]}function d(e){var t=P[e];return t&&c(t,e)?(z=t,void 0):!1}function h(e){z=null,C.traverseAncestors(e,d);var t=z;return z=null,t}function p(e,t,n,i,r){var o=S.mountComponent(e,t,i,T);e._isTopLevel=!0,q._mountImageIntoNode(o,n,r)}function f(e,t,n,i){var r=x.ReactReconcileTransaction.getPooled();r.perform(p,null,e,t,n,r,i),x.ReactReconcileTransaction.release(r)}var g=e(11),m=e(33),v=e(45),y=e(63),b=e(64),E=e(65),C=e(72),_=e(73),w=e(76),A=e(82),S=e(89),D=e(99),x=e(100),T=e(130),k=e(123),F=e(144),N=e(149),M=e(150),R=e(164),L=e(167),I=e(171),O=C.SEPARATOR,B=g.ID_ATTRIBUTE_NAME,P={},$=1,U=9,V={},j={},H={},W=[],z=null,q={_instancesByReactRootID:V,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return b.checkAndWarnForMutatedProps(t),q.scrollMonitor(n,function(){D.enqueueElementInternal(e,t),r&&D.enqueueCallbackInternal(e,r)}),H[i(n)]=F(n),e},_registerComponent:function(e,t){M(t&&(t.nodeType===$||t.nodeType===U),"_registerComponent(...): Target container is not a DOM element."),m.ensureScrollValueMonitoring();var n=q.registerContainer(t);return V[n]=e,n},_renderNewRootComponent:function(e,t,n){I(null==v.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.");var i=N(e,null),r=q._registerComponent(i,t);return x.batchedUpdates(f,i,r,t,n),H[r]=F(t),i},render:function(e,t,n){M(y.isValidElement(e),"React.render(): Invalid component element.%s","string"==typeof e?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof e?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=e&&void 0!==e.props?" This may be caused by unintentionally loading two independent copies of React.":"");var r=V[i(t)];if(r){var o=r._currentElement;if(L(o,e))return q._updateRootComponent(r,e,t,n).getPublicInstance();q.unmountComponentAtNode(t)}var s=F(t),a=s&&q.isRenderedByReact(s);if(!a||s.nextSibling)for(var l=s;l;){if(q.isRenderedByReact(l)){I(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.");break}l=l.nextSibling}var c=a&&!r,u=q._renderNewRootComponent(e,t,c).getPublicInstance();return n&&n.call(u),u},constructAndRenderComponent:function(e,t,n){var i=y.createElement(e,t);return q.render(i,n)},constructAndRenderComponentByID:function(e,t,n){var i=document.getElementById(n);return M(i,'Tried to get element with id of "%s" but it is not present on the page.',n),q.constructAndRenderComponent(e,t,i)},registerContainer:function(e){var t=i(e);return t&&(t=C.getReactRootIDFromNodeID(t)),t||(t=C.createReactRootID()),j[t]=e,t},unmountComponentAtNode:function(e){I(null==v.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."),M(e&&(e.nodeType===$||e.nodeType===U),"unmountComponentAtNode(...): Target container is not a DOM element.");var t=i(e),n=V[t];return n?(q.unmountComponentFromNode(n,e),delete V[t],delete j[t],delete H[t],!0):!1},unmountComponentFromNode:function(e,t){for(S.unmountComponent(e),t.nodeType===U&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)},findReactContainerForID:function(e){var t=C.getReactRootIDFromNodeID(e),n=j[t],i=H[t];if(i&&i.parentNode!==n){M(o(i)===t,"ReactMount: Root element ID differed from reactRootID.");var r=n.firstChild;r&&t===o(r)?H[t]=r:I(!1,"ReactMount: Root element has been removed from its original container. New container:",i.parentNode)}return n},findReactNodeByID:function(e){var t=q.findReactContainerForID(e);return q.findComponentRoot(t,e)},isRenderedByReact:function(e){if(1!==e.nodeType)return!1;var t=q.getID(e);return t?t.charAt(0)===O:!1},getFirstReactDOM:function(e){for(var t=e;t&&t.parentNode!==t;){if(q.isRenderedByReact(t))return t;t=t.parentNode}return null},findComponentRoot:function(e,t){var n=W,i=0,r=h(t)||e;for(n[0]=r.firstChild,n.length=1;n.length>i;){for(var o,s=n[i++];s;){var a=q.getID(s);a?t===a?o=s:C.isAncestorIDOf(a,t)&&(n.length=i=0,n.push(s.firstChild)):n.push(s.firstChild),s=s.nextSibling}if(o)return n.length=0,o}n.length=0,M(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",t,q.getID(e))},_mountImageIntoNode:function(e,t,i){if(M(t&&(t.nodeType===$||t.nodeType===U),"mountComponentIntoNode(...): Target container is not valid."),i){var r=F(t);if(w.canReuseMarkup(e,r))return;var o=r.getAttribute(w.CHECKSUM_ATTR_NAME);r.removeAttribute(w.CHECKSUM_ATTR_NAME);var s=r.outerHTML;r.setAttribute(w.CHECKSUM_ATTR_NAME,o);var a=n(e,s),l=" (client) "+e.substring(a-20,a+20)+"\n (server) "+s.substring(a-20,a+20);M(t.nodeType!==U,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",l),I(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",l)}M(t.nodeType!==U,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See React.renderToString() for server rendering."),R(t,e)},getReactRootID:i,getID:r,setID:s,getNode:a,getNodeFromInstance:l,purgeID:u};A.measureMethods(q,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=q},{100:100,11:11,123:123,130:130,144:144,149:149,150:150,164:164,167:167,171:171,33:33,45:45,63:63,64:64,65:65,72:72,73:73,76:76,82:82,89:89,99:99}],78:[function(e,t){function n(e,t,n){p.push({parentID:e,parentNode:null,type:c.INSERT_MARKUP,markupIndex:f.push(t)-1,textContent:null,fromIndex:null,toIndex:n})}function i(e,t,n){p.push({parentID:e,parentNode:null,type:c.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:t,toIndex:n})}function r(e,t){p.push({parentID:e,parentNode:null,type:c.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:t,toIndex:null})}function o(e,t){p.push({parentID:e,parentNode:null,type:c.TEXT_CONTENT,markupIndex:null,textContent:t,fromIndex:null,toIndex:null})}function s(){p.length&&(l.processChildrenUpdates(p,f),a())}function a(){p.length=0,f.length=0}var l=e(41),c=e(79),u=e(89),d=e(36),h=0,p=[],f=[],g={Mixin:{mountChildren:function(e,t,n){var i=d.instantiateChildren(e,t,n);this._renderedChildren=i;var r=[],o=0;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s],l=this._rootNodeID+s,c=u.mountComponent(a,l,t,n);a._mountIndex=o,r.push(c),o++}return r},updateTextContent:function(e){h++;var t=!0;try{var n=this._renderedChildren;d.unmountChildren(n);for(var i in n)n.hasOwnProperty(i)&&this._unmountChildByName(n[i],i);this.setTextContent(e),t=!1}finally{h--,h||(t?a():s())}},updateChildren:function(e,t,n){h++;var i=!0;try{this._updateChildren(e,t,n),i=!1}finally{h--,h||(i?a():s())}},_updateChildren:function(e,t,n){var i=this._renderedChildren,r=d.updateChildren(i,e,t,n);if(this._renderedChildren=r,r||i){var o,s=0,a=0;for(o in r)if(r.hasOwnProperty(o)){var l=i&&i[o],c=r[o];l===c?(this.moveChild(l,a,s),s=Math.max(l._mountIndex,s),l._mountIndex=a):(l&&(s=Math.max(l._mountIndex,s),this._unmountChildByName(l,o)),this._mountChildByNameAtIndex(c,o,a,t,n)),a++}for(o in i)!i.hasOwnProperty(o)||r&&r.hasOwnProperty(o)||this._unmountChildByName(i[o],o)}},unmountChildren:function(){var e=this._renderedChildren;d.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){n>e._mountIndex&&i(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){n(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){r(this._rootNodeID,e._mountIndex)},setTextContent:function(e){o(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,i,r){var o=this._rootNodeID+t,s=u.mountComponent(e,o,i,r);e._mountIndex=n,this.createChild(e,s)},_unmountChildByName:function(e){this.removeChild(e),e._mountIndex=null}}};t.exports=g},{36:36,41:41,79:79,89:89}],79:[function(e,t){var n=e(156),i=n({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});t.exports=i},{156:156}],80:[function(e,t){function n(e){if("function"==typeof e.type)return e.type;var t=e.type,n=u[t];return null==n&&(u[t]=n=l(t)),n}function i(e){return a(c,"There is no registered component for the tag %s",e.type),new c(e.type,e.props)}function r(e){return new d(e)}function o(e){return e instanceof d}var s=e(29),a=e(150),l=null,c=null,u={},d=null,h={injectGenericComponentClass:function(e){c=e},injectTextComponentClass:function(e){d=e},injectComponentClasses:function(e){s(u,e)},injectAutoWrapper:function(e){l=e}},p={getComponentClassForElement:n,createInternalComponent:i,createInstanceForText:r,isTextComponent:o,injection:h};t.exports=p},{150:150,29:29}],81:[function(e,t){var n=e(150),i={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,r){n(i.isValidOwner(r),"addComponentAsRefTo(...): Only a ReactOwner can have refs. This usually means that you're trying to add a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."),r.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,r){n(i.isValidOwner(r),"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This usually means that you're trying to remove a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."),r.getPublicInstance().refs[t]===e.getPublicInstance()&&r.detachRef(t)}};t.exports=i},{150:150}],82:[function(e,t){function n(e,t,n){return n}var i={enableMeasure:!1,storedMeasure:n,measureMethods:function(e,t,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=i.measure(t,n[r],e[r]))},measure:function(e,t,n){var r=null,o=function(){return i.enableMeasure?(r||(r=i.storedMeasure(e,t,n)),r.apply(this,arguments)):n.apply(this,arguments)};return o.displayName=e+"_"+t,o},injection:{injectMeasure:function(e){i.storedMeasure=e}}};t.exports=i},{}],83:[function(e,t){function n(e){return function(t,n,i){t[n]=t.hasOwnProperty(n)?e(t[n],i):i}}function i(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=l[n];i&&l.hasOwnProperty(n)?i(e,n,t[n]):e.hasOwnProperty(n)||(e[n]=t[n])}return e}var r=e(29),o=e(129),s=e(155),a=n(function(e,t){return r({},t,e)}),l={children:o,className:n(s),style:a},c={mergeProps:function(e,t){return i(r({},e),t)}};t.exports=c},{129:129,155:155,29:29}],84:[function(e,t){var n={};n={prop:"prop",context:"context",childContext:"child context"},t.exports=n},{}],85:[function(e,t){var n=e(156),i=n({prop:null,context:null,childContext:null});t.exports=i},{156:156}],86:[function(e,t){function n(e){function t(t,n,i,r,o){if(r=r||E,null==n[i]){var s=y[o];return t?Error("Required "+s+" `"+i+"` was not specified in "+("`"+r+"`.")):null}return e(n,i,r,o)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function i(e){function t(t,n,i,r){var o=t[n],s=f(o);if(s!==e){var a=y[r],l=g(o);return Error("Invalid "+a+" `"+n+"` of type `"+l+"` "+("supplied to `"+i+"`, expected `"+e+"`."))}return null}return n(t)}function r(){return n(b.thatReturns(null))}function o(e){function t(t,n,i,r){var o=t[n];if(!Array.isArray(o)){var s=y[r],a=f(o);return Error("Invalid "+s+" `"+n+"` of type "+("`"+a+"` supplied to `"+i+"`, expected an array."))}for(var l=0;o.length>l;l++){var c=e(o,l,i,r);if(c instanceof Error)return c}return null}return n(t)}function s(){function e(e,t,n,i){if(!m.isValidElement(e[t])){var r=y[i];return Error("Invalid "+r+" `"+t+"` supplied to "+("`"+n+"`, expected a ReactElement."))}return null}return n(e)}function a(e){function t(t,n,i,r){if(!(t[n]instanceof e)){var o=y[r],s=e.name||E;return Error("Invalid "+o+" `"+n+"` supplied to "+("`"+i+"`, expected instance of `"+s+"`."))}return null}return n(t)}function l(e){function t(t,n,i,r){for(var o=t[n],s=0;e.length>s;s++)if(o===e[s])return null;var a=y[r],l=JSON.stringify(e);return Error("Invalid "+a+" `"+n+"` of value `"+o+"` "+("supplied to `"+i+"`, expected one of "+l+"."))}return n(t)}function c(e){function t(t,n,i,r){var o=t[n],s=f(o);if("object"!==s){var a=y[r];return Error("Invalid "+a+" `"+n+"` of type "+("`"+s+"` supplied to `"+i+"`, expected an object."))}for(var l in o)if(o.hasOwnProperty(l)){var c=e(o,l,i,r);if(c instanceof Error)return c}return null}return n(t)}function u(e){function t(t,n,i,r){for(var o=0;e.length>o;o++){var s=e[o];if(null==s(t,n,i,r))return null}var a=y[r];return Error("Invalid "+a+" `"+n+"` supplied to "+("`"+i+"`."))}return n(t)}function d(){function e(e,t,n,i){if(!p(e[t])){var r=y[i];return Error("Invalid "+r+" `"+t+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return n(e)}function h(e){function t(t,n,i,r){var o=t[n],s=f(o);if("object"!==s){var a=y[r];return Error("Invalid "+a+" `"+n+"` of type `"+s+"` "+("supplied to `"+i+"`, expected `object`."))}for(var l in e){var c=e[l];if(c){var u=c(o,l,i,r);if(u)return u}}return null}return n(t)}function p(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(p);if(null===e||m.isValidElement(e))return!0;e=v.extractIfFragment(e);for(var t in e)if(!p(e[t]))return!1;return!0;default:return!1}}function f(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function g(e){var t=f(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}var m=e(63),v=e(69),y=e(84),b=e(129),E="<<anonymous>>",C=s(),_=d(),w={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),any:r(),arrayOf:o,element:C,instanceOf:a,node:_,objectOf:c,oneOf:l,oneOfType:u,shape:h};t.exports=w},{129:129,63:63,69:69,84:84}],87:[function(e,t){function n(){this.listenersToPut=[]}var i=e(30),r=e(33),o=e(29);o(n.prototype,{enqueuePutListener:function(e,t,n){this.listenersToPut.push({rootNodeID:e,propKey:t,propValue:n})},putListeners:function(){for(var e=0;this.listenersToPut.length>e;e++){var t=this.listenersToPut[e];r.putListener(t.rootNodeID,t.propKey,t.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),i.addPoolingTo(n),t.exports=n},{29:29,30:30,33:33}],88:[function(e,t){function n(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.putListenerQueue=a.getPooled()}var i=e(7),r=e(30),o=e(33),s=e(71),a=e(87),l=e(116),c=e(29),u={initialize:s.getSelectionInformation,close:s.restoreSelection},d={initialize:function(){var e=o.isEnabled();return o.setEnabled(!1),e},close:function(e){o.setEnabled(e)}},h={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},p={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},f=[p,u,d,h],g={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null,a.release(this.putListenerQueue),this.putListenerQueue=null}};c(n.prototype,l.Mixin,g),r.addPoolingTo(n),t.exports=n},{116:116,29:29,30:30,33:33,7:7,71:71,87:87}],89:[function(e,t){function n(){i.attachRefs(this,this._currentElement)}var i=e(90),r=e(64),o={mountComponent:function(e,t,i,o){var s=e.mountComponent(t,i,o);return r.checkAndWarnForMutatedProps(e._currentElement),i.getReactMountReady().enqueue(n,e),s},unmountComponent:function(e){i.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,o,s){var a=e._currentElement;if(t!==a||null==t._owner){r.checkAndWarnForMutatedProps(t);var l=i.shouldUpdateRefs(a,t);l&&i.detachRefs(e,a),e.receiveComponent(t,o,s),l&&o.getReactMountReady().enqueue(n,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};t.exports=o},{64:64,90:90}],90:[function(e,t){function n(e,t,n){"function"==typeof e?e(t.getPublicInstance()):r.addComponentAsRefTo(t,e,n)}function i(e,t,n){"function"==typeof e?e(null):r.removeComponentAsRefFrom(t,e,n)}var r=e(81),o={};o.attachRefs=function(e,t){var i=t.ref;null!=i&&n(i,e,t._owner)},o.shouldUpdateRefs=function(e,t){return t._owner!==e._owner||t.ref!==e.ref},o.detachRefs=function(e,t){var n=t.ref;null!=n&&i(n,e,t._owner)},t.exports=o},{81:81}],91:[function(e,t){var n={injectCreateReactRootIndex:function(e){i.createReactRootIndex=e}},i={createReactRootIndex:null,injection:n};t.exports=i},{}],92:[function(e,t){function n(e){u(r.isValidElement(e),"renderToString(): You must pass a valid ReactElement.");var t;try{var n=o.createReactRootID();return t=a.getPooled(!1),t.perform(function(){var i=c(e,null),r=i.mountComponent(n,t,l);return s.addChecksumToMarkup(r)},null)}finally{a.release(t)}}function i(e){u(r.isValidElement(e),"renderToStaticMarkup(): You must pass a valid ReactElement.");var t;try{var n=o.createReactRootID();return t=a.getPooled(!0),t.perform(function(){var i=c(e,null);return i.mountComponent(n,t,l)},null)}finally{a.release(t)}}var r=e(63),o=e(72),s=e(76),a=e(93),l=e(130),c=e(149),u=e(150);t.exports={renderToString:n,renderToStaticMarkup:i}},{130:130,149:149,150:150,63:63,72:72,76:76,93:93}],93:[function(e,t){function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=r.getPooled(null),this.putListenerQueue=o.getPooled()}var i=e(30),r=e(7),o=e(87),s=e(116),a=e(29),l=e(129),c={initialize:function(){this.reactMountReady.reset()},close:l},u={initialize:function(){this.putListenerQueue.reset()},close:l},d=[u,c],h={getTransactionWrappers:function(){return d},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null,o.release(this.putListenerQueue),this.putListenerQueue=null}};a(n.prototype,s.Mixin,h),i.addPoolingTo(n),t.exports=n},{116:116,129:129,29:29,30:30,7:7,87:87}],94:[function(e,t){function n(e,t){var n={};return function(i){n[t]=i,e.setState(n)}}var i={createStateSetter:function(e,t){return function(n,i,r,o,s,a){var l=t.call(e,n,i,r,o,s,a);l&&e.setState(l)}},createStateKeySetter:function(e,t){var i=e.__keySetters||(e.__keySetters={});return i[t]||(i[t]=n(e,t))}};i.Mixin={createStateSetter:function(e){return i.createStateSetter(this,e)},createStateKeySetter:function(e){return i.createStateKeySetter(this,e)}},t.exports=i},{}],95:[function(e,t){function n(){}function i(e){return function(t,i){var r;_.isDOMComponent(t)?r=t.getDOMNode():t.tagName&&(r=t);var o=new n;o.target=r;var s=new y(h.eventNameDispatchConfigs[e],m.getID(r),o);b(s,i),l.accumulateTwoPhaseDispatches(s),v.batchedUpdates(function(){a.enqueueEvents(s),a.processEventQueue()})}}function r(){_.Simulate={};var e;for(e in h.eventNameDispatchConfigs)_.Simulate[e]=i(e)}function o(e){return function(t,i){var r=new n(e);b(r,i),_.isDOMComponent(t)?_.simulateNativeEventOnDOMComponent(e,t,r):t.tagName&&_.simulateNativeEventOnNode(e,t,r)}}var s=e(16),a=e(18),l=e(21),c=e(31),u=e(63),d=e(65),h=e(33),p=e(43),f=e(72),g=e(73),m=e(77),v=e(100),y=e(108),b=e(29),E=e(130),C=s.topLevelTypes,_={renderIntoDocument:function(e){var t=document.createElement("div");return c.render(e,t)},isElement:function(e){return u.isValidElement(e)},isElementOfType:function(e,t){return u.isValidElement(e)&&e.type===t},isDOMComponent:function(e){return!!(e&&e.tagName&&e.getDOMNode)},isDOMComponentElement:function(e){return!!(e&&u.isValidElement(e)&&e.tagName)},isCompositeComponent:function(e){return"function"==typeof e.render&&"function"==typeof e.setState},isCompositeComponentWithType:function(e,t){return!(!_.isCompositeComponent(e)||e.constructor!==t)
},isCompositeComponentElement:function(e){if(!u.isValidElement(e))return!1;var t=e.type.prototype;return"function"==typeof t.render&&"function"==typeof t.setState},isCompositeComponentElementWithType:function(e,t){return!(!_.isCompositeComponentElement(e)||e.constructor!==t)},getRenderedChildOfCompositeComponent:function(e){if(!_.isCompositeComponent(e))return null;var t=g.get(e);return t._renderedComponent.getPublicInstance()},findAllInRenderedTree:function(e,t){if(!e)return[];var n=t(e)?[e]:[];if(_.isDOMComponent(e)){var i,r=g.get(e),o=r._renderedComponent._renderedChildren;for(i in o)o.hasOwnProperty(i)&&o[i].getPublicInstance&&(n=n.concat(_.findAllInRenderedTree(o[i].getPublicInstance(),t)))}else _.isCompositeComponent(e)&&(n=n.concat(_.findAllInRenderedTree(_.getRenderedChildOfCompositeComponent(e),t)));return n},scryRenderedDOMComponentsWithClass:function(e,t){return _.findAllInRenderedTree(e,function(e){var n=e.props.className;return _.isDOMComponent(e)&&n&&-1!==(" "+n+" ").indexOf(" "+t+" ")})},findRenderedDOMComponentWithClass:function(e,t){var n=_.scryRenderedDOMComponentsWithClass(e,t);if(1!==n.length)throw Error("Did not find exactly one match (found: "+n.length+") for class:"+t);return n[0]},scryRenderedDOMComponentsWithTag:function(e,t){return _.findAllInRenderedTree(e,function(e){return _.isDOMComponent(e)&&e.tagName===t.toUpperCase()})},findRenderedDOMComponentWithTag:function(e,t){var n=_.scryRenderedDOMComponentsWithTag(e,t);if(1!==n.length)throw Error("Did not find exactly one match for tag:"+t);return n[0]},scryRenderedComponentsWithType:function(e,t){return _.findAllInRenderedTree(e,function(e){return _.isCompositeComponentWithType(e,t)})},findRenderedComponentWithType:function(e,t){var n=_.scryRenderedComponentsWithType(e,t);if(1!==n.length)throw Error("Did not find exactly one match for componentType:"+t);return n[0]},mockComponent:function(e,t){return t=t||e.mockTagName||"div",e.prototype.render.mockImplementation(function(){return c.createElement(t,null,this.props.children)}),this},simulateNativeEventOnNode:function(e,t,n){n.target=t,h.ReactEventListener.dispatchEvent(e,n)},simulateNativeEventOnDOMComponent:function(e,t,n){_.simulateNativeEventOnNode(e,t.getDOMNode(),n)},nativeTouchData:function(e,t){return{touches:[{pageX:e,pageY:t}]}},createRenderer:function(){return new w},Simulate:null,SimulateNative:{}},w=function(){this._instance=null};w.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var A=function(e){this._renderedOutput=e,this._currentElement=null===e||e===!1?d.emptyElement:e};A.prototype={mountComponent:function(){},receiveComponent:function(e){this._renderedOutput=e,this._currentElement=null===e||e===!1?d.emptyElement:e},unmountComponent:function(){}};var S=function(){};b(S.prototype,p.Mixin,{_instantiateReactComponent:function(e){return new A(e)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:p.Mixin._renderValidatedComponentWithoutOwnerOrContext}),w.prototype.render=function(e,t){t||(t=E);var n=v.ReactReconcileTransaction.getPooled();this._render(e,n,t),v.ReactReconcileTransaction.release(n)},w.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},w.prototype._render=function(e,t,n){if(this._instance)this._instance.receiveComponent(e,t,n);else{var i=f.createReactRootID(),r=new S(e.type);r.construct(e),r.mountComponent(i,t,n),this._instance=r}};var D=a.injection.injectEventPluginOrder;a.injection.injectEventPluginOrder=function(){D.apply(this,arguments),r()};var x=a.injection.injectEventPluginsByName;a.injection.injectEventPluginsByName=function(){x.apply(this,arguments),r()},r();var T;for(T in C){var k=0===T.indexOf("top")?T.charAt(3).toLowerCase()+T.substr(4):T;_.SimulateNative[k]=o(T)}t.exports=_},{100:100,108:108,130:130,16:16,18:18,21:21,29:29,31:31,33:33,43:43,63:63,65:65,72:72,73:73,77:77}],96:[function(e,t){var n=e(37),i=e(69),r={getChildMapping:function(e){return e?i.extract(n.map(e,function(e){return e})):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var i={},r=[];for(var o in e)t.hasOwnProperty(o)?r.length&&(i[o]=r,r=[]):r.push(o);var s,a={};for(var l in t){if(i.hasOwnProperty(l))for(s=0;i[l].length>s;s++){var c=i[l][s];a[i[l][s]]=n(c)}a[l]=n(l)}for(s=0;r.length>s;s++)a[r[s]]=n(r[s]);return a}};t.exports=r},{37:37,69:69}],97:[function(e,t){function n(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete s.animationend.animation,"TransitionEvent"in window||delete s.transitionend.transition;for(var n in s){var i=s[n];for(var r in i)if(r in t){a.push(i[r]);break}}}function i(e,t,n){e.addEventListener(t,n,!1)}function r(e,t,n){e.removeEventListener(t,n,!1)}var o=e(22),s={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},a=[];o.canUseDOM&&n();var l={addEndEventListener:function(e,t){return 0===a.length?(window.setTimeout(t,0),void 0):(a.forEach(function(n){i(e,n,t)}),void 0)},removeEndEventListener:function(e,t){0!==a.length&&a.forEach(function(n){r(e,n,t)})}};t.exports=l},{22:22}],98:[function(e,t){var n=e(31),i=e(96),r=e(29),o=e(122),s=e(129),a=n.createClass({displayName:"ReactTransitionGroup",propTypes:{component:n.PropTypes.any,childFactory:n.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:s.thatReturnsArgument}},getInitialState:function(){return{children:i.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t=i.getChildMapping(e.children),n=this.state.children;this.setState({children:i.mergeChildMappings(n,t)});var r;for(r in t){var o=n&&n.hasOwnProperty(r);!t[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var s=t&&t.hasOwnProperty(r);!n[r]||s||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var n=i.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n=i.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n=i.getChildMapping(this.props.children);if(n&&n.hasOwnProperty(e))this.performEnter(e);else{var o=r({},this.state.children);delete o[e],this.setState({children:o})}},render:function(){var e=[];for(var t in this.state.children){var i=this.state.children[t];i&&e.push(o(this.props.childFactory(i),{ref:t,key:t}))}return n.createElement(this.props.component,this.props,e)}});t.exports=a},{122:122,129:129,29:29,31:31,96:96}],99:[function(e,t){function n(e){e!==r.currentlyMountingInstance&&l.enqueueUpdate(e)}function i(e,t){u(null==o.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",t);var n=a.get(e);return n?n===r.currentlyUnmountingInstance?null:n:(d(!t,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op.",t,t),null)}var r=e(74),o=e(45),s=e(63),a=e(73),l=e(100),c=e(29),u=e(150),d=e(171),h={enqueueCallback:function(e,t){u("function"==typeof t,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable.");var o=i(e);return o&&o!==r.currentlyMountingInstance?(o._pendingCallbacks?o._pendingCallbacks.push(t):o._pendingCallbacks=[t],n(o),void 0):null},enqueueCallbackInternal:function(e,t){u("function"==typeof t,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."),e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],n(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,n(t))},enqueueReplaceState:function(e,t){var r=i(e,"replaceState");r&&(r._pendingStateQueue=[t],r._pendingReplaceState=!0,n(r))},enqueueSetState:function(e,t){var r=i(e,"setState");if(r){var o=r._pendingStateQueue||(r._pendingStateQueue=[]);o.push(t),n(r)}},enqueueSetProps:function(e,t){var r=i(e,"setProps");if(r){u(r._isTopLevel,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var o=r._pendingElement||r._currentElement,a=c({},o.props,t);r._pendingElement=s.cloneAndReplaceProps(o,a),n(r)}},enqueueReplaceProps:function(e,t){var r=i(e,"replaceProps");if(r){u(r._isTopLevel,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var o=r._pendingElement||r._currentElement;r._pendingElement=s.cloneAndReplaceProps(o,t),n(r)}},enqueueElementInternal:function(e,t){e._pendingElement=t,n(e)}};t.exports=h},{100:100,150:150,171:171,29:29,45:45,63:63,73:73,74:74}],100:[function(e,t){function n(){m(x.ReactReconcileTransaction&&C,"ReactUpdates: must inject a reconcile transaction class and batching strategy")}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=c.getPooled(),this.reconcileTransaction=x.ReactReconcileTransaction.getPooled()}function r(e,t,i,r,o){n(),C.batchedUpdates(e,t,i,r,o)}function o(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;m(t===y.length,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",t,y.length),y.sort(o);for(var n=0;t>n;n++){var i=y[n],r=i._pendingCallbacks;if(i._pendingCallbacks=null,p.performUpdateIfNecessary(i,e.reconcileTransaction),r)for(var s=0;r.length>s;s++)e.callbackQueue.enqueue(r[s],i.getPublicInstance())}}function a(e){return n(),v(null==d.current,"enqueueUpdate(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."),C.isBatchingUpdates?(y.push(e),void 0):(C.batchedUpdates(a,e),void 0)}function l(e,t){m(C.isBatchingUpdates,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),b.enqueue(e,t),E=!0}var c=e(7),u=e(30),d=e(45),h=e(82),p=e(89),f=e(116),g=e(29),m=e(150),v=e(171),y=[],b=c.getPooled(),E=!1,C=null,_={initialize:function(){this.dirtyComponentsLength=y.length},close:function(){this.dirtyComponentsLength!==y.length?(y.splice(0,this.dirtyComponentsLength),S()):y.length=0}},w={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},A=[_,w];g(i.prototype,f.Mixin,{getTransactionWrappers:function(){return A},destructor:function(){this.dirtyComponentsLength=null,c.release(this.callbackQueue),this.callbackQueue=null,x.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return f.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),u.addPoolingTo(i);var S=function(){for(;y.length||E;){if(y.length){var e=i.getPooled();e.perform(s,null,e),i.release(e)}if(E){E=!1;var t=b;b=c.getPooled(),t.notifyAll(),c.release(t)}}};S=h.measure("ReactUpdates","flushBatchedUpdates",S);var D={injectReconcileTransaction:function(e){m(e,"ReactUpdates: must provide a reconcile transaction class"),x.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){m(e,"ReactUpdates: must provide a batching strategy"),m("function"==typeof e.batchedUpdates,"ReactUpdates: must provide a batchedUpdates() function"),m("boolean"==typeof e.isBatchingUpdates,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"),C=e}},x={ReactReconcileTransaction:null,batchedUpdates:r,enqueueUpdate:a,flushBatchedUpdates:S,injection:D,asap:l};t.exports=x},{116:116,150:150,171:171,29:29,30:30,45:45,7:7,82:82,89:89}],101:[function(e,t){var n=e(11),i=n.injection.MUST_USE_ATTRIBUTE,r={Properties:{clipPath:i,cx:i,cy:i,d:i,dx:i,dy:i,fill:i,fillOpacity:i,fontFamily:i,fontSize:i,fx:i,fy:i,gradientTransform:i,gradientUnits:i,markerEnd:i,markerMid:i,markerStart:i,offset:i,opacity:i,patternContentUnits:i,patternUnits:i,points:i,preserveAspectRatio:i,r:i,rx:i,ry:i,spreadMethod:i,stopColor:i,stopOpacity:i,stroke:i,strokeDasharray:i,strokeLinecap:i,strokeOpacity:i,strokeWidth:i,textAnchor:i,transform:i,version:i,viewBox:i,x1:i,x2:i,x:i,y1:i,y2:i,y:i},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};t.exports=r},{11:11}],102:[function(e,t){function n(e){if("selectionStart"in e&&s.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(e){if(v||null==f||f!==l())return null;var t=n(f);if(!m||!d(m,t)){m=t;var i=a.getPooled(p.select,g,e);return i.type="select",i.target=f,o.accumulateTwoPhaseDispatches(i),i}}var r=e(16),o=e(21),s=e(71),a=e(108),l=e(136),c=e(153),u=e(157),d=e(166),h=r.topLevelTypes,p={select:{phasedRegistrationNames:{bubbled:u({onSelect:null}),captured:u({onSelectCapture:null})},dependencies:[h.topBlur,h.topContextMenu,h.topFocus,h.topKeyDown,h.topMouseDown,h.topMouseUp,h.topSelectionChange]}},f=null,g=null,m=null,v=!1,y={eventTypes:p,extractEvents:function(e,t,n,r){switch(e){case h.topFocus:(c(t)||"true"===t.contentEditable)&&(f=t,g=n,m=null);break;case h.topBlur:f=null,g=null,m=null;break;case h.topMouseDown:v=!0;break;case h.topContextMenu:case h.topMouseUp:return v=!1,i(r);case h.topSelectionChange:case h.topKeyDown:case h.topKeyUp:return i(r)}}};t.exports=y},{108:108,136:136,153:153,157:157,16:16,166:166,21:21,71:71}],103:[function(e,t){var n=Math.pow(2,53),i={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};t.exports=i},{}],104:[function(e,t){var n=e(16),i=e(20),r=e(21),o=e(105),s=e(108),a=e(109),l=e(111),c=e(112),u=e(107),d=e(113),h=e(114),p=e(115),f=e(137),g=e(150),m=e(157),v=e(171),y=n.topLevelTypes,b={blur:{phasedRegistrationNames:{bubbled:m({onBlur:!0}),captured:m({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:m({onClick:!0}),captured:m({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:m({onContextMenu:!0}),captured:m({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:m({onCopy:!0}),captured:m({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:m({onCut:!0}),captured:m({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:m({onDoubleClick:!0}),captured:m({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:m({onDrag:!0}),captured:m({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:m({onDragEnd:!0}),captured:m({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:m({onDragEnter:!0}),captured:m({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:m({onDragExit:!0}),captured:m({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:m({onDragLeave:!0}),captured:m({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:m({onDragOver:!0}),captured:m({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:m({onDragStart:!0}),captured:m({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:m({onDrop:!0}),captured:m({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:m({onFocus:!0}),captured:m({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:m({onInput:!0}),captured:m({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:m({onKeyDown:!0}),captured:m({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:m({onKeyPress:!0}),captured:m({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:m({onKeyUp:!0}),captured:m({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:m({onLoad:!0}),captured:m({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:m({onError:!0}),captured:m({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:m({onMouseDown:!0}),captured:m({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:m({onMouseMove:!0}),captured:m({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:m({onMouseOut:!0}),captured:m({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:m({onMouseOver:!0}),captured:m({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:m({onMouseUp:!0}),captured:m({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:m({onPaste:!0}),captured:m({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:m({onReset:!0}),captured:m({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:m({onScroll:!0}),captured:m({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:m({onSubmit:!0}),captured:m({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:m({onTouchCancel:!0}),captured:m({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:m({onTouchEnd:!0}),captured:m({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:m({onTouchMove:!0}),captured:m({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:m({onTouchStart:!0}),captured:m({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:m({onWheel:!0}),captured:m({onWheelCapture:!0})}}},E={topBlur:b.blur,topClick:b.click,topContextMenu:b.contextMenu,topCopy:b.copy,topCut:b.cut,topDoubleClick:b.doubleClick,topDrag:b.drag,topDragEnd:b.dragEnd,topDragEnter:b.dragEnter,topDragExit:b.dragExit,topDragLeave:b.dragLeave,topDragOver:b.dragOver,topDragStart:b.dragStart,topDrop:b.drop,topError:b.error,topFocus:b.focus,topInput:b.input,topKeyDown:b.keyDown,topKeyPress:b.keyPress,topKeyUp:b.keyUp,topLoad:b.load,topMouseDown:b.mouseDown,topMouseMove:b.mouseMove,topMouseOut:b.mouseOut,topMouseOver:b.mouseOver,topMouseUp:b.mouseUp,topPaste:b.paste,topReset:b.reset,topScroll:b.scroll,topSubmit:b.submit,topTouchCancel:b.touchCancel,topTouchEnd:b.touchEnd,topTouchMove:b.touchMove,topTouchStart:b.touchStart,topWheel:b.wheel};for(var C in E)E[C].dependencies=[C];var _={eventTypes:b,executeDispatch:function(e,t,n){var r=i.executeDispatch(e,t,n);v("boolean"!=typeof r,"Returning `false` from an event handler is deprecated and will be ignored in a future release. Instead, manually call e.stopPropagation() or e.preventDefault(), as appropriate."),r===!1&&(e.stopPropagation(),e.preventDefault())},extractEvents:function(e,t,n,i){var m=E[e];if(!m)return null;var v;switch(e){case y.topInput:case y.topLoad:case y.topError:case y.topReset:case y.topSubmit:v=s;break;case y.topKeyPress:if(0===f(i))return null;case y.topKeyDown:case y.topKeyUp:v=l;break;case y.topBlur:case y.topFocus:v=a;break;case y.topClick:if(2===i.button)return null;case y.topContextMenu:case y.topDoubleClick:case y.topMouseDown:case y.topMouseMove:case y.topMouseOut:case y.topMouseOver:case y.topMouseUp:v=c;break;case y.topDrag:case y.topDragEnd:case y.topDragEnter:case y.topDragExit:case y.topDragLeave:case y.topDragOver:case y.topDragStart:case y.topDrop:v=u;break;case y.topTouchCancel:case y.topTouchEnd:case y.topTouchMove:case y.topTouchStart:v=d;break;case y.topScroll:v=h;break;case y.topWheel:v=p;break;case y.topCopy:case y.topCut:case y.topPaste:v=o}g(v,"SimpleEventPlugin: Unhandled event type, `%s`.",e);var b=v.getPooled(m,n,i);return r.accumulateTwoPhaseDispatches(b),b}};t.exports=_},{105:105,107:107,108:108,109:109,111:111,112:112,113:113,114:114,115:115,137:137,150:150,157:157,16:16,171:171,20:20,21:21}],105:[function(e,t){function n(e,t,n){i.call(this,e,t,n)}var i=e(108),r={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(n,r),t.exports=n},{108:108}],106:[function(e,t){function n(e,t,n){i.call(this,e,t,n)}var i=e(108),r={data:null};i.augmentClass(n,r),t.exports=n},{108:108}],107:[function(e,t){function n(e,t,n){i.call(this,e,t,n)}var i=e(112),r={dataTransfer:null};i.augmentClass(n,r),t.exports=n},{112:112}],108:[function(e,t){function n(e,t,n){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];this[r]=s?s(n):n[r]}var a=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;this.isDefaultPrevented=a?o.thatReturnsTrue:o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse}var i=e(30),r=e(29),o=e(129),s=e(140),a={type:null,target:s,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};r(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=o.thatReturnsTrue},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=o.thatReturnsTrue},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),n.Interface=a,n.augmentClass=function(e,t){var n=this,o=Object.create(n.prototype);r(o,e.prototype),e.prototype=o,e.prototype.constructor=e,e.Interface=r({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.threeArgumentPooler)},i.addPoolingTo(n,i.threeArgumentPooler),t.exports=n},{129:129,140:140,29:29,30:30}],109:[function(e,t){function n(e,t,n){i.call(this,e,t,n)}var i=e(114),r={relatedTarget:null};i.augmentClass(n,r),t.exports=n},{114:114}],110:[function(e,t){function n(e,t,n){i.call(this,e,t,n)}var i=e(108),r={data:null};i.augmentClass(n,r),t.exports=n},{108:108}],111:[function(e,t){function n(e,t,n){i.call(this,e,t,n)}var i=e(114),r=e(137),o=e(138),s=e(139),a={key:o,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?r(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?r(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(n,a),t.exports=n},{114:114,137:137,138:138,139:139}],112:[function(e,t){function n(e,t,n){i.call(this,e,t,n)}var i=e(114),r=e(117),o=e(139),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:o,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+r.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+r.currentScrollTop}};i.augmentClass(n,s),t.exports=n},{114:114,117:117,139:139}],113:[function(e,t){function n(e,t,n){i.call(this,e,t,n)}var i=e(114),r=e(139),o={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:r};i.augmentClass(n,o),t.exports=n},{114:114,139:139}],114:[function(e,t){function n(e,t,n){i.call(this,e,t,n)}var i=e(108),r=e(140),o={view:function(e){if(e.view)return e.view;var t=r(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(n,o),t.exports=n},{108:108,140:140}],115:[function(e,t){function n(e,t,n){i.call(this,e,t,n)}var i=e(112),r={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(n,r),t.exports=n},{112:112}],116:[function(e,t){var n=e(150),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,i,r,o,s,a,l){n(!this.isInTransaction(),"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction.");var c,u;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),u=e.call(t,i,r,o,s,a,l),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(d){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return u},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;t.length>n;n++){var i=t[n];try{this.wrapperInitData[n]=r.OBSERVED_ERROR,this.wrapperInitData[n]=i.initialize?i.initialize.call(this):null}finally{if(this.wrapperInitData[n]===r.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(o){}}}},closeAll:function(e){n(this.isInTransaction(),"Transaction.closeAll(): Cannot close transaction when none are open.");for(var t=this.transactionWrappers,i=e;t.length>i;i++){var o,s=t[i],a=this.wrapperInitData[i];try{o=!0,a!==r.OBSERVED_ERROR&&s.close&&s.close.call(this,a),o=!1}finally{if(o)try{this.closeAll(i+1)}catch(l){}}}this.wrapperInitData.length=0}},r={Mixin:i,OBSERVED_ERROR:{}};t.exports=r},{150:150}],117:[function(e,t){var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};t.exports=n},{}],118:[function(e,t){function n(e,t){if(i(null!=t,"accumulateInto(...): Accumulated items must not be null or undefined."),null==e)return t;var n=Array.isArray(e),r=Array.isArray(t);return n&&r?(e.push.apply(e,t),e):n?(e.push(t),e):r?[e].concat(t):[e,t]}var i=e(150);t.exports=n},{150:150}],119:[function(e,t){function n(e){for(var t=1,n=0,r=0;e.length>r;r++)t=(t+e.charCodeAt(r))%i,n=(n+t)%i;return t|n<<16}var i=65521;t.exports=n},{}],120:[function(e,t){function n(e){return e.replace(i,function(e,t){return t.toUpperCase()})}var i=/-(.)/g;t.exports=n},{}],121:[function(e,t){function n(e){return i(e.replace(r,"ms-"))}var i=e(120),r=/^-ms-/;t.exports=n},{120:120}],122:[function(e,t){function n(e,t){s(!e.ref,"You are calling cloneWithProps() on a child with a ref. This is dangerous because you're creating a new child which will not be added as a ref to its parent.");var n=r.mergeProps(t,e.props);return!n.hasOwnProperty(a)&&e.props.hasOwnProperty(a)&&(n.children=e.props.children),i.createElement(e.type,n)}var i=e(63),r=e(83),o=e(157),s=e(171),a=o({children:null});t.exports=n},{157:157,171:171,63:63,83:83}],123:[function(e,t){function n(e,t){return e&&t?e===t?!0:i(e)?!1:i(t)?n(e,t.parentNode):e.contains?e.contains(t):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(t)):!1:!1}var i=e(154);t.exports=n},{154:154}],124:[function(e,t){function n(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return n(e)?Array.isArray(e)?e.slice():r(e):[e]}var r=e(168);t.exports=i},{168:168}],125:[function(e,t){function n(e){var t=r.createFactory(e),n=i.createClass({tagName:e.toUpperCase(),displayName:"ReactFullPageComponent"+e,componentWillUnmount:function(){o(!1,"%s tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this.constructor.displayName)},render:function(){return t(this.props)}});return n}var i=e(38),r=e(63),o=e(150);t.exports=n},{150:150,38:38,63:63}],126:[function(e,t){function n(e){var t=e.match(c);return t&&t[1].toLowerCase()}function i(e,t){var i=l;a(!!l,"createNodesFromMarkup dummy not initialized");var r=n(e),c=r&&s(r);if(c){i.innerHTML=c[1]+e+c[2];for(var u=c[0];u--;)i=i.lastChild}else i.innerHTML=e;var d=i.getElementsByTagName("script");d.length&&(a(t,"createNodesFromMarkup(...): Unexpected <script> element rendered."),o(d).forEach(t));for(var h=o(i.childNodes);i.lastChild;)i.removeChild(i.lastChild);return h}var r=e(22),o=e(124),s=e(142),a=e(150),l=r.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=i},{124:124,142:142,150:150,22:22}],127:[function(e,t){function n(e){return i(r,"React.addons.classSet will be deprecated in a future version. See http://fb.me/react-addons-classset"),r=!0,"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}).join(" "):Array.prototype.join.call(arguments," ")}var i=e(171),r=!1;t.exports=n},{171:171}],128:[function(e,t){function n(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var i=isNaN(t);return i||0===t||r.hasOwnProperty(e)&&r[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var i=e(5),r=i.isUnitlessNumber;t.exports=n},{5:5}],129:[function(e,t){function n(e){return function(){return e}}function i(){}i.thatReturns=n,i.thatReturnsFalse=n(!1),i.thatReturnsTrue=n(!0),i.thatReturnsNull=n(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},t.exports=i},{}],130:[function(e,t){var n={};Object.freeze(n),t.exports=n},{}],131:[function(e,t){function n(e){return r[e]}function i(e){return(""+e).replace(o,n)}var r={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;t.exports=i},{}],132:[function(e,t){function n(e){var t=i.current;return null!==t&&(l(t._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"),t._warnedAboutRefsInRender=!0),null==e?null:a(e)?e:r.has(e)?o.getNodeFromInstance(e):(s(null==e.render||"function"!=typeof e.render,"Component (with keys: %s) contains `render` method but is not mounted in the DOM",Object.keys(e)),s(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(e)),void 0)
}var i=e(45),r=e(73),o=e(77),s=e(150),a=e(152),l=e(171);t.exports=n},{150:150,152:152,171:171,45:45,73:73,77:77}],133:[function(e,t){function n(e,t,n){var i=e,r=!i.hasOwnProperty(n);o(r,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",n),r&&null!=t&&(i[n]=t)}function i(e){if(null==e)return e;var t={};return r(e,n,t),t}var r=e(169),o=e(171);t.exports=i},{169:169,171:171}],134:[function(e,t){function n(e){try{e.focus()}catch(t){}}t.exports=n},{}],135:[function(e,t){var n=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};t.exports=n},{}],136:[function(e,t){function n(){try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=n},{}],137:[function(e,t){function n(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}t.exports=n},{}],138:[function(e,t){function n(e){if(e.key){var t=r[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=i(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?o[e.keyCode]||"Unidentified":""}var i=e(137),r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=n},{137:137}],139:[function(e,t){function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var i=r[e];return i?!!n[i]:!1}function i(){return n}var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=i},{}],140:[function(e,t){function n(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}t.exports=n},{}],141:[function(e,t){function n(e){var t=e&&(i&&e[i]||e[r]);return"function"==typeof t?t:void 0}var i="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";t.exports=n},{}],142:[function(e,t){function n(e){return r(!!o,"Markup wrapping node not initialized"),d.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||(o.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",s[e]=!o.firstChild),s[e]?d[e]:null}var i=e(22),r=e(150),o=i.canUseDOM?document.createElement("div"):null,s={circle:!0,clipPath:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},a=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],u=[1,"<svg>","</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:a,option:a,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c,circle:u,clipPath:u,defs:u,ellipse:u,g:u,line:u,linearGradient:u,path:u,polygon:u,polyline:u,radialGradient:u,rect:u,stop:u,text:u};t.exports=n},{150:150,22:22}],143:[function(e,t){function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function r(e,t){for(var r=n(e),o=0,s=0;r;){if(3===r.nodeType){if(s=o+r.textContent.length,t>=o&&s>=t)return{node:r,offset:t-o};o=s}r=n(i(r))}}t.exports=r},{}],144:[function(e,t){function n(e){return e?e.nodeType===i?e.documentElement:e.firstChild:null}var i=9;t.exports=n},{}],145:[function(e,t){function n(){return!r&&i.canUseDOM&&(r="textContent"in document.documentElement?"textContent":"innerText"),r}var i=e(22),r=null;t.exports=n},{22:22}],146:[function(e,t){function n(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=n},{}],147:[function(e,t){function n(e){return e.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;t.exports=n},{}],148:[function(e,t){function n(e){return i(e).replace(r,"-ms-")}var i=e(147),r=/^ms-/;t.exports=n},{147:147}],149:[function(e,t){function n(e){return"function"==typeof e&&e.prototype!==void 0&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e,t){var i;if((null===e||e===!1)&&(e=o.emptyElement),"object"==typeof e){var r=e;c(r&&("function"==typeof r.type||"string"==typeof r.type),"Only functions or strings can be mounted as React components."),i=t===r.type&&"string"==typeof r.type?s.createInternalComponent(r):n(r.type)?new r.type(r):new u}else"string"==typeof e||"number"==typeof e?i=s.createInstanceForText(e):l(!1,"Encountered invalid React node of type %s",typeof e);return c("function"==typeof i.construct&&"function"==typeof i.mountComponent&&"function"==typeof i.receiveComponent&&"function"==typeof i.unmountComponent,"Only React Components can be mounted."),i.construct(e),i._mountIndex=0,i._mountImage=null,i._isOwnerNecessary=!1,i._warnedAboutRefsInRender=!1,Object.preventExtensions&&Object.preventExtensions(i),i}var r=e(43),o=e(65),s=e(80),a=e(29),l=e(150),c=e(171),u=function(){};a(u.prototype,r.Mixin,{_instantiateReactComponent:i}),t.exports=i},{150:150,171:171,29:29,43:43,65:65,80:80}],150:[function(e,t){var n=function(e,t,n,i,r,o,s,a){if(void 0===t)throw Error("invariant requires an error message argument");if(!e){var l;if(void 0===t)l=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,o,s,a],u=0;l=Error("Invariant Violation: "+t.replace(/%s/g,function(){return c[u++]}))}throw l.framesToPop=1,l}};t.exports=n},{}],151:[function(e,t){function n(e,t){if(!r.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,o=n in document;if(!o){var s=document.createElement("div");s.setAttribute(n,"return;"),o="function"==typeof s[n]}return!o&&i&&"wheel"===e&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}var i,r=e(22);r.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=n},{22:22}],152:[function(e,t){function n(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=n},{}],153:[function(e,t){function n(e){return e&&("INPUT"===e.nodeName&&i[e.type]||"TEXTAREA"===e.nodeName)}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=n},{}],154:[function(e,t){function n(e){return i(e)&&3==e.nodeType}var i=e(152);t.exports=n},{152:152}],155:[function(e,t){function n(e){e||(e="");var t,n=arguments.length;if(n>1)for(var i=1;n>i;i++)t=arguments[i],t&&(e=(e?e+" ":"")+t);return e}t.exports=n},{}],156:[function(e,t){var n=e(150),i=function(e){var t,i={};n(e instanceof Object&&!Array.isArray(e),"keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(i[t]=t);return i};t.exports=i},{150:150}],157:[function(e,t){var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=n},{}],158:[function(e,t){function n(e,t,n){if(!e)return null;var r={};for(var o in e)i.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r}var i=Object.prototype.hasOwnProperty;t.exports=n},{}],159:[function(e,t){function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=n},{}],160:[function(e,t){function n(e){return r(i.isValidElement(e),"onlyChild must be passed a children with exactly one child."),e}var i=e(63),r=e(150);t.exports=n},{150:150,63:63}],161:[function(e,t){var n,i=e(22);i.canUseDOM&&(n=window.performance||window.msPerformance||window.webkitPerformance),t.exports=n||{}},{22:22}],162:[function(e,t){var n=e(161);n&&n.now||(n=Date);var i=n.now.bind(n);t.exports=i},{161:161}],163:[function(e,t){function n(e){return'"'+i(e)+'"'}var i=e(131);t.exports=n},{131:131}],164:[function(e,t){var n=e(22),i=/^[ \r\n\t\f]/,r=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,o=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(o=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),n.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(o=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),i.test(t)||"<"===t[0]&&r.test(t)){e.innerHTML=""+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}t.exports=o},{22:22}],165:[function(e,t){var n=e(22),i=e(131),r=e(164),o=function(e,t){e.textContent=t};n.canUseDOM&&("textContent"in document.documentElement||(o=function(e,t){r(e,i(t))})),t.exports=o},{131:131,164:164,22:22}],166:[function(e,t){function n(e,t){if(e===t)return!0;var n;for(n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||e[n]!==t[n]))return!1;for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}t.exports=n},{}],167:[function(e,t){function n(e,t){if(null!=e&&null!=t){var n=typeof e,r=typeof t;if("string"===n||"number"===n)return"string"===r||"number"===r;if("object"===r&&e.type===t.type&&e.key===t.key){var o=e._owner===t._owner,s=null,a=null,l=null;return o||(null!=e._owner&&null!=e._owner.getPublicInstance()&&null!=e._owner.getPublicInstance().constructor&&(s=e._owner.getPublicInstance().constructor.displayName),null!=t._owner&&null!=t._owner.getPublicInstance()&&null!=t._owner.getPublicInstance().constructor&&(a=t._owner.getPublicInstance().constructor.displayName),null!=t.type&&null!=t.type.displayName&&(l=t.type.displayName),null!=t.type&&"string"==typeof t.type&&(l=t.type),("string"!=typeof t.type||"input"===t.type||"textarea"===t.type)&&(null!=e._owner&&e._owner._isOwnerNecessary===!1||null!=t._owner&&t._owner._isOwnerNecessary===!1)&&(null!=e._owner&&(e._owner._isOwnerNecessary=!0),null!=t._owner&&(t._owner._isOwnerNecessary=!0),i(!1,"<%s /> is being rendered by both %s and %s using the same key (%s) in the same place. Currently, this means that they don't preserve state. This behavior should be very rare so we're considering deprecating it. Please contact the React team and explain your use case so that we can take that into consideration.",l||"Unknown Component",s||"[Unknown]",a||"[Unknown]",e.key))),o}}return!1}var i=e(171);t.exports=n},{171:171}],168:[function(e,t){function n(e){var t=e.length;if(i(!Array.isArray(e)&&("object"==typeof e||"function"==typeof e),"toArray: Array-like object expected"),i("number"==typeof t,"toArray: Object needs a length property"),i(0===t||t-1 in e,"toArray: Object should have keys for indices"),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),o=0;t>o;o++)r[o]=e[o];return r}var i=e(150);t.exports=n},{150:150}],169:[function(e,t){function n(e){return m[e]}function i(e,t){return e&&null!=e.key?o(e.key):t.toString(36)}function r(e){return(""+e).replace(v,n)}function o(e){return"$"+r(e)}function s(e,t,n,r,a){var u=typeof e;if(("undefined"===u||"boolean"===u)&&(e=null),null===e||"string"===u||"number"===u||l.isValidElement(e))return r(a,e,""===t?f+i(e,0):t,n),1;var m,v,b,E=0;if(Array.isArray(e))for(var C=0;e.length>C;C++)m=e[C],v=(""!==t?t+g:f)+i(m,C),b=n+E,E+=s(m,v,b,r,a);else{var _=d(e);if(_){var w,A=_.call(e);if(_!==e.entries)for(var S=0;!(w=A.next()).done;)m=w.value,v=(""!==t?t+g:f)+i(m,S++),b=n+E,E+=s(m,v,b,r,a);else for(p(y,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."),y=!0;!(w=A.next()).done;){var D=w.value;D&&(m=D[1],v=(""!==t?t+g:f)+o(D[0])+g+i(m,0),b=n+E,E+=s(m,v,b,r,a))}}else if("object"===u){h(1!==e.nodeType,"traverseAllChildren(...): Encountered an invalid child; DOM elements are not valid children of React components.");var x=c.extract(e);for(var T in x)x.hasOwnProperty(T)&&(m=x[T],v=(""!==t?t+g:f)+o(T)+g+i(m,0),b=n+E,E+=s(m,v,b,r,a))}}return E}function a(e,t,n){return null==e?0:s(e,"",0,t,n)}var l=e(63),c=e(69),u=e(72),d=e(141),h=e(150),p=e(171),f=u.SEPARATOR,g=":",m={"=":"=0",".":"=1",":":"=2"},v=/[=.:]/g,y=!1;t.exports=a},{141:141,150:150,171:171,63:63,69:69,72:72}],170:[function(e,t){function n(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?o(new e.constructor,e):e}function i(e,t,n){a(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e);var i=t[n];a(Array.isArray(i),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",n,i)}function r(e,t){if(a("object"==typeof t,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",g.join(", "),h),l.call(t,h))return a(1===Object.keys(t).length,"Cannot have more than one key in an object with %s",h),t[h];var s=n(e);if(l.call(t,p)){var v=t[p];a(v&&"object"==typeof v,"update(): %s expects a spec of type 'object'; got %s",p,v),a(s&&"object"==typeof s,"update(): %s expects a target of type 'object'; got %s",p,s),o(s,t[p])}l.call(t,c)&&(i(e,t,c),t[c].forEach(function(e){s.push(e)})),l.call(t,u)&&(i(e,t,u),t[u].forEach(function(e){s.unshift(e)})),l.call(t,d)&&(a(Array.isArray(e),"Expected %s target to be an array; got %s",d,e),a(Array.isArray(t[d]),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,t[d]),t[d].forEach(function(e){a(Array.isArray(e),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,t[d]),s.splice.apply(s,e)})),l.call(t,f)&&(a("function"==typeof t[f],"update(): expected spec of %s to be a function; got %s.",f,t[f]),s=t[f](s));for(var y in t)m.hasOwnProperty(y)&&m[y]||(s[y]=r(e[y],t[y]));return s}var o=e(29),s=e(157),a=e(150),l={}.hasOwnProperty,c=s({$push:null}),u=s({$unshift:null}),d=s({$splice:null}),h=s({$set:null}),p=s({$merge:null}),f=s({$apply:null}),g=[c,u,d,h,p,f],m={};g.forEach(function(e){m[e]=!0}),t.exports=r},{150:150,157:157,29:29}],171:[function(e,t){var n=e(129),i=n;i=function(e,t){for(var n=[],i=2,r=arguments.length;r>i;i++)n.push(arguments[i]);if(void 0===t)throw Error("`warning(condition, format, ...args)` requires a warning message argument");if(10>t.length||/^[s\W]*$/.test(t))throw Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+t);if(0!==t.indexOf("Failed Composite propType: ")&&!e){var o=0,s="Warning: "+t.replace(/%s/g,function(){return n[o++]});console.warn(s);try{throw Error(s)}catch(a){}}},t.exports=i},{129:129}]},{},[1])(1)}),define("core/routeObject",["core/base","react","backbone"],function(e,t,n){var i=function(e){this._options=e,this.reactComponents={},this._configure(e||{}),this.initialize.apply(this,arguments),this.addEvents()},r={};_.extend(r,n.Events),i.on=function(e,t){r.on(e,t)},i.extend=n.Model.extend;var o=["views","routes","events","roles","crumbs","layout","apiUrl","establish"];return _.extend(i.prototype,n.Events,{views:{},routes:{},events:{},crumbs:[],layout:"with_sidebar",apiUrl:null,disableLoader:!1,loaderClassname:"loader",renderedState:!1,establish:function(){},route:function(){},roles:[],_promises:[],initialize:function(){}},{renderWith:function(e,t,n){var i={masterLayout:t,route:e,args:n},r=this.setTemplateOnFullRender(t);this.triggerBroadcast("beforeEstablish");var o=_.bind(this.renderAllViews,this,i),s=_.bind(this.establishError,this),a=_.bind(this.renderComplete,this),l=_.bind(this.callEstablish,this),c=_.bind(this.renderReactComponents,this),u=this.establish();r.then(function(){c(),l(u).then(o,s).then(a)})},setTemplateOnFullRender:function(e){var t=$.Deferred();return this.renderedState?t.resolve():(this.triggerBroadcast("beforeFullRender"),e.setTemplate(this.layout).then(t.resolve,t.reject)),t},renderReactComponents:function(){_.each(this.reactComponents,function(e,n){t.render(t.createElement(e.component,e.props),$(n)[0])})},callEstablish:function(t){return this.addPromise(t),e.when(t)},renderAllViews:function(t){var n=this,i=_.bind(this.renderView,this,n,t);this.triggerBroadcast("afterEstablish");var r=_.map(n.getViews(),i,this);return e.when(r)},renderView:function(e,t,n,i){var r={view:n,selector:i,masterLayout:t.masterLayout},o=_.bind(this.renderViewOnLayout,this,r);return n.hasRendered?(this.triggerBroadcast("viewHasRendered",n,i),void 0):(this.triggerBroadcast("beforeRender",n,i),this.callEstablish(n.establish()).then(o,this.establishError))},renderViewOnLayout:function(e){var t=e.masterLayout,n=_.bind(this.triggerBroadcast,this);t.setView(e.selector,e.view);var i=t.renderView(e.selector).promise();return i.then(function(){n("afterRender",e.view,e.selector)}),i},establishError:function(t){t&&t.responseText&&e.addNotification({msg:"An Error occurred: "+JSON.parse(t.responseText).reason,type:"error",clear:!0})},renderComplete:function(){this.setRenderedState(!0),this.triggerBroadcast("renderComplete")},setRenderedState:function(e){this.renderedState=e},triggerBroadcast:function(e){var t=Array.prototype.slice.call(arguments);this.trigger.apply(this,t),t.splice(0,1,e,this),r.trigger.apply(r,t)},get:function(e){return _.isFunction(this[e])?this[e]():this[e]},addEvents:function(e){e=e||this.get("events"),_.each(e,function(e,t){if(!_.isFunction(e)&&!_.isFunction(this[e]))throw Error("Invalid method: "+e);e=_.isFunction(e)?e:this[e],this.on(t,e)},this)},_configure:function(e){_.each(_.intersection(_.keys(e),o),function(t){this[t]=e[t]},this)},getView:function(e){return this.views[e]},setView:function(e,t){return this.removeView(e),this.removeComponent(e),this.views[e]=t,t},setComponent:function(e,t,n){this.removeView(e),this.removeComponent(e),this.reactComponents[e]={component:t,props:n||null}},removeComponent:function(e){_.has(this.reactComponents,e)&&(t.unmountComponentAtNode($(e)[0]),this.reactComponents[e]=null,delete this.reactComponents[e])},removeComponents:function(){_.each(this.reactComponents,function(e,t){this.removeComponent(t)},this),this.reactComponents={}},getViews:function(){return this.views},removeView:function(e){_.has(this.views,e)&&(this.views[e].remove(),this.views[e]=null,delete this.views[e])},removeViews:function(){_.each(this.views,function(e,t){e.remove(),delete this.views[t],e=null},this)},addPromise:function(e){return _.isEmpty(e)?void 0:_.isArray(e)?(_.each(e,function(e){this._promises.push(e)},this),void 0):this._promises.push(e)},cleanup:function(){this.removeComponents(),this.removeViews(),this.rejectPromises()},rejectPromises:function(){_.each(this._promises,function(e){return"resolved"!==e.state()?e.abort?e.abort("Route change"):(e.reject&&e.reject(),void 0):void 0},this),this._promises=[]},getRouteUrls:function(){return _.keys(this.get("routes"))},hasRoute:function(e){return this.get("routes")[e]?!0:!1},routeCallback:function(e,t){var n,i=this.get("routes"),r=i[e];n="object"==typeof r?this[r.route]:this[r],n.apply(this,t)},getRouteRoles:function(e){var t=this.get("routes")[e];return"object"==typeof t&&t.roles?t.roles:this.roles}}),i}),define("core/store",["backbone"],function(e){var t=function(){this.initialize.apply(this,arguments),_.bindAll(this)};return t.extend=e.Model.extend,_.extend(t.prototype,e.Events,{triggerChange:function(){this.trigger("change")},initialize:function(){}}),t}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("flux",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Flux=e()}}(function(){return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;i.length>s;s++)r(i[s]);return r}({1:[function(e,t){t.exports.Dispatcher=e("./lib/Dispatcher")},{"./lib/Dispatcher":2}],2:[function(e,t){function n(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var i=e("./invariant"),r=1,o="ID_";n.prototype.register=function(e){var t=o+r++;return this.$Dispatcher_callbacks[t]=e,t},n.prototype.unregister=function(e){i(this.$Dispatcher_callbacks[e],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this.$Dispatcher_callbacks[e]},n.prototype.waitFor=function(e){i(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;e.length>t;t++){var n=e[t];this.$Dispatcher_isPending[n]?i(this.$Dispatcher_isHandled[n],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(i(this.$Dispatcher_callbacks[n],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this.$Dispatcher_invokeCallback(n))}},n.prototype.dispatch=function(e){i(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(e);try{for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]||this.$Dispatcher_invokeCallback(t)}finally{this.$Dispatcher_stopDispatching()}},n.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},n.prototype.$Dispatcher_invokeCallback=function(e){this.$Dispatcher_isPending[e]=!0,this.$Dispatcher_callbacks[e](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[e]=!0},n.prototype.$Dispatcher_startDispatching=function(e){for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]=!1,this.$Dispatcher_isHandled[t]=!1;this.$Dispatcher_pendingPayload=e,this.$Dispatcher_isDispatching=!0},n.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},t.exports=n},{"./invariant":3}],3:[function(e,t){var n=function(e,t,n,i,r,o,s,a){if(!e){var l;if(void 0===t)l=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,o,s,a],u=0;l=Error("Invariant Violation: "+t.replace(/%s/g,function(){return c[u++]}))}throw l.framesToPop=1,l}};t.exports=n},{}]},{},[1])(1)}),define("core/api",["core/base","core/layout","core/router","core/routeObject","core/utils","core/store","constants","flux"],function(e,t,n,i,r,o,s,a){e=_.extend(e,{Layout:t,Router:n,RouteObject:i,utils:r,Store:o,Events:_.extend({},Backbone.Events),dispatcher:new a.Dispatcher}),e.constants=s,e.dispatch=_.bind(e.dispatcher.dispatch,e.dispatcher),e.navigate=function(t,n){var i=_.extend({trigger:!0},n);e.router.navigate(t,i)},e.beforeUnload=function(){e.router.beforeUnload.apply(e.router,arguments)},e.removeBeforeUnload=function(){e.router.removeBeforeUnload.apply(e.router,arguments)},e.addRoute=function(t){e.router.route(t.route,t.name,t.callback)},e.triggerRouteEvent=function(t,n){e.router.triggerRouteEvent("route:"+t,n)};var l={};return e.registerUrls=function(e,t){l[e]=t},e.urls=function(t,n){var i,r=e.getExtensions("urls:interceptors"),o=arguments;return _.first(r,function(e){var t=e.apply(null,o);return t?(i=t,!0):!1}),_.isUndefined(i)?l[t]?l[t][n]?(o=Array.prototype.slice.call(arguments,2),i=l[t][n].apply(null,o)):(console.error("could not find context ",n),""):(console.error("could not find name ",t),""):i},e}),define("core/couchdbSession",["core/base"],function(e){var t={Session:e.Model.extend({url:"/_session",user:function(){var e=this.get("userCtx");return e&&e.name?{name:e.name,roles:e.roles}:null},isAdmin:function(){var e=this.get("userCtx");return-1!==e.roles.indexOf("_admin")},fetchUser:function(e){var t=e||{},n=this.user(),i=_.bind(this.fetchOnce,this);return t.forceFetch&&(i=_.bind(this.fetch,this)),i(e).then(function(){var e=this.user();return n!==e?this.trigger("session:userChanged"):this.trigger("session:userFetched"),e}.bind(this),function(e,t,n,i){this.trigger("session:error",t,n,i)}.bind(this))}})};return t}),define("app",["initialize","jquery","lodash","backbone","bootstrap","helpers","core/utils","core/api","core/couchdbSession","plugins/backbone.layoutmanager"],function(e,t,n,i,r,o,s,a,l){if(n.isUndefined(console)&&(console={log:function(){},trace:function(){},debug:function(){}}),n.isUndefined(window.location.origin)){var c="";window.location.port&&(c=":"+window.location.port),window.location.origin=window.location.protocol+"//"+window.location.hostname+c}n.extend(e,{utils:s,getParams:a.utils.getParams,helpers:o});var u=window.JST=window.JST||{};return t(document).on("ajaxSend.csrf",function(e,t){function i(e){return e?n.reduce(e.split(";"),function(e,t){var n=t.split("=");return e[n.shift().trim()]=decodeURI(n.join("=")),e},{}):{}}var r=i(document.cookie),o=r["CouchDB-CSRF"]?r["CouchDB-CSRF"]:"true";t.setRequestHeader("X-CouchDB-CSRF",o)}),t(document).on("ajaxComplete",function(e,t){return"true"===t.getResponseHeader("x-couchdb-csrf-valid")?(a.showCsrfInfo(),void 0):(a.removeHeaderLink&&a.removeHeaderLink({id:"csrf",statusArea:!0}),void 0)}),a.Layout.configure({manage:!0,prefix:"app/",renderTemplate:function(e,t){return e(n.extend(o,t))},fetchTemplate:function(i){var r;return i+=".html",u[i]?u[i]:(r=this.async(),t.ajax({url:e.root+i}).then(function(e){r(u[i]=n.template(e))}))}}),a.setSession(new l.Session),a.config({el:".wrapper",masterLayout:new a.Layout,addHeaderLink:function(e){a.dispatch({type:"ADD_NAVBAR_LINK",link:e})},updateHeaderLink:function(e){a.dispatch({type:"UPDATE_NAVBAR_LINK",link:e})},showCsrfInfo:function(){a.dispatch({type:"SHOW_CSRF_INFO"})},removeHeaderLink:function(e){a.dispatch({type:"REMOVE_NAVBAR_LINK",link:e})}}),e}),function(){function e(e){var t=function(e,t){return r("",e,t)},o=n;e&&(n[e]||(n[e]={}),o=n[e]),o.define&&o.define.packaged||(i.original=o.define,o.define=i,o.define.packaged=!0),o.require&&o.require.packaged||(r.original=o.require,o.require=t,o.require.packaged=!0)}var t="",n=function(){return this}();if(t||void 0===requirejs){var i=function(e,t,n){return"string"!=typeof e?(i.original?i.original.apply(window,arguments):(console.error("dropping module because define wasn't a string."),console.trace()),void 0):(2==arguments.length&&(n=t),i.modules||(i.modules={},i.payloads={}),i.payloads[e]=n,i.modules[e]=null,void 0)},r=function(e,t,n){if("[object Array]"===Object.prototype.toString.call(t)){for(var i=[],o=0,a=t.length;a>o;++o){var l=s(e,t[o]);if(!l&&r.original)return r.original.apply(window,arguments);i.push(l)}n&&n.apply(null,i)}else{if("string"==typeof t){var c=s(e,t);return!c&&r.original?r.original.apply(window,arguments):(n&&n(),c)}if(r.original)return r.original.apply(window,arguments)}},o=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return o(e,n[0])+"!"+o(e,n[1])}if("."==t.charAt(0)){var i=e.split("/").slice(0,-1).join("/");for(t=i+"/"+t;-1!==t.indexOf(".")&&r!=t;){var r=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},s=function(e,t){t=o(e,t);var n=i.modules[t];if(!n){if(n=i.payloads[t],"function"==typeof n){var s={},a={id:t,uri:"",exports:s,packaged:!0},l=function(e,n){return r(t,e,n)},c=n(l,s,a);s=c||a.exports,i.modules[t]=s,delete i.payloads[t]}n=i.modules[t]=s||n}return n};e(t)}}(),define("ace/lib/regexp",["require","exports","module"],function(){"use strict";function e(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function t(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var i=n||0;e.length>i;i++)if(e[i]===t)return i;return-1}var n={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},i=void 0===n.exec.call(/()??/,"")[1],r=function(){var e=/^/g;return n.test.call(e,""),!e.lastIndex}();r&&i||(RegExp.prototype.exec=function(o){var s,a,l=n.exec.apply(this,arguments);if("string"==typeof o&&l){if(!i&&l.length>1&&t(l,"")>-1&&(a=RegExp(this.source,n.replace.call(e(this),"g","")),n.replace.call(o.slice(l.index),a,function(){for(var e=1;arguments.length-2>e;e++)void 0===arguments[e]&&(l[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var c=1;l.length>c;c++)s=this._xregexp.captureNames[c-1],s&&(l[s]=l[c]);!r&&this.global&&!l[0].length&&this.lastIndex>l.index&&this.lastIndex--}return l},r||(RegExp.prototype.test=function(e){var t=n.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),define("ace/lib/es5-shim",["require","exports","module"],function(){function e(){}function t(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){}}function n(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if("function"!=typeof n)throw new TypeError("Function.prototype.bind called on incompatible "+n);var i=d.call(arguments,1),r=function(){if(this instanceof r){var e=n.apply(this,i.concat(d.call(arguments)));return Object(e)===e?e:this}return n.apply(t,i.concat(d.call(arguments)))};return n.prototype&&(e.prototype=n.prototype,r.prototype=new e,e.prototype=null),r});var i,r,o,s,a,l=Function.prototype.call,c=Array.prototype,u=Object.prototype,d=c.slice,h=l.bind(u.toString),p=l.bind(u.hasOwnProperty);if((a=p(u,"__defineGetter__"))&&(i=l.bind(u.__defineGetter__),r=l.bind(u.__defineSetter__),o=l.bind(u.__lookupGetter__),s=l.bind(u.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=Array(e+2);return t[0]=t[1]=0,t}var t,n=[];return n.splice.apply(n,e(20)),n.splice.apply(n,e(26)),t=n.length,n.splice(5,0,"XXX"),t+1==n.length,t+1==n.length?!0:void 0}()){var f=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?f.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(d.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var n=this.length;e>0?e>n&&(e=n):void 0==e?e=0:0>e&&(e=Math.max(n+e,0)),n>e+t||(t=n-e);var i=this.slice(e,e+t),r=d.call(arguments,2),o=r.length;if(e===n)o&&this.push.apply(this,r);else{var s=Math.min(t,n-e),a=e+s,l=a+o-s,c=n-a,u=n-s;if(a>l)for(var h=0;c>h;++h)this[l+h]=this[a+h];else if(l>a)for(h=c;h--;)this[l+h]=this[a+h];if(o&&e===u)this.length=u,this.push.apply(this,r);else for(this.length=u+o,h=0;o>h;++h)this[e+h]=r[h]}return i};Array.isArray||(Array.isArray=function(e){return"[object Array]"==h(e)});var g=Object("a"),m="a"!=g[0]||!(0 in g);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=R(this),n=m&&"[object String]"==h(this)?this.split(""):t,i=arguments[1],r=-1,o=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError;for(;o>++r;)r in n&&e.call(i,n[r],r,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=R(this),n=m&&"[object String]"==h(this)?this.split(""):t,i=n.length>>>0,r=Array(i),o=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var s=0;i>s;s++)s in n&&(r[s]=e.call(o,n[s],s,t));return r}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,n=R(this),i=m&&"[object String]"==h(this)?this.split(""):n,r=i.length>>>0,o=[],s=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var a=0;r>a;a++)a in i&&(t=i[a],e.call(s,t,a,n)&&o.push(t));
return o}),Array.prototype.every||(Array.prototype.every=function(e){var t=R(this),n=m&&"[object String]"==h(this)?this.split(""):t,i=n.length>>>0,r=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var o=0;i>o;o++)if(o in n&&!e.call(r,n[o],o,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=R(this),n=m&&"[object String]"==h(this)?this.split(""):t,i=n.length>>>0,r=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var o=0;i>o;o++)if(o in n&&e.call(r,n[o],o,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=R(this),n=m&&"[object String]"==h(this)?this.split(""):t,i=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,o=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in n){r=n[o++];break}if(++o>=i)throw new TypeError("reduce of empty array with no initial value")}for(;i>o;o++)o in n&&(r=e.call(void 0,r,n[o],o,t));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=R(this),n=m&&"[object String]"==h(this)?this.split(""):t,i=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,o=i-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in n){r=n[o--];break}if(0>--o)throw new TypeError("reduceRight of empty array with no initial value")}do o in this&&(r=e.call(void 0,r,n[o],o,t));while(o--);return r}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var t=m&&"[object String]"==h(this)?this.split(""):R(this),i=t.length>>>0;if(!i)return-1;var r=0;for(arguments.length>1&&(r=n(arguments[1])),r=r>=0?r:Math.max(0,i+r);i>r;r++)if(r in t&&t[r]===e)return r;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var t=m&&"[object String]"==h(this)?this.split(""):R(this),i=t.length>>>0;if(!i)return-1;var r=i-1;for(arguments.length>1&&(r=Math.min(r,n(arguments[1]))),r=r>=0?r:i-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:u)}),!Object.getOwnPropertyDescriptor){var v="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(v+e);if(p(e,t)){var n,i,r;if(n={enumerable:!0,configurable:!0},a){var l=e.__proto__;e.__proto__=u;var i=o(e,t),r=s(e,t);if(e.__proto__=l,i||r)return i&&(n.get=i),r&&(n.set=r),n}return n.value=e[t],n}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var y;y=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var n;if(null===e)n=y();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var i=function(){};i.prototype=e,n=new i,n.__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n}}if(Object.defineProperty){var b=t({}),E="undefined"==typeof document||t(document.createElement("div"));if(!b||!E)var C=Object.defineProperty}if(!Object.defineProperty||C){var _="Property description must be an object: ",w="Object.defineProperty called on non-object: ",A="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(w+e);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError(_+n);if(C)try{return C.call(Object,e,t,n)}catch(l){}if(p(n,"value"))if(a&&(o(e,t)||s(e,t))){var c=e.__proto__;e.__proto__=u,delete e[t],e[t]=n.value,e.__proto__=c}else e[t]=n.value;else{if(!a)throw new TypeError(A);p(n,"get")&&i(e,t,n.get),p(n,"set")&&r(e,t,n.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var n in t)p(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(S){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";p(e,t);)t+="?";e[t]=!0;var n=p(e,t);return delete e[t],n}),!Object.keys){var D=!0,x=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],T=x.length;for(var k in{toString:null})D=!1;Object.keys=function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var t=[];for(var n in e)p(e,n)&&t.push(n);if(D)for(var i=0,r=T;r>i;i++){var o=x[i];p(e,o)&&t.push(o)}return t}}Date.now||(Date.now=function(){return(new Date).getTime()});var F="	\n\f\r \u2028\u2029";if(!String.prototype.trim||F.trim()){F="["+F+"]";var N=RegExp("^"+F+F+"*"),M=RegExp(F+F+"*$");String.prototype.trim=function(){return(this+"").replace(N,"").replace(M,"")}}var R=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e){"use strict";e("./regexp"),e("./es5-shim")}),define("ace/lib/dom",["require","exports","module"],function(e,t){"use strict";var n="http://www.w3.org/1999/xhtml";t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||n,e):document.createElement(e)},t.hasCssClass=function(e,t){var n=(e.className||"").split(/\s+/g);return-1!==n.indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var i=n.indexOf(t);if(-1==i)break;n.splice(i,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),i=!0;;){var r=n.indexOf(t);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(t),e.className=n.join(" "),i},t.setCssClass=function(e,n,i){i?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,i=0;if(t=t||document,t.createStyleSheet&&(n=t.styleSheets)){for(;n.length>i;)if(n[i++].owningElement.id===e)return!0}else if(n=t.getElementsByTagName("style"))for(;n.length>i;)if(n[i++].id===e)return!0;return!1},t.importCssString=function(e,i,r){if(r=r||document,i&&t.hasCssString(i,r))return null;var o;r.createStyleSheet?(o=r.createStyleSheet(),o.cssText=e,i&&(o.owningElement.id=i)):(o=r.createElementNS?r.createElementNS(n,"style"):r.createElement("style"),o.appendChild(r.createTextNode(e)),i&&(o.id=i),t.getDocumentHead(r).appendChild(o))},t.importCssStylsheet=function(e,n){if(n.createStyleSheet)n.createStyleSheet(e);else{var i=t.createElement("link");i.rel="stylesheet",i.href=e,t.getDocumentHead(n).appendChild(i)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},"undefined"!=typeof document&&(void 0!==window.pageYOffset?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),t.computedStyle=window.getComputedStyle?function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=t.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var o=e.documentElement;o.appendChild(i);var s=n.offsetWidth;r.overflow="scroll";var a=n.offsetWidth;return s==a&&(a=i.clientWidth),o.removeChild(i),s-a},t.setInnerHtml=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,e.parentNode.replaceChild(n,e),n},"textContent"in document.documentElement?(t.setInnerText=function(e,t){e.textContent=t},t.getInnerText=function(e){return e.textContent}):(t.setInnerText=function(e,t){e.innerText=t},t.getInnerText=function(e){return e.innerText}),t.getParentWindow=function(e){return e.defaultView||e.parentWindow})}),define("ace/lib/oop",["require","exports","module"],function(e,t){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}}),define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(e,t){"use strict";e("./fixoldbrowsers");var n=e("./oop"),i=function(){var e,t,i={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}};for(t in i.FUNCTION_KEYS)e=i.FUNCTION_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);for(t in i.PRINTABLE_KEYS)e=i.PRINTABLE_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);return n.mixin(i,i.MODIFIER_KEYS),n.mixin(i,i.PRINTABLE_KEYS),n.mixin(i,i.FUNCTION_KEYS),i.enter=i["return"],i.escape=i.esc,i.del=i["delete"],i[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)i.KEY_MODS[t]=e.filter(function(e){return t&i.KEY_MODS[e]}).join("-")+"-"}(),i.KEY_MODS[0]="",i.KEY_MODS[-1]="input",i}();n.mixin(t,i),t.keyCodeToString=function(e){var t=i[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}}),define("ace/lib/useragent",["require","exports","module"],function(e,t){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==typeof navigator){var n=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),i=navigator.userAgent;t.isWin="win"==n,t.isMac="mac"==n,t.isLinux="linux"==n,t.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&9>t.isIE,t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,t.isOldGecko=t.isGecko&&4>parseInt((i.match(/rv\:(\d+)/)||[])[1],10),t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(i.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(i.split(" Chrome/")[1])||void 0,t.isAIR=i.indexOf("AdobeAIR")>=0,t.isIPad=i.indexOf("iPad")>=0,t.isTouchPad=i.indexOf("TouchPad")>=0,t.isChromeOS=i.indexOf(" CrOS ")>=0}}),define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t){"use strict";function n(e,t,n){var l=o(t);if(!r.isMac&&s){if((s[91]||s[92])&&(l|=8),s.altGr){if(3==(3&l))return;s.altGr=0}if(18===n||17===n){var c="location"in t?t.location:t.keyLocation;if(17===n&&1===c)a=t.timeStamp;else if(18===n&&3===l&&2===c){var u=-a;a=t.timeStamp,u+=a,3>u&&(s.altGr=!0)}}}if(n in i.MODIFIER_KEYS){switch(i.MODIFIER_KEYS[n]){case"Alt":l=2;break;case"Shift":l=4;break;case"Ctrl":l=1;break;default:l=8}n=-1}if(8&l&&(91===n||93===n)&&(n=-1),!l&&13===n){var c="location"in t?t.location:t.keyLocation;if(3===c&&(e(t,l,-n),t.defaultPrevented))return}if(r.isChromeOS&&8&l){if(e(t,l,n),t.defaultPrevented)return;l&=-9}return l||n in i.FUNCTION_KEYS||n in i.PRINTABLE_KEYS?e(t,l,n):!1}var i=e("./keys"),r=e("./useragent");t.addListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent){var i=function(){n.call(e,window.event)};n._wrapper=i,e.attachEvent("on"+t,i)}},t.removeListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):(e.detachEvent&&e.detachEvent("on"+t,n._wrapper||n),void 0)},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||r.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,n,i){function r(e){n&&n(e),i&&i(e),t.removeListener(document,"mousemove",n,!0),t.removeListener(document,"mouseup",r,!0),t.removeListener(document,"dragstart",r,!0)}return t.addListener(document,"mousemove",n,!0),t.addListener(document,"mouseup",r,!0),t.addListener(document,"dragstart",r,!0),r},t.addMouseWheelListener=function(e,n){"onmousewheel"in e?t.addListener(e,"mousewheel",function(e){var t=8;void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/t,e.wheelY=-e.wheelDeltaY/t):(e.wheelX=0,e.wheelY=-e.wheelDelta/t),n(e)}):"onwheel"in e?t.addListener(e,"wheel",function(e){var t=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*t||0,e.wheelY=e.deltaY*t||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}n(e)}):t.addListener(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),n(e)})},t.addMultiMouseDownListener=function(e,n,i,o){var s,a,l,c=0,u={2:"dblclick",3:"tripleclick",4:"quadclick"};t.addListener(e,"mousedown",function(e){if(0!==t.getButton(e)?c=0:e.detail>1?(c++,c>4&&(c=1)):c=1,r.isIE){var d=Math.abs(e.clientX-s)>5||Math.abs(e.clientY-a)>5;(!l||d)&&(c=1),l&&clearTimeout(l),l=setTimeout(function(){l=null},n[c-1]||600),1==c&&(s=e.clientX,a=e.clientY)}if(e._clicks=c,i[o]("mousedown",e),c>4)c=0;else if(c>1)return i[o](u[c],e)}),r.isOldIE&&t.addListener(e,"dblclick",function(e){c=2,l&&clearTimeout(l),l=setTimeout(function(){l=null},n[c-1]||600),i[o]("mousedown",e),i[o](u[c],e)})};var o=!r.isMac||!r.isOpera||"KeyboardEvent"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};t.getModifierString=function(e){return i.KEY_MODS[o(e)]};var s=null,a=0;if(t.addCommandKeyListener=function(e,i){var o=t.addListener;if(r.isOldGecko||r.isOpera&&!("KeyboardEvent"in window)){var a=null;o(e,"keydown",function(e){a=e.keyCode}),o(e,"keypress",function(e){return n(i,e,a)})}else{var l=null;o(e,"keydown",function(e){s[e.keyCode]=!0;var t=n(i,e,e.keyCode);return l=e.defaultPrevented,t}),o(e,"keypress",function(e){l&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),l=null)}),o(e,"keyup",function(e){s[e.keyCode]=null}),s||(s=Object.create(null),o(window,"focus",function(){s=Object.create(null)}))}},window.postMessage&&!r.isOldIE){var l=1;t.nextTick=function(e,n){n=n||window;var i="zero-timeout-message-"+l;t.addListener(n,"message",function r(o){o.data==i&&(t.stopPropagation(o),t.removeListener(n,"message",r),e())}),n.postMessage(i,"*")}}t.nextFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame,t.nextFrame=t.nextFrame?t.nextFrame.bind(window):function(e){setTimeout(e,17)}}),define("ace/lib/lang",["require","exports","module"],function(e,t){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var n=/^\s\s*/,i=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(n,"")},t.stringTrimRight=function(e){return e.replace(i,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,i=e.length;i>n;n++)t[n]=e[n]&&"object"==typeof e[n]?this.copyObject(e[n]):e[n];return t},t.deepCopy=function(e){if("object"!=typeof e||!e)return e;var n=e.constructor;if(n===RegExp)return e;var i=n();for(var r in e)i[r]="object"==typeof e[r]?t.deepCopy(e[r]):e[r];return i},t.arrayToMap=function(e){for(var t={},n=0;e.length>n;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;e.length>=n;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},i=function(e){return i.cancel(),t=setTimeout(n,e||0),i};return i.schedule=i,i.call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(t),t=null,i},i.isPending=function(){return t},i},t.delayedCall=function(e,t){var n=null,i=function(){n=null,e()},r=function(e){null==n&&(n=setTimeout(i,e||t))};return r.delay=function(e){n&&clearTimeout(n),n=setTimeout(i,e||t)},r.schedule=r,r.call=function(){this.cancel(),e()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}}),define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(e,t){"use strict";var n=e("../lib/event"),i=e("../lib/useragent"),r=e("../lib/dom"),o=e("../lib/lang"),s=18>i.isChrome,a=i.isIE,l=function(e,t){function l(e){if(!g){if(T)t=0,n=e?0:d.value.length-1;else var t=e?2:1,n=2;try{d.setSelectionRange(t,n)}catch(i){}}}function c(){g||(d.value=h,i.isWebKit&&C.schedule())}function u(){clearTimeout(V),V=setTimeout(function(){m&&(d.style.cssText=m,m=""),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},i.isOldIE?200:0)}var d=r.createElement("textarea");d.className="ace_text-input",i.isTouchPad&&d.setAttribute("x-palm-disable-auto-cap",!0),d.setAttribute("wrap","off"),d.setAttribute("autocorrect","off"),d.setAttribute("autocapitalize","off"),d.setAttribute("spellcheck",!1),d.style.opacity="0",i.isOldIE&&(d.style.top="-100px"),e.insertBefore(d,e.firstChild);var h="",p=!1,f=!1,g=!1,m="",v=!0;try{var y=document.activeElement===d}catch(b){}n.addListener(d,"blur",function(e){t.onBlur(e),y=!1}),n.addListener(d,"focus",function(e){y=!0,t.onFocus(e),l()}),this.focus=function(){d.style.position="fixed",d.style.top="-10000000px",d.focus(),setTimeout(function(){d.style.position=""},0)},this.blur=function(){d.blur()},this.isFocused=function(){return y};var E=o.delayedCall(function(){y&&l(v)}),C=o.delayedCall(function(){g||(d.value=h,y&&l())});i.isWebKit||t.addEventListener("changeSelection",function(){t.selection.isEmpty()!=v&&(v=!v,E.schedule())}),c(),y&&t.onFocus();var _=function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length};if(!d.setSelectionRange&&d.createTextRange&&(d.setSelectionRange=function(e,t){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t),n.select()},_=function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?t.text==e.value:!1}),i.isOldIE){var w=!1,A=function(e){if(!w){var t=d.value;if(!g&&t&&t!=h){if(e&&t==h[0])return S.schedule();F(t),w=!0,c(),w=!1}}},S=o.delayedCall(A);n.addListener(d,"propertychange",A);var D={13:1,27:1};n.addListener(d,"keyup",function(e){return!g||d.value&&!D[e.keyCode]||setTimeout($,0),129>(d.value.charCodeAt(0)||0)?S.call():(g?P():B(),void 0)}),n.addListener(d,"keydown",function(){S.schedule(50)})}var x=function(){p?p=!1:_(d)?(t.selectAll(),l()):T&&l(t.selection.isEmpty())},T=null;this.setInputHandler=function(e){T=e},this.getInputHandler=function(){return T};var k=!1,F=function(e){T&&(e=T(e),T=null),f?(l(),e&&t.onPaste(e),f=!1):e==h.charAt(0)?k?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"}):(e.substring(0,2)==h?e=e.substr(2):e.charAt(0)==h.charAt(0)?e=e.substr(1):e.charAt(e.length-1)==h.charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)==h.charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),k&&(k=!1)},N=function(){if(!g){var e=d.value;F(e),c()}},M=function(e,t){var n=e.clipboardData||window.clipboardData;if(n&&!s){var i=a?"Text":"text/plain";return t?n.setData(i,t)!==!1:n.getData(i)}},R=function(e,i){var r=t.getCopyText();return r?(M(e,r)?(i?t.onCut():t.onCopy(),n.preventDefault(e)):(p=!0,d.value=r,d.select(),setTimeout(function(){p=!1,c(),l(),i?t.onCut():t.onCopy()})),void 0):n.preventDefault(e)},L=function(e){R(e,!0)},I=function(e){R(e,!1)},O=function(e){var r=M(e);"string"==typeof r?(r&&t.onPaste(r),i.isIE&&setTimeout(l),n.preventDefault(e)):(d.value="",f=!0)};n.addCommandKeyListener(d,t.onCommandKey.bind(t)),n.addListener(d,"select",x),n.addListener(d,"input",N),n.addListener(d,"cut",L),n.addListener(d,"copy",I),n.addListener(d,"paste",O),"oncut"in d&&"oncopy"in d&&"onpaste"in d||n.addListener(e,"keydown",function(e){if((!i.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:I(e);break;case 86:O(e);break;case 88:L(e)}});var B=function(){g||!t.onCompositionStart||t.$readOnly||(g={},t.onCompositionStart(),setTimeout(P,0),t.on("mousedown",$),t.selection.isEmpty()||(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup())},P=function(){if(g&&t.onCompositionUpdate&&!t.$readOnly){var e=d.value.replace(/\x01/g,"");if(g.lastValue!==e&&(t.onCompositionUpdate(e),g.lastValue&&t.undo(),g.lastValue=e,g.lastValue)){var n=t.selection.getRange();t.insert(g.lastValue),t.session.markUndoGroup(),g.range=t.selection.getRange(),t.selection.setRange(n),t.selection.clearSelection()}}},$=function(e){if(t.onCompositionEnd&&!t.$readOnly){var n=g;g=!1;var i=setTimeout(function(){i=null;var e=d.value.replace(/\x01/g,"");g||(e==n.lastValue?c():!n.lastValue&&e&&(c(),F(e)))});T=function(e){return i&&clearTimeout(i),e=e.replace(/\x01/g,""),e==n.lastValue?"":(n.lastValue&&i&&t.undo(),e)},t.onCompositionEnd(),t.removeListener("mousedown",$),"compositionend"==e.type&&n.range&&t.selection.setRange(n.range)}},U=o.delayedCall(P,50);n.addListener(d,"compositionstart",B),i.isGecko?n.addListener(d,"text",function(){U.schedule()}):(n.addListener(d,"keyup",function(){U.schedule()}),n.addListener(d,"keydown",function(){U.schedule()})),n.addListener(d,"compositionend",$),this.getElement=function(){return d},this.setReadOnly=function(e){d.readOnly=e},this.onContextMenu=function(e){k=!0,l(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,o){if(o||!i.isOldIE){m||(m=d.style.cssText),d.style.cssText=(o?"z-index:100000;":"")+"height:"+d.style.height+";"+(i.isIE?"opacity:0.1;":"");var s=t.container.getBoundingClientRect(),a=r.computedStyle(t.container),l=s.top+(parseInt(a.borderTopWidth)||0),c=s.left+(parseInt(s.borderLeftWidth)||0),h=s.bottom-l-d.clientHeight-2,p=function(e){d.style.left=e.clientX-c-2+"px",d.style.top=Math.min(e.clientY-l-2,h)+"px"};p(e),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),i.isWin&&!i.isOldIE&&n.capture(t.container,p,u))}},this.onContextMenuClose=u;var V,j=function(e){t.textInput.onContextMenu(e),u()};n.addListener(t.renderer.scroller,"contextmenu",j),n.addListener(d,"contextmenu",j)};t.TextInput=l}),define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t){"use strict";function n(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));var n=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];n.forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function i(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}function r(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)var n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return 0>n?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}e("../lib/dom"),e("../lib/event"),e("../lib/useragent");var o=0;(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,r=e.getButton();if(0!==r){var o=i.getSelectionRange(),s=o.isEmpty();return i.$blockScrolling++,s&&i.selection.moveToPosition(n),i.$blockScrolling--,i.textInput.onContextMenu(e.domEvent),void 0}return this.mousedownEvent.time=Date.now(),!t||i.isFocused()||(i.focus(),!this.$focusTimout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),this.captureMouse(e),void 0)},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++,this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"),n.$blockScrolling--},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(t.$blockScrolling++,this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var o=r(this.$clickSelection,n);n=o.cursor,e=o.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.$blockScrolling--,t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),o=n.selection[e](i.row,i.column);if(n.$blockScrolling++,this.$clickSelection){var s=this.$clickSelection.comparePoint(o.start),a=this.$clickSelection.comparePoint(o.end);if(-1==s&&0>=a)t=this.$clickSelection.end,(o.end.row!=i.row||o.end.column!=i.column)&&(i=o.start);else if(1==a&&s>=0)t=this.$clickSelection.start,(o.start.row!=i.row||o.start.column!=i.column)&&(i=o.end);else if(-1==s&&1==a)i=o.end,t=o.start;else{var l=r(this.$clickSelection,i);i=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.$blockScrolling--,n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>o||t-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,i=n.session,r=i.getBracketRange(t);r?(r.isEmpty()&&(r.start.column--,r.end.column++),this.setState("select")):(r=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=r,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),i=this.editor,r=i.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);return r||200>n?(this.$lastScrollTime=t,i.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(n.prototype),t.DefaultHandlers=n}),define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t){"use strict";function n(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}e("./lib/oop");var i=e("./lib/dom");(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){i.setInnerText(this.getElement(),e)},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){i.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(n.prototype),t.Tooltip=n}),define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t){"use strict";function n(e){function t(){var t=d.getDocumentPosition().row,i=l.$annotations[t];if(!i)return n();var r=a.session.getLength();if(t==r){var s=a.renderer.pixelToScreenCoordinates(0,d.y).row,u=d.$pos;if(s>a.session.documentToScreenRow(u.row,u.column))return n()}if(h!=i)if(h=i.text.join("<br/>"),c.setHtml(h),c.show(),a.on("mousewheel",n),e.$tooltipFollowsMouse)o(d);
else{var p=l.$cells[a.session.documentToScreenRow(t,0)].element,f=p.getBoundingClientRect(),g=c.getElement().style;g.left=f.right+"px",g.top=f.bottom+"px"}}function n(){u&&(u=clearTimeout(u)),h&&(c.hide(),h=null,a.removeEventListener("mousewheel",n))}function o(e){c.setPosition(e.x,e.y)}var a=e.editor,l=a.renderer.$gutterLayer,c=new i(a.container);e.editor.setDefaultHandler("guttermousedown",function(t){if(a.isFocused()&&0==t.getButton()){var n=l.getRegion(t);if("foldWidgets"!=n){var i=t.getDocumentPosition().row,r=a.session.selection;if(t.getShiftKey())r.selectTo(i,0);else{if(2==t.domEvent.detail)return a.selectAll(),t.preventDefault();e.$clickSelection=a.selection.getLineRange(i)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}}});var u,d,h;e.editor.setDefaultHandler("guttermousemove",function(i){var s=i.domEvent.target||i.domEvent.srcElement;return r.hasCssClass(s,"ace_fold-widget")?n():(h&&e.$tooltipFollowsMouse&&o(i),d=i,u||(u=setTimeout(function(){u=null,d&&!e.isMousePressed?t():n()},50)),void 0)}),s.addListener(a.renderer.$gutter,"mouseout",function(){d=null,h&&!u&&(u=setTimeout(function(){u=null,n()},50))}),a.on("changeSession",n)}function i(e){a.call(this,e)}var r=e("../lib/dom"),o=e("../lib/oop"),s=e("../lib/event"),a=e("../tooltip").Tooltip;o.inherits(i,a),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),o=this.getHeight();e+=15,t+=15,e+r>n&&(e-=e+r-n),t+o>i&&(t-=20+o),a.prototype.setPosition.call(this,e,t)}}.call(i.prototype),t.GutterHandler=n}),define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t){"use strict";var n=e("../lib/event"),i=e("../lib/useragent"),r=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(r.prototype)}),define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t){"use strict";function n(e){function t(e,t){var n=Date.now(),r=!t||e.row!=t.row,o=!t||e.column!=t.column;if(!T||r||o)m.$blockScrolling+=1,m.moveCursorToPosition(e),m.$blockScrolling-=1,T=n,k={x:E,y:C};else{var s=i(k.x,k.y,E,C);s>c?T=null:n-T>=l&&(m.renderer.scrollCursorIntoView(),T=null)}}function n(e,t){var n=Date.now(),i=m.renderer.layerConfig.lineHeight,r=m.renderer.layerConfig.characterWidth,o=m.renderer.scroller.getBoundingClientRect(),s={x:{left:E-o.left,right:o.right-E},y:{top:C-o.top,bottom:o.bottom-C}},l=Math.min(s.x.left,s.x.right),c=Math.min(s.y.top,s.y.bottom),u={row:e.row,column:e.column};2>=l/r&&(u.column+=s.x.left<s.x.right?-3:2),1>=c/i&&(u.row+=s.y.top<s.y.bottom?-1:1);var d=e.row!=u.row,h=e.column!=u.column,p=!t||e.row!=t.row;d||h&&!p?x?n-x>=a&&m.renderer.scrollCursorIntoView(u):x=n:x=null}function u(){var e=A;A=m.renderer.screenToTextCoordinates(E,C),t(A,e),n(A,e)}function d(){w=m.selection.toOrientedRange(),b=m.session.addMarker(w,"ace_selection",m.getSelectionStyle()),m.clearSelection(),m.isFocused()&&m.renderer.$cursorLayer.setBlinking(!1),clearInterval(_),u(),_=setInterval(u,20),N=0,o.addListener(document,"mousemove",p)}function h(){clearInterval(_),m.session.removeMarker(b),b=null,m.$blockScrolling+=1,m.selection.fromOrientedRange(w),m.$blockScrolling-=1,m.isFocused()&&!D&&m.renderer.$cursorLayer.setBlinking(!m.getReadOnly()),w=null,A=null,N=0,x=null,T=null,o.removeListener(document,"mousemove",p)}function p(){null==M&&(M=setTimeout(function(){null!=M&&b&&h()},20))}function f(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return"text/plain"==e||"Text"==e})}function g(e){var t=["copy","copymove","all","uninitialized"],n=["move","copymove","linkmove","all","uninitialized"],i=s.isMac?e.altKey:e.ctrlKey,r="uninitialized";try{r=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var o="none";return i&&t.indexOf(r)>=0?o="copy":n.indexOf(r)>=0?o="move":t.indexOf(r)>=0&&(o="copy"),o}var m=e.editor,v=r.createElement("img");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",s.isOpera&&(v.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var y=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];y.forEach(function(t){e[t]=this[t]},this),m.addEventListener("mousedown",this.onMouseDown.bind(e));var b,E,C,_,w,A,S,D,x,T,k,F=m.container,N=0;this.onDragStart=function(e){if(this.cancelDrag||!F.draggable){var t=this;return setTimeout(function(){t.startSelect(),t.captureMouse(e)},0),e.preventDefault()}w=m.getSelectionRange();var n=e.dataTransfer;n.effectAllowed=m.getReadOnly()?"copy":"copyMove",s.isOpera&&(m.container.appendChild(v),v.scrollTop=0),n.setDragImage&&n.setDragImage(v,0,0),s.isOpera&&m.container.removeChild(v),n.clearData(),n.setData("Text",m.session.getTextRange()),D=!0,this.setState("drag")},this.onDragEnd=function(e){if(F.draggable=!1,D=!1,this.setState(null),!m.getReadOnly()){var t=e.dataTransfer.dropEffect;S||"move"!=t||m.session.remove(m.getSelectionRange()),m.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){return!m.getReadOnly()&&f(e.dataTransfer)?(E=e.clientX,C=e.clientY,b||d(),N++,e.dataTransfer.dropEffect=S=g(e),o.preventDefault(e)):void 0},this.onDragOver=function(e){return!m.getReadOnly()&&f(e.dataTransfer)?(E=e.clientX,C=e.clientY,b||(d(),N++),null!==M&&(M=null),e.dataTransfer.dropEffect=S=g(e),o.preventDefault(e)):void 0},this.onDragLeave=function(e){return N--,0>=N&&b?(h(),S=null,o.preventDefault(e)):void 0},this.onDrop=function(e){if(A){var t=e.dataTransfer;if(D)switch(S){case"move":w=w.contains(A.row,A.column)?{start:A,end:A}:m.moveText(w,A);break;case"copy":w=m.moveText(w,A,!0)}else{var n=t.getData("Text");w={start:A,end:m.session.insert(A,n)},m.focus(),S=null}return h(),o.preventDefault(e)}},o.addListener(F,"dragstart",this.onDragStart.bind(e)),o.addListener(F,"dragend",this.onDragEnd.bind(e)),o.addListener(F,"dragenter",this.onDragEnter.bind(e)),o.addListener(F,"dragover",this.onDragOver.bind(e)),o.addListener(F,"dragleave",this.onDragLeave.bind(e)),o.addListener(F,"drop",this.onDrop.bind(e));var M=null}function i(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}var r=e("../lib/dom"),o=e("../lib/event"),s=e("../lib/useragent"),a=200,l=200,c=5;(function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;e>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor,t=e.container;t.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var n=s.isWin?"default":"move";e.renderer.setCursorStyle(n),this.setState("dragReady")},this.onMouseDrag=function(){var e=this.editor.container;if(s.isIE&&"dragReady"==this.state){var t=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);t>3&&e.dragDrop()}if("dragWait"===this.state){var t=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);t>0&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),i=e.getButton(),r=e.domEvent.detail||1;if(1===r&&0===i&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in o&&(o.unselectable="on"),t.getDragDelay()){if(s.isWebKit){this.cancelDrag=!0;var a=t.container;a.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(n.prototype),t.DragdropHandler=n}),define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t){"use strict";var n=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var i=n.getDocumentHead(),r=document.createElement("script");r.src=e,i.appendChild(r),r.onload=r.onreadystatechange=function(e,n){(n||!r.readyState||"loaded"==r.readyState||"complete"==r.readyState)&&(r=r.onload=r.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),define("ace/lib/event_emitter",["require","exports","module"],function(e,t){"use strict";var n={},i=function(){this.propagationStopped=!0},r=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],o=this._defaultHandlers[e];if(n.length||o){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=r),n=n.slice();for(var s=0;n.length>s&&(n[s](t,this),!t.propagationStopped);s++);return o&&!t.defaultPrevented?o(t,this):void 0}},n._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var i=0;n.length>i;i++)n[i](t,this)}},n.once=function(e,t){var n=this;t&&this.addEventListener(e,function i(){n.removeEventListener(e,i),t.apply(null,arguments)})},n.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var i=n[e],r=n._disabled_[e];r||(n._disabled_[e]=r=[]),r.push(i);var o=r.indexOf(t);-1!=o&&r.splice(o,1)}n[e]=t},n.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var i=n._disabled_[e];if(n[e]==t)n[e],i&&this.setDefaultHandler(e,i.pop());else if(i){var r=i.indexOf(t);-1!=r&&i.splice(r,1)}}},n.on=n.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return i||(i=this._eventRegistry[e]=[]),-1==i.indexOf(t)&&i[n?"unshift":"push"](t),t},n.off=n.removeListener=n.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},n.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=n}),define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t){"no use strict";function n(){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function i(e,t){var n=Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout(function(){throw n})}var r=e("./oop"),o=e("./event_emitter").EventEmitter,s={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};return e?Array.isArray(e)||(t=e,e=Object.keys(t)):e=Object.keys(this.$options),e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]!==t){var i=this.$options[e];if(!i)return n('misspelled option "'+e+'"');if(i.forwardTo)return this[i.forwardTo]&&this[i.forwardTo].setOption(e,t);i.handlesSet||(this["$"+e]=t),i&&i.set&&i.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:n('misspelled option "'+e+'"')}},a=function(){this.$defaultOptions={}};(function(){r.implement(this,o),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach(function(t){var i=n[t];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=t),e.$options[i.name]=i,"initialValue"in i&&(e["$"+i.name]=i.initialValue)}),r.implement(e,s),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)})},this.setDefaultValue=function(e,t,n){var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[t]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,t,n):i[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach(function(n){this.setDefaultValue(e,n,t[n])},this)},this.warn=n,this.reportError=i}).call(a.prototype),t.AppConfig=a}),define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(e,t,n){"no use strict";function i(i){if(c.packaged=i||e.packaged||n.packaged||l.define&&define.packaged,!l.document)return"";for(var o={},s="",a=document.currentScript||document._currentScript,u=a&&a.ownerDocument||document,d=u.getElementsByTagName("script"),h=0;d.length>h;h++){var p=d[h],f=p.src||p.getAttribute("src");if(f){for(var g=p.attributes,m=0,v=g.length;v>m;m++){var y=g[m];0===y.name.indexOf("data-ace-")&&(o[r(y.name.replace(/^data-ace-/,""))]=y.value)}var b=f.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);b&&(s=b[1])}}s&&(o.base=o.base||s,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base;for(var E in o)o[E]!==void 0&&t.set(E,o[E])}function r(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var o=e("./lib/lang");e("./lib/oop");var s=e("./lib/net"),a=e("./lib/app_config").AppConfig;n.exports=t=new a;var l=function(){return this}(),c={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};t.get=function(e){if(!c.hasOwnProperty(e))throw Error("Unknown config key: "+e);return c[e]},t.set=function(e,t){if(!c.hasOwnProperty(e))throw Error("Unknown config key: "+e);c[e]=t},t.all=function(){return o.copyObject(c)},t.moduleUrl=function(e,t){if(c.$moduleUrls[e])return c.$moduleUrls[e];var n=e.split("/");t=t||n[n.length-2]||"";var i="snippets"==t?"/":"-",r=n[n.length-1];if("worker"==t&&"-"==i){var o=RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");r=r.replace(o,"")}(!r||r==t)&&n.length>1&&(r=n[n.length-2]);var s=c[t+"Path"];return null==s?s=c.basePath:"/"==i&&(t=i=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+i+r+this.get("suffix")},t.setModuleUrl=function(e,t){return c.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,i){var r,o;Array.isArray(n)&&(o=n[0],n=n[1]);try{r=e(n)}catch(a){}if(r&&!t.$loading[n])return i&&i(r);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(i),!(t.$loading[n].length>1)){var l=function(){e([n],function(e){t._emit("load.module",{name:n,module:e});var i=t.$loading[n];t.$loading[n]=null,i.forEach(function(t){t&&t(e)})})};return t.get("packaged")?(s.loadScript(t.moduleUrl(n,o),l),void 0):l()}},i(!0),t.init=i}),define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(e,t){"use strict";var n=e("../lib/event"),i=e("../lib/useragent"),r=e("./default_handlers").DefaultHandlers,o=e("./default_gutter_handler").GutterHandler,s=e("./mouse_event").MouseEvent,a=e("./dragdrop_handler").DragdropHandler,l=e("../config"),c=function(e){var t=this;this.editor=e,new r(this),new o(this),new a(this);var s=function(){document.hasFocus&&document.hasFocus()||window.focus(),e.focus()},l=e.renderer.getMouseEventTarget();n.addListener(l,"click",this.onMouseEvent.bind(this,"click")),n.addListener(l,"mousemove",this.onMouseMove.bind(this,"mousemove")),n.addMultiMouseDownListener(l,[400,300,250],this,"onMouseEvent"),e.renderer.scrollBarV&&(n.addMultiMouseDownListener(e.renderer.scrollBarV.inner,[400,300,250],this,"onMouseEvent"),n.addMultiMouseDownListener(e.renderer.scrollBarH.inner,[400,300,250],this,"onMouseEvent"),i.isIE&&(n.addListener(e.renderer.scrollBarV.element,"mousedown",s),n.addListener(e.renderer.scrollBarH.element,"mousedown",s))),n.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"));var c=e.renderer.$gutter;n.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),n.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick")),n.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),n.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),n.addListener(l,"mousedown",s),n.addListener(c,"mousedown",function(t){return e.focus(),n.preventDefault(t)}),e.on("mousemove",function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var i=e.renderer.screenToTextCoordinates(n.x,n.y),r=e.session.selection.getRange(),o=e.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?o.setCursorStyle("default"):o.setCursorStyle("")}})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new s(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new s(t,this.editor))},this.onMouseWheel=function(e,t){var n=new s(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var r=this.editor.renderer;r.$keepTextAreaAtCursor&&(r.$keepTextAreaAtCursor=null);var o=this,a=function(e){if(e){if(i.isWebKit&&!e.which&&o.releaseMouse)return o.releaseMouse();o.x=e.clientX,o.y=e.clientY,t&&t(e),o.mouseEvent=new s(e,o.editor),o.$mouseMoved=!0}},l=function(e){clearInterval(u),c(),o[o.state+"End"]&&o[o.state+"End"](e),o.state="",null==r.$keepTextAreaAtCursor&&(r.$keepTextAreaAtCursor=!0,r.$moveTextAreaToCursor()),o.isMousePressed=!1,o.$onCaptureMouseMove=o.releaseMouse=null,e&&o.onMouseEvent("mouseup",e)},c=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(i.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){l(e)});o.$onCaptureMouseMove=a,o.releaseMouse=n.capture(this.editor.container,a,l);var u=setInterval(c,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&n.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(c.prototype),l.defineOptions(c.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:i.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=c}),define("ace/mouse/fold_handler",["require","exports","module"],function(e,t){"use strict";function n(e){e.on("click",function(t){var n=t.getDocumentPosition(),i=e.session,r=i.getFoldAt(n.row,n.column,1);r&&(t.getAccelKey()?i.removeFold(r):i.expandFold(r),t.stop())}),e.on("gutterclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var i=t.getDocumentPosition().row,r=e.session;r.foldWidgets&&r.foldWidgets[i]&&e.session.onFoldWidgetClick(i,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var i=t.getDocumentPosition().row,r=e.session,o=r.getParentFoldRangeData(i,!0),s=o.range||o.firstRange;if(s){i=s.start.row;var a=r.getFoldAt(i,r.getLine(i).length,1);a?r.removeFold(a):(r.addFold("...",s),e.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}t.stop()}})}t.FoldHandler=n}),define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t){"use strict";var n=e("../lib/keys"),i=e("../lib/event"),r=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1==t?!1:(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(t,e)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,r){for(var o,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&(o=this.$handlers[l].handleKeyboard(this.$data,e,t,n,r),!(o&&o.command&&(s="null"==o.command?!0:a.exec(o.command,this.$editor,o.args,r),s&&r&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&i.stopEvent(r),s))););return s},this.onCommandKey=function(e,t,i){var r=n.keyCodeToString(i);this.$callKeyboardHandlers(t,r,i,e)},this.onTextInput=function(e){var t=this.$callKeyboardHandlers(-1,e);t||this.$editor.commands.exec("insertstring",this.$editor,e)}}).call(r.prototype),t.KeyBinding=r}),define("ace/range",["require","exports","module"],function(e,t){"use strict";var n=function(e,t){return e.row-t.row||e.column-t.column},i=function(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,i=e.start;return t=this.compare(n.row,n.column),1==t?(t=this.compare(i.row,i.column),1==t?2:0==t?1:0):-1==t?-2:(t=this.compare(i.row,i.column),-1==t?-1:1==t?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)?this.isEnd(e,t)||this.isStart(e,t)?!1:!0:!1},this.insideStart=function(e,t){return 0==this.compare(e,t)?this.isEnd(e,t)?!1:!0:!1},this.insideEnd=function(e,t){return 0==this.compare(e,t)?this.isStart(e,t)?!1:!0:!1},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?this.start.row>e?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?this.end.column>=t?0:1:0:this.start.column>t?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(e>this.end.row)var n={row:e,column:0};if(this.start.row>t)var r={row:t+1,column:0};else if(e>this.start.row)var r={row:e,column:0};return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var r={row:e,column:t};else var o={row:e,column:t};return i.fromPoints(r||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=n,i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i}),define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/lang"),r=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,s=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection")})};(function(){n.implement(this,r),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty)return this.moveCursorTo(this.lead.row,this.lead.column+e),void 0;var t=this.getSelectionAnchor(),n=this.getSelectionLead(),i=this.isBackwards();i&&0===t.column||this.setSelectionAnchor(t.row,t.column+e),(i||0!==n.column)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+e)})},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(t===void 0){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,i="number"==typeof e?e:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,t===!0?new o(i,0,n,this.session.getLine(n).length):new o(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column-n,t.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),t=this.lead;this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column,t.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(e,null,i.row,i.column),o=r.match(/^\s*/);o[0].length==t||this.session.$useEmacsStyleLineStart||(i.column+=o[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var i=n.search(/\s+$/);i>0&&(t.column=i)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)
},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e,t=this.lead.row,n=this.lead.column,i=this.doc.getLine(t),r=i.substring(n);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var o=this.session.getFoldAt(t,n,1);return o?(this.moveCursorTo(o.end.row,o.end.column),void 0):((e=this.session.nonTokenRe.exec(r))&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=i.substring(n)),n>=i.length?(this.moveCursorTo(t,i.length),this.moveCursorRight(),this.doc.getLength()-1>t&&this.moveCursorWordRight(),void 0):((e=this.session.tokenRe.exec(r))&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n),void 0))},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column),void 0;var r=this.session.getFoldStringAt(t,n,-1);null==r&&(r=this.doc.getLine(t).substring(0,n));var o,s=i.stringReverse(r);return this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(o=this.session.nonTokenRe.exec(s))&&(n-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=n?(this.moveCursorTo(t,0),this.moveCursorLeft(),t>0&&this.moveCursorWordLeft(),void 0):((o=this.session.tokenRe.exec(s))&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n),void 0)},this.$shortWordEndIndex=function(e){var t,n,i=0,r=/\s/,o=this.session.tokenRe;if(o.lastIndex=0,t=this.session.tokenRe.exec(e))i=this.session.tokenRe.lastIndex;else{for(;(n=e[i])&&r.test(n);)i++;if(1>i)for(o.lastIndex=0;(n=e[i])&&!o.test(n);)if(o.lastIndex=0,i++,r.test(n)){if(i>2){i--;break}for(;(n=e[i])&&r.test(n);)i++;if(i>2)break}}return o.lastIndex=0,i},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t),r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==n.length){var o=this.doc.getLength();do e++,i=this.doc.getLine(e);while(o>e&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),t=0}var s=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+s)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getLine(t).substring(0,n);if(0===n){do t--,r=this.doc.getLine(t);while(t>0&&/^\s*$/.test(r));n=r.length,/\s+$/.test(r)||(r="")}var o=i.stringReverse(r),s=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var i=this.session.screenToDocumentPosition(n.row+e,n.column);0!==e&&0===t&&i.row===this.lead.row&&i.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[i.row]&&i.row++,this.moveCursorTo(i.row,i.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e.call(null,this);var n=this.getCursor();return o.fromPoints(t,n)}catch(i){return o.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{var e=this.getRange();e.isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=o.fromPoints(e[t].start,e[t].end);e.isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(s.prototype),t.Selection=s}),define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t){"use strict";var n=e("./config"),i=2e3,r=function(e){this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){for(var n=this.states[t],i=[],r=0,o=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;n.length>l;l++){var c=n[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&(s="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=(""+c.regex).slice(1,-1));var u=c.regex,d=RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==d?c.token=c.token[0]:d-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:d-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=d>1?this.$applyToken:c.token),d>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+r+1)}):(d=1,u=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),o[r]=l,r+=d,i.push(u),c.onMatch||(c.onMatch=null)}}i.length||(o[0]=0,i.push("$")),a.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)},this),this.regExps[t]=RegExp("("+i.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(e){i=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var i=[],r=0,o=n.length;o>r;r++)t[r]&&(i[i.length]={type:n[r],value:t[r]});return i},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],i=this.tokenArray,r=0,o=i.length;o>r;r++)t[r+1]&&(n[n.length]={type:i[r],value:t[r+1]});return n},this.removeCapturingGroups=function(e){var t=e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e});return t},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,i=!1,r={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,o,s,a,l){return i?i="]"!=a:a?i=!0:s?(n==r.stack&&(r.end=l+1,r.stack=-1),n--):o&&(n++,1!=o.length&&(r.stack=n,r.start=l)),e}),null!=r.end&&/^\)*$/.test(e.substr(r.end))&&(e=e.substring(0,r.start)+e.substr(r.end))}return RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);t=n[0],"#tmp"===t&&(n.shift(),t=n.shift())}else var n=[];var r=t||"start",o=this.states[r];o||(r="start",o=this.states[r]);var s=this.matchMappings[r],a=this.regExps[r];a.lastIndex=0;for(var l,c=[],u=0,d=0,h={type:null,value:""};l=a.exec(e);){var p=s.defaultToken,f=null,g=l[0],m=a.lastIndex;if(m-g.length>u){var v=e.substring(u,m-g.length);h.type==p?h.value+=v:(h.type&&c.push(h),h={type:p,value:v})}for(var y=0;l.length-2>y;y++)if(void 0!==l[y+1]){f=o[s[y]],p=f.onMatch?f.onMatch(g,r,n):f.token,f.next&&(r="string"==typeof f.next?f.next:f.next(r,n),o=this.states[r],o||(this.reportError("state doesn't exist",r),r="start",o=this.states[r]),s=this.matchMappings[r],u=m,a=this.regExps[r],a.lastIndex=m);break}if(g)if("string"==typeof p)f&&f.merge===!1||h.type!==p?(h.type&&c.push(h),h={type:p,value:g}):h.value+=g;else if(p){h.type&&c.push(h),h={type:null,value:""};for(var y=0;p.length>y;y++)c.push(p[y])}if(u==e.length)break;if(u=m,d++>i){for(d>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});e.length>u;)h.type&&c.push(h),h={value:e.substring(u,u+=2e3),type:"overflow"};r="start",n=[];break}}return h.type&&c.push(h),n.length>1&&n[0]!==r&&n.unshift("#tmp",r),{tokens:c,state:n.length?n:r}},this.reportError=n.reportError}).call(r.prototype),t.Tokenizer=r}),define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t){"use strict";var n=e("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var i=e[n],r=0;i.length>r;r++){var o=i[r];(o.next||o.onMatch)&&("string"!=typeof o.next?o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState):0!==o.next.indexOf(t)&&(o.next=t+o.next))}this.$rules[t+n]=i}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,i,r,o){var s="function"==typeof e?(new e).getRules():e;if(r)for(var a=0;r.length>a;a++)r[a]=t+r[a];else{r=[];for(var l in s)r.push(t+l)}if(this.addRules(s,t),i)for(var c=Array.prototype[o?"push":"unshift"],a=0;r.length>a;a++)c.apply(this.$rules[r[a]],n.deepCopy(i));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function n(o){var s=r[o];s.processed=!0;for(var a=0;s.length>a;a++){var l=s[a];!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var c=l.next||l.push;if(c&&Array.isArray(c)){var u=l.stateName;u||(u=l.token,"string"!=typeof u&&(u=u[0]||""),r[u]&&(u+=i++)),r[u]=c,l.next=u,n(u)}else"pop"==c&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var d in l.rules)r[d]?r[d].push&&r[d].push.apply(r[d],l.rules[d]):r[d]=l.rules[d];if(l.include||"string"==typeof l)var h=l.include||l,p=r[h];else Array.isArray(l)&&(p=l);if(p){var f=[a,1].concat(p);l.noEscape&&(f=f.filter(function(e){return!e.next})),s.splice.apply(s,f),a--,p=null}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}var i=0,r=this.$rules;Object.keys(r).forEach(n,this)},this.createKeywordMapper=function(e,t,n,i){var r=Object.create(null);return Object.keys(e).forEach(function(t){var o=e[t];n&&(o=o.toLowerCase());for(var s=o.split(i||"|"),a=s.length;a--;)r[s[a]]=t}),Object.getPrototypeOf(r)&&(r.__proto__=null),this.$keywordList=Object.keys(r),e=null,n?function(e){return r[e.toLowerCase()]||t}:function(e){return r[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),t.TextHighlightRules=i}),define("ace/mode/behaviour",["require","exports","module"],function(e,t){"use strict";var n=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else var n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;e.length>n;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(n.prototype),t.Behaviour=n}),define("ace/unicode",["require","exports","module"],function(e,t){"use strict";function n(e){var n=/\w{4}/g;for(var i in e)t.packages[i]=e[i].replace(n,"\\u$&")}t.packages={},n({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})
}),define("ace/token_iterator",["require","exports","module"],function(e,t){"use strict";var n=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;0>this.$tokenIndex;){if(this.$row-=1,0>this.$row)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var e;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)t-=1,n+=e[t].value.length;return n}}).call(n.prototype),t.TokenIterator=n}),define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t){"use strict";var n=e("../tokenizer").Tokenizer,i=e("./text_highlight_rules").TextHighlightRules,r=e("./behaviour").Behaviour,o=e("../unicode"),s=e("../lib/lang"),a=e("../token_iterator").TokenIterator,l=e("../range").Range,c=function(){this.HighlightRules=i,this.$behaviour=new r};(function(){this.tokenRe=RegExp("^["+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]+","g"),this.nonTokenRe=RegExp("^(?:[^"+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules,this.$tokenizer=new n(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,i){function r(e){for(var t=n;i>=t;t++)e(o.getLine(t),t)}var o=t.doc,a=!0,l=!0,c=1/0,u=t.getTabSize(),d=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var h=this.lineCommentStart.map(s.escapeRegExp).join("|"),p=this.lineCommentStart[0];else var h=s.escapeRegExp(this.lineCommentStart),p=this.lineCommentStart;h=RegExp("^(\\s*)(?:"+h+") ?"),d=t.getUseSoftTabs();var f=function(e,t){var n=e.match(h);if(n){var i=n[1].length,r=n[0].length;y(e,i,r)||" "!=n[0][r-1]||r--,o.removeInLine(t,i,r)}},g=p+" ",m=function(e,t){(!a||/\S/.test(e))&&(y(e,c,c)?o.insertInLine({row:t,column:c},g):o.insertInLine({row:t,column:c},p))},v=function(e){return h.test(e)},y=function(e,t,n){for(var i=0;t--&&" "==e.charAt(t);)i++;if(0!=i%u)return!1;for(var i=0;" "==e.charAt(n++);)i++;return u>2?i%u!=u-1:0==i%u}}else{if(!this.blockComment)return!1;var p=this.blockComment.start,b=this.blockComment.end,h=RegExp("^(\\s*)(?:"+s.escapeRegExp(p)+")"),E=RegExp("(?:"+s.escapeRegExp(b)+")\\s*$"),m=function(e,t){v(e,t)||(!a||/\S/.test(e))&&(o.insertInLine({row:t,column:e.length},b),o.insertInLine({row:t,column:c},p))},f=function(e,t){var n;(n=e.match(E))&&o.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(h))&&o.removeInLine(t,n[1].length,n[0].length)},v=function(e,n){if(h.test(e))return!0;for(var i=t.getTokens(n),r=0;i.length>r;r++)if("comment"===i[r].type)return!0}}var C=1/0;r(function(e,t){var n=e.search(/\S/);-1!==n?(c>n&&(c=n),l&&!v(e,t)&&(l=!1)):C>e.length&&(C=e.length)}),1/0==c&&(c=C,a=!1,l=!1),d&&0!=c%u&&(c=Math.floor(c/u)*u),r(l?f:m)},this.toggleBlockComment=function(e,t,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var o=new a(t,i.row,i.column),s=o.getCurrentToken();t.selection;var c,u,d=t.selection.toOrientedRange();if(s&&/comment/.test(s.type)){for(var h,p;s&&/comment/.test(s.type);){var f=s.value.indexOf(r.start);if(-1!=f){var g=o.getCurrentTokenRow(),m=o.getCurrentTokenColumn()+f;h=new l(g,m,g,m+r.start.length);break}s=o.stepBackward()}for(var o=new a(t,i.row,i.column),s=o.getCurrentToken();s&&/comment/.test(s.type);){var f=s.value.indexOf(r.end);if(-1!=f){var g=o.getCurrentTokenRow(),m=o.getCurrentTokenColumn()+f;p=new l(g,m,g,m+r.end.length);break}s=o.stepForward()}p&&t.remove(p),h&&(t.remove(h),c=h.start.row,u=-r.start.length)}else u=r.start.length,c=n.start.row,t.insert(n.end,r.end),t.insert(n.start,r.start);d.start.row==c&&(d.start.column+=u),d.end.row==c&&(d.end.column+=u),t.selection.fromOrientedRange(d)}},this.getNextLineIndent=function(e,t){return this.$getIndent(t)},this.checkOutdent=function(){return!1},this.autoOutdent=function(){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var t in e)e[t]&&(this.$embeds.push(t),this.$modes[t]=new e[t]);for(var n=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],t=0;n.length>t;t++)(function(e){var i=n[t],r=e[i];e[n[t]]=function(){return this.$delegator(i,arguments,r)}})(this)},this.$delegator=function(e,t,n){var i=t[0];"string"!=typeof i&&(i=i[0]);for(var r=0;this.$embeds.length>r;r++)if(this.$modes[this.$embeds[r]]){var o=i.split(this.$embeds[r]);if(!o[0]&&o[1]){t[0]=o[1];var s=this.$modes[this.$embeds[r]];return s[e].apply(s,t)}}var a=n.apply(this,t);return n?a:void 0},this.transformAction=function(e,t){if(this.$behaviour){var n=this.$behaviour.getBehaviours();for(var i in n)if(n[i][t]){var r=n[i][t].apply(this,arguments);if(r)return r}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var i in t)for(var r=t[i],o=0,s=r.length;s>o;o++)if("string"==typeof r[o].token)/keyword|support|storage/.test(r[o].token)&&n.push(r[o].regex);else if("object"==typeof r[o].token)for(var a=0,l=r[o].token.length;l>a;a++)if(/keyword|support|storage/.test(r[o].token[a])){var i=r[o].regex.match(/\(.+?\)/g)[a];n.push(i.substr(1,i.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(){var e=this.$keywordList||this.$createKeywordList();return e.map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(c.prototype),t.Mode=c}),define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,r=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),n===void 0?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){n.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){var t=e.data,n=t.range;if(!(n.start.row==n.end.row&&n.start.row!=this.row||n.start.row>this.row||n.start.row==this.row&&n.start.column>this.column)){var i=this.row,r=this.column,o=n.start,s=n.end;"insertText"===t.action?o.row===i&&r>=o.column?o.column===r&&this.$insertRight||(o.row===s.row?r+=s.column-o.column:(r-=o.column,i+=s.row-o.row)):o.row!==s.row&&i>o.row&&(i+=s.row-o.row):"insertLines"===t.action?o.row===i&&0===r&&this.$insertRight||i>=o.row&&(i+=s.row-o.row):"removeText"===t.action?o.row===i&&r>o.column?r=s.column>=r?o.column:Math.max(0,r-(s.column-o.column)):o.row!==s.row&&i>o.row?(s.row===i&&(r=Math.max(0,r-s.column)+o.column),i-=s.row-o.row):s.row===i&&(i-=s.row-o.row,r=Math.max(0,r-s.column)+o.column):"removeLines"==t.action&&i>=o.row&&(i>=s.row?i-=s.row-o.row:(i=o.row,r=0)),this.setPosition(i,r,!0)}},this.setPosition=function(e,t,n){var i;if(i=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):0>e?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),0>t&&(n.column=0),n}}).call(r.prototype)}),define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,r=e("./range").Range,o=e("./anchor").Anchor,s=function(e){this.$lines=[],0===e.length?this.$lines=[""]:Array.isArray(e)?this._insertLines(0,e):this.insert({row:0,column:0},e)};(function(){n.implement(this,i),this.setValue=function(e){var t=this.getLength();this.remove(new r(0,0,t,this.getLine(t-1).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new o(this,e,t)},this.$split=0==="aaa".split(/a/).length?function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){if(e.start.row==e.end.row)return this.getLine(e.start.row).substring(e.start.column,e.end.column);var t=this.getLines(e.start.row,e.end.row);t[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;return e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column)),t.join(this.getNewLineCharacter())},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):0>e.row&&(e.row=0),e},this.insert=function(e,t){if(!t||0===t.length)return e;e=this.$clipPosition(e),1>=this.getLength()&&this.$detectNewLine(t);var n=this.$split(t),i=n.splice(0,1)[0],r=0==n.length?null:n.splice(n.length-1,1)[0];return e=this.insertInLine(e,i),null!==r&&(e=this.insertNewLine(e),e=this._insertLines(e.row,n),e=this.insertInLine(e,r||"")),e},this.insertLines=function(e,t){return e>=this.getLength()?this.insert({row:e,column:0},"\n"+t.join("\n")):this._insertLines(Math.max(e,0),t)},this._insertLines=function(e,t){if(0==t.length)return{row:e,column:0};for(;t.length>61440;){var n=this._insertLines(e,t.slice(0,61440));t=t.slice(61440),e=n.row}var i=[e,0];i.push.apply(i,t),this.$lines.splice.apply(this.$lines,i);var o=new r(e,0,e+t.length,0),s={action:"insertLines",range:o,lines:t};return this._signal("change",{data:s}),o.end},this.insertNewLine=function(e){e=this.$clipPosition(e);var t=this.$lines[e.row]||"";this.$lines[e.row]=t.substring(0,e.column),this.$lines.splice(e.row+1,0,t.substring(e.column,t.length));var n={row:e.row+1,column:0},i={action:"insertText",range:r.fromPoints(e,n),text:this.getNewLineCharacter()};return this._signal("change",{data:i}),n},this.insertInLine=function(e,t){if(0==t.length)return e;var n=this.$lines[e.row]||"";this.$lines[e.row]=n.substring(0,e.column)+t+n.substring(e.column);var i={row:e.row,column:e.column+t.length},o={action:"insertText",range:r.fromPoints(e,i),text:t};return this._signal("change",{data:o}),i},this.remove=function(e){if(e instanceof r||(e=r.fromPoints(e.start,e.end)),e.start=this.$clipPosition(e.start),e.end=this.$clipPosition(e.end),e.isEmpty())return e.start;var t=e.start.row,n=e.end.row;if(e.isMultiLine()){var i=0==e.start.column?t:t+1,o=n-1;e.end.column>0&&this.removeInLine(n,0,e.end.column),o>=i&&this._removeLines(i,o),i!=t&&(this.removeInLine(t,e.start.column,this.getLine(t).length),this.removeNewLine(e.start.row))}else this.removeInLine(t,e.start.column,e.end.column);return e.start},this.removeInLine=function(e,t,n){if(t!=n){var i=new r(e,t,e,n),o=this.getLine(e),s=o.substring(t,n),a=o.substring(0,t)+o.substring(n,o.length);this.$lines.splice(e,1,a);var l={action:"removeText",range:i,text:s};return this._signal("change",{data:l}),i.start}},this.removeLines=function(e,t){return 0>e||t>=this.getLength()?this.remove(new r(e,0,t+1,0)):this._removeLines(e,t)},this._removeLines=function(e,t){var n=new r(e,0,t+1,0),i=this.$lines.splice(e,t-e+1),o={action:"removeLines",range:n,nl:this.getNewLineCharacter(),lines:i};return this._signal("change",{data:o}),i},this.removeNewLine=function(e){var t=this.getLine(e),n=this.getLine(e+1),i=new r(e,t.length,e+1,0),o=t+n;this.$lines.splice(e,2,o);var s={action:"removeText",range:i,text:this.getNewLineCharacter()};this._signal("change",{data:s})},this.replace=function(e,t){if(e instanceof r||(e=r.fromPoints(e.start,e.end)),0==t.length&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;if(this.remove(e),t)var n=this.insert(e.start,t);else n=e.start;return n},this.applyDeltas=function(e){for(var t=0;e.length>t;t++){var n=e[t],i=r.fromPoints(n.range.start,n.range.end);"insertLines"==n.action?this.insertLines(i.start.row,n.lines):"insertText"==n.action?this.insert(i.start,n.text):"removeLines"==n.action?this._removeLines(i.start.row,i.end.row-1):"removeText"==n.action&&this.remove(i)}},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--){var n=e[t],i=r.fromPoints(n.range.start,n.range.end);"insertLines"==n.action?this._removeLines(i.start.row,i.end.row-1):"insertText"==n.action?this.remove(i):"removeLines"==n.action?this._insertLines(i.start.row,n.lines):"removeText"==n.action&&this.insert(i.start,n.text)}},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=t||0,o=n.length;o>r;r++)if(e-=n[r].length+i,0>e)return{row:r,column:e+n[r].length+i};return{row:o-1,column:n[o-1].length}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,o=Math.min(e.row,n.length),s=t||0;o>s;++s)r+=n[s].length+i;return r+e.column}}).call(s.prototype),t.Document=s}),define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,r=function(e){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var t=this;this.$worker=function(){if(t.running){for(var e=new Date,n=t.currentLine,i=-1,r=t.doc;t.lines[n];)n++;var o=n,s=r.getLength(),a=0;for(t.running=!1;s>n;){t.$tokenizeRow(n),i=n;do n++;while(t.lines[n]);if(a++,0===a%5&&new Date-e>20){t.running=setTimeout(t.$worker,20);break}}t.currentLine=n,i>=o&&t.fireUpdateEvent(o,i)}}};(function(){n.implement(this,i),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.range,n=t.start.row,i=t.end.row-n;if(0===i)this.lines[n]=null;else if("removeText"==e.action||"removeLines"==e.action)this.lines.splice(n,i+1,null),this.states.splice(n,i+1,null);else{var r=Array(i+1);r.unshift(n,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(n,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],i=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens}}).call(r.prototype),t.BackgroundTokenizer=r}),define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t){"use strict";var n=e("./lib/lang");e("./lib/oop");var i=e("./range").Range,r=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,r,o){if(this.regExp)for(var s=o.firstRow,a=o.lastRow,l=s;a>=l;l++){var c=this.cache[l];null==c&&(c=n.getMatchOffsets(r.getLine(l),this.regExp),c.length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(e){return new i(l,e.offset,l,e.offset+e.length)}),this.cache[l]=c.length?c:"");for(var u=c.length;u--;)t.drawSingleLineMarker(e,c[u].toScreenRange(r),this.clazz,o)}}}).call(r.prototype),t.SearchHighlight=r}),define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t){"use strict";function n(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var i=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):0>this.range.compareStart(e.end.row,e.end.column)&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&this.end.row>=e},this.walk=function(e,t,n){var i,r,o,s=0,a=this.folds,l=!0;null==t&&(t=this.end.row,n=this.end.column);for(var c=0;a.length>c;c++){if(i=a[c],r=i.range.compareStart(t,n),-1==r)return e(null,t,n,s,l),void 0;if(o=e(null,i.start.row,i.start.column,s,l),o=!o&&e(i.placeholder,i.start.row,i.start.column,s),o||0===r)return;l=!i.sameRow,s=i.end.column}e(null,t,n,s,l)},this.getNextFoldTo=function(e,t){for(var n,i,r=0;this.folds.length>r;r++){if(n=this.folds[r],i=n.range.compareEnd(e,t),-1==i)return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var i,r,o=this.getNextFoldTo(e,t);if(o)if(i=o.fold,"inside"==o.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){r=this.folds;var s=r.indexOf(i);for(0===s&&(this.start.column+=n),s;r.length>s;s++){if(i=r[s],i.start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(e,t){var i=this.getNextFoldTo(e,t);if(!i||"inside"==i.kind)return null;var r=i.fold,o=this.folds,s=this.foldData,a=o.indexOf(r),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column,o=o.splice(a,o.length-a);var c=new n(s,o);return s.splice(s.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,n=0;t.length>n;n++)this.addFold(t[n]);var i=this.foldData;i.splice(i.indexOf(e),1)},this.toString=function(){var e=[""+this.range+": ["];return this.folds.forEach(function(t){e.push("  "+(""+t))}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;this.folds.length>n;n++){var i=this.folds[n];if(e-=i.start.column-t,0>e)return{row:i.start.row,column:i.start.column+e};if(e-=i.placeholder.length,0>e)return i.start;t=i.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(n.prototype),t.FoldLine=n}),define("ace/range_list",["require","exports","module","ace/range"],function(e,t){"use strict";var n=e("./range").Range,i=n.comparePoints,r=function(){this.ranges=[]};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){for(var r=this.ranges,o=n||0;r.length>o;o++){var s=r[o],a=i(e,s.end);if(!(a>0)){var l=i(e,s.start);return 0===a?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);0>n&&(n=-n-1);var i=this.pointIndex(e.end,t,n);return 0>i?i=-i-1:i++,this.ranges.splice(n,i-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.call(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);return t>=0?this.ranges.splice(t,1):void 0},this.merge=function(){var e=[],t=this.ranges;t=t.sort(function(e,t){return i(e.start,t.start)});for(var n,r=t[0],o=1;t.length>o;o++){n=r,r=t[o];var s=i(n.end,r.start);0>s||(0!=s||n.isEmpty()||r.isEmpty())&&(0>i(n.end,r.end)&&(n.end.row=r.end.row,n.end.column=r.end.column),t.splice(o,1),e.push(r),r=n,o--)}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);return t>=0?this.ranges[t]:void 0},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||e>n[n.length-1].start.row)return[];var i=this.pointIndex({row:e,column:0});0>i&&(i=-i-1);var r=this.pointIndex({row:t,column:0},i);0>r&&(r=-r-1);for(var o=[],s=i;r>s;s++)o.push(n[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){var t=e.data.range;if("i"==e.data.action[0])var n=t.start,i=t.end;else var i=t.start,n=t.end;for(var r=n.row,o=i.row,s=o-r,a=-n.column+i.column,l=this.ranges,c=0,u=l.length;u>c;c++){var d=l[c];if(!(r>d.end.row)){if(d.start.row>r)break;if(d.start.row==r&&d.start.column>=n.column&&(d.start.column==n.column&&this.$insertRight||(d.start.column+=a,d.start.row+=s)),d.end.row==r&&d.end.column>=n.column){if(d.end.column==n.column&&this.$insertRight)continue;d.end.column==n.column&&a>0&&u-1>c&&d.end.column>d.start.column&&d.end.column==l[c+1].start.column&&(d.end.column-=a),d.end.column+=a,d.end.row+=s}}}if(0!=s&&u>c)for(;u>c;c++){var d=l[c];d.start.row+=s,d.end.row+=s}}}).call(r.prototype),t.RangeList=r}),define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(e,t){"use strict";function n(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function i(e,t){n(e.start,t),n(e.end,t)}function r(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}function o(e,t){r(e.start,t),r(e.end,t)}e("../range").Range;var s=e("../range_list").RangeList,a=e("../lib/oop"),l=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};a.inherits(l,s),function(){this.toString=function(){return'"'+this.placeholder+'" '+(""+this.range)},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new l(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw Error("A fold can't intersect already existing fold"+e.range+this.range);i(e,this.start);for(var t=e.start.row,n=e.start.column,r=0,o=-1;this.subFolds.length>r&&(o=this.subFolds[r].range.compare(t,n),1==o);r++);var s=this.subFolds[r];if(0==o)return s.addSubFold(e);for(var t=e.range.end.row,n=e.range.end.column,a=r,o=-1;this.subFolds.length>a&&(o=this.subFolds[a].range.compare(t,n),1==o);a++);if(this.subFolds[a],0==o)throw Error("A fold can't intersect already existing fold"+e.range+this.range);return this.subFolds.splice(r,a-r,e),e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return o(e,this.start)}}.call(l.prototype)}),define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t){"use strict";function n(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;for(var r=i.folds,o=0;r.length>o;o++){var s=r[o];if(s.range.contains(e,t)){if(1==n&&s.range.isEnd(e,t))continue;if(-1==n&&s.range.isStart(e,t))continue;return s}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,i=this.$foldData,r=[];t.column+=1,n.column-=1;for(var o=0;i.length>o;o++){var s=i[o].range.compareRange(e);if(2!=s){if(-2==s)break;for(var a=i[o].folds,l=0;a.length>l;l++){var c=a[l];if(s=c.range.compareRange(e),-2==s)break;if(2!=s){if(42==s)break;r.push(c)}}}}return t.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else var t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;t.length>n;n++)for(var i=0;t[n].folds.length>i;i++)e.push(t[n].folds[i]);return e},this.getFoldStringAt=function(e,t,n,i){if(i=i||this.getFoldLine(e),!i)return null;for(var r,o,s={end:{column:0}},a=0;i.folds.length>a;a++){o=i.folds[a];var l=o.range.compareEnd(e,t);if(-1==l){r=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===l)return null;s=o}return r||(r=this.getLine(o.start.row).substring(s.end.column)),-1==n?r.substring(0,t-s.end.column):1==n?r.substring(t-s.end.column):r},this.getFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0),i;n.length>i;i++){var r=n[i];if(e>=r.start.row&&r.end.row>=e)return r;if(r.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0),i;n.length>i;i++){var r=n[i];if(r.end.row>=e)return r}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,i=t-e+1,r=0;n.length>r;r++){var o=n[r],s=o.end.row,a=o.start.row;if(s>=t){t>a&&(a>=e?i-=t-a:i=0);break}s>=e&&(i-=a>=e?s-a:s-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n,i=this.$foldData,s=!1;e instanceof o?n=e:(n=new o(t,e),n.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column;if(!(c>a||a==c&&u-2>=l))throw Error("The range has to be at least 2 characters width");var d=this.getFoldAt(a,l,1),h=this.getFoldAt(c,u,-1);if(d&&h==d)return d.addSubFold(n);d&&!d.range.isStart(a,l)&&this.removeFold(d),h&&!h.range.isEnd(c,u)&&this.removeFold(h);var p=this.getFoldsInRange(n.range);p.length>0&&(this.removeFolds(p),p.forEach(function(e){n.addSubFold(e)}));for(var f=0;i.length>f;f++){var g=i[f];if(c==g.start.row){g.addFold(n),s=!0;break}if(a==g.end.row){if(g.addFold(n),s=!0,!n.sameRow){var m=i[f+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(g.start.row>=c)break}return s||(g=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._emit("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,i=t.end.row,r=this.$foldData,o=t.folds;if(1==o.length)r.splice(r.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);o=s.folds,o.shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._emit("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;e.length>n;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,r;if(null==e?(n=new i(0,0,this.getLength(),0),t=!0):n="number"==typeof e?new i(e,0,e,this.getLine(e).length):"row"in e?i.fromPoints(e,e):e,r=this.getFoldsInRangeList(n),t)this.removeFolds(r);else for(var o=r;o.length;)this.expandFolds(o),o=this.getFoldsInRangeList(n);return r.length?r:void 0},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,i,r){null==i&&(i=e.start.row),null==r&&(r=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,s="";return e.walk(function(e,t,n,a){if(!(i>t)){if(t==i){if(r>n)return;a=Math.max(r,a)}s+=null!=e?e:o.getLine(t).substring(a,n)}},t,n),s},this.getDisplayLine=function(e,t,n,i){var r=this.getFoldLine(e);if(r)return this.getFoldDisplayLine(r,e,t,n,i);var o;return o=this.doc.getLine(e),o.substring(i||0,t||o.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new r(e,n)})},this.toggleFold=function(e){var t,n,i=this.selection,r=i.getRange();if(r.isEmpty()){var o=r.start;if(t=this.getFoldAt(o.row,o.column))return this.expandFold(t),void 0;(n=this.findMatchingBracket(o))?1==r.comparePoint(n)?r.end=n:(r.start=n,r.start.column++,r.end.column--):(n=this.findMatchingBracket({row:o.row,column:o.column+1}))?(1==r.comparePoint(n)?r.end=n:r.start=n,r.start.column++):r=this.getCommentFoldRange(o.row,o.column)||r}else{var s=this.getFoldsInRange(r);if(e&&s.length)return this.expandFolds(s),void 0;1==s.length&&(t=s[0])}if(t||(t=this.getFoldAt(r.start.row,r.start.column)),t&&""+t.range==""+r)return this.expandFold(t),void 0;var a="...";if(!r.isMultiLine()){if(a=this.getTextRange(r),4>a.length)return;
a=a.trim().substring(0,2)+".."}this.addFold(a,r)},this.getCommentFoldRange=function(e,t,n){var r=new s(this,e,t),o=r.getCurrentToken();if(o&&/^comment|string/.test(o.type)){var a=new i,l=RegExp(o.type.replace(/\..*/,"\\."));if(1!=n){do o=r.stepBackward();while(o&&l.test(o.type));r.stepForward()}if(a.start.row=r.getCurrentTokenRow(),a.start.column=r.getCurrentTokenColumn()+2,r=new s(this,e,t),-1!=n){do o=r.stepForward();while(o&&l.test(o.type));o=r.stepBackward()}else o=r.getCurrentToken();return a.end.row=r.getCurrentTokenRow(),a.end.column=r.getCurrentTokenColumn()+o.value.length-2,a}},this.foldAll=function(e,t,n){void 0==n&&(n=1e5);var i=this.foldWidgets;if(i){t=t||this.getLength(),e=e||0;for(var r=e;t>r;r++)if(null==i[r]&&(i[r]=this.getFoldWidget(r)),"start"==i[r]){var o=this.getFoldWidgetRange(r);if(o&&o.isMultiLine()&&t>=o.end.row&&o.start.row>=e){r=o.end.row;try{var s=this.addFold("...",o);s&&(s.collapseChildren=n)}catch(a){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){if(this.$foldMode!=e){if(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._emit("changeAnnotation"),!e||"manual"==this.$foldStyle)return this.foldWidgets=null,void 0;this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var i,r=e-1;r>=0;){var o=n[r];if(null==o&&(o=n[r]=this.getFoldWidget(r)),"start"==o){var s=this.getFoldWidgetRange(r);if(i||(i=s),s&&s.end.row>=e)break}r--}return{range:-1!==r&&s,firstRange:i}},this.onFoldWidgetClick=function(e,t){t=t.domEvent;var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey},i=this.$toggleFoldWidget(e,n);if(!i){var r=t.target||t.srcElement;r&&/ace_fold-widget/.test(r.className)&&(r.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),i=this.getLine(e),r="end"===n?-1:1,o=this.getFoldAt(e,-1===r?0:i.length,r);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),void 0;var s=this.getFoldWidgetRange(e,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1),o&&s.isEqual(o.range)))return this.removeFold(o),void 0;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=s?s.end.row:this.getLength(),this.foldAll(e+1,s.end.row,t.all?1e4:0)):s&&(t.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(){var e=this.selection.getCursor().row;e=this.getRowFoldStart(e);var t=this.$toggleFoldWidget(e,{});if(!t){var n=this.getParentFoldRangeData(e,!0);if(t=n.range||n.firstRange){e=t.start.row;var i=this.getFoldAt(e,this.getLine(e).length,1);i?this.removeFold(i):this.addFold("...",t)}}},this.updateFoldWidgets=function(e){var t=e.data,n=t.range,i=n.start.row,r=n.end.row-i;if(0===r)this.foldWidgets[i]=null;else if("removeText"==t.action||"removeLines"==t.action)this.foldWidgets.splice(i,r+1,null);else{var o=Array(r+1);o.unshift(i,1),this.foldWidgets.splice.apply(this.foldWidgets,o)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var i=e("../range").Range,r=e("./fold_line").FoldLine,o=e("./fold").Fold,s=e("../token_iterator").TokenIterator;t.Folding=n}),define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t){"use strict";function n(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,o=n.charAt(e.column-1),s=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(s||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},s=o&&o.match(/([\(\[\{])|([\)\]\}])/),i=!1),!s)return null;if(s[1]){var a=this.$findClosingBracket(s[1],e);if(!a)return null;t=r.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a=this.$findOpeningBracket(s[2],e);if(!a)return null;t=r.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end|start|begin)\b/,"")+")+"));for(var l=t.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==r){if(o-=1,0==o)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else u==e&&(o+=1);l-=1}do a=s.stepBackward();while(a&&!n.test(a.type));if(null==a)break;c=a.value,l=c.length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:end|start|begin)\b/,"")+")+"));for(var l=t.column-s.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;u>l;){var d=c.charAt(l);if(d==r){if(o-=1,0==o)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else d==e&&(o+=1);l+=1}do a=s.stepForward();while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}var i=e("../token_iterator").TokenIterator,r=e("../range").Range;t.BracketMatch=n}),define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/lang"),r=e("./config"),o=e("./lib/event_emitter").EventEmitter,s=e("./selection").Selection,a=e("./mode/text").Mode,l=e("./range").Range,c=e("./document").Document,u=e("./background_tokenizer").BackgroundTokenizer,d=e("./search_highlight").SearchHighlight,h=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new c(e)),this.setDocument(e),this.selection=new s(this),r.resetOptions(this),this.setMode(t),r._signal("session",this)};(function(){function e(e){return 4352>e?!1:e>=4352&&4447>=e||e>=4515&&4519>=e||e>=4602&&4607>=e||e>=9001&&9002>=e||e>=11904&&11929>=e||e>=11931&&12019>=e||e>=12032&&12245>=e||e>=12272&&12283>=e||e>=12288&&12350>=e||e>=12353&&12438>=e||e>=12441&&12543>=e||e>=12549&&12589>=e||e>=12593&&12686>=e||e>=12688&&12730>=e||e>=12736&&12771>=e||e>=12784&&12830>=e||e>=12832&&12871>=e||e>=12880&&13054>=e||e>=13056&&19903>=e||e>=19968&&42124>=e||e>=42128&&42182>=e||e>=43360&&43388>=e||e>=44032&&55203>=e||e>=55216&&55238>=e||e>=55243&&55291>=e||e>=63744&&64255>=e||e>=65040&&65049>=e||e>=65072&&65106>=e||e>=65108&&65126>=e||e>=65128&&65131>=e||e>=65281&&65376>=e||e>=65504&&65510>=e}n.implement(this,o),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],this.$screenRowCache=[],void 0;var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,i=e.length-1;i>=n;){var r=n+i>>1,o=e[r];if(t>o)n=r+1;else{if(!(o>t))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){var t=e.data;this.$modified=!0,this.$resetRowCache(t.range.start.row);var n=this.$updateInternalDataOnChange(e);this.$fromUndo||!this.$undoManager||t.ignore||(this.$deltasDoc.push(t),n&&0!=n.length&&this.$deltasFold.push({action:"removeFolds",folds:n}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(t),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,i=this.bgTokenizer.getTokens(e),r=0;if(null==t)o=i.length-1,r=this.getLine(e).length;else for(var o=0;i.length>o&&(r+=i[o].value.length,!(r>=t));o++);return(n=i[o])?(n.index=o,n.start=r-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas}),t.mergeUndoDeltas=!1,t.$deltas=[]},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&0===e.column%this.$tabSize},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;e.length>t;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,i){var r=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=o,this._signal("changeFrontMarker")):(this.$backMarkers[r]=o,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var n=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete n[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,i){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var r=new l(e,0,t,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),i=!1;if(t>0&&(i=!!n.charAt(t-1).match(this.tokenRe)),i||(i=!!n.charAt(t).match(this.tokenRe)),i)var r=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))var r=/\s/;else var r=this.nonTokenRe;var o=t;if(o>0){do o--;while(o>=0&&n.charAt(o).match(r));o++}for(var s=t;n.length>s&&n.charAt(s).match(r);)s++;return new l(e,o,e,s)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,i=n.path}else i=e||"ace/mode/text";return this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new a),this.$modes[i]&&!n?(this.$onChangeMode(this.$modes[i]),t&&t(),void 0):(this.$modeId=i,r.loadModule(["mode",i],function(e){return this.$modeId!==i?t&&t():this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):(e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[i]=e,e.$id=i),this.$onChangeMode(e),t&&t()),void 0)}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0),void 0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(void 0!==n.addEventListener){var i=this.onReloadTokenizer.bind(this);n.addEventListener("update",i)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new u(n);var r=this;this.bgTokenizer.addEventListener("update",function(e){r._signal("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){r.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,o=this.$foldData[r],s=o?o.start.row:1/0,a=t.length,l=0;a>l;l++){if(l>s){if(l=o.end.row+1,l>=a)break;o=this.$foldData[r++],s=o?o.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,i=e.length-1;-1!=i;i--){var r=e[i];"doc"==r.group?(this.doc.revertDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!0,n)):r.deltas.forEach(function(e){this.addFolds(e.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,i=0;e.length>i;i++){var r=e[i];"doc"==r.group&&(this.doc.applyDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,n){function i(e){var n="insertText"===e.action||"insertLines"===e.action;return t?!n:n}var r,o,s=e[0],a=!1;i(s)?(r=l.fromPoints(s.range.start,s.range.end),a=!0):(r=l.fromPoints(s.range.start,s.range.start),a=!1);for(var c=1;e.length>c;c++)s=e[c],i(s)?(o=s.range.start,-1==r.compare(o.row,o.column)&&r.setStart(s.range.start),o=s.range.end,1==r.compare(o.row,o.column)&&r.setEnd(s.range.end),a=!0):(o=s.range.start,-1==r.compare(o.row,o.column)&&(r=l.fromPoints(s.range.start,s.range.start)),a=!1);if(null!=n){0===l.comparePoints(n.start,r.start)&&(n.start.column+=r.end.column-r.start.column,n.end.column+=r.end.column-r.start.column);var u=n.compareRange(r);1==u?r.setStart(n.start):-1==u&&r.setEnd(n.end)}return r},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var i=this.getTextRange(e),r=this.getFoldsInRange(e),o=l.fromPoints(t,t);if(!n){this.remove(e);var s=e.start.row-e.end.row,a=s?-e.end.column:e.start.column-e.end.column;a&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=a),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=a)),s&&o.start.row>=e.end.row&&(o.start.row+=s,o.end.row+=s)}if(o.end=this.insert(o.start,i),r.length){var c=e.start,u=o.start,s=u.row-c.row,a=u.column-c.column;this.addFolds(r.map(function(e){return e=e.clone(),e.start.row==c.row&&(e.start.column+=a),e.end.row==c.row&&(e.end.column+=a),e.start.row+=s,e.end.row+=s,e}))}return o},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;t>=i;i++)this.insert({row:i,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new l(0,0,0,0),i=this.getTabSize(),r=t.start.row;t.end.row>=r;++r){var o=this.getLine(r);n.start.row=r,n.end.row=r;for(var s=0;i>s&&" "==o.charAt(s);++s);i>s&&"	"==o.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),0>n){var i=this.getRowFoldStart(e+n);if(0>i)return 0;var r=i-e}else if(n>0){var i=this.getRowFoldEnd(t+n);if(i>this.doc.getLength()-1)return 0;var r=i-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);var r=t-e+1}var o=new l(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(o).map(function(e){return e=e.clone(),e.start.row+=r,e.end.row+=r,e}),a=0==n?this.doc.getLines(e,t):this.doc.removeLines(e,t);return this.doc.insertLines(e+r,a),s.length&&this.addFolds(s),r},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return 0>t?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),0>e)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){0>e.start.row?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){(this.$wrapLimitRange.min!==e||this.$wrapLimitRange.max!==t)&&(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;0>n.max&&(n={min:t,max:t});var i=this.$constrainWrapLimit(e,n.min,n.max);return i!=this.$wrapLimit&&i>1?(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t,n=this.$useWrapMode,i=e.data.action,r=e.data.range.start.row,o=e.data.range.end.row,s=e.data.range.start,a=e.data.range.end,l=null;if(-1!=i.indexOf("Lines")?(o="insertLines"==i?r+e.data.lines.length:r,t=e.data.lines?e.data.lines.length:o-r):t=o-r,this.$updating=!0,0!=t)if(-1!=i.indexOf("remove")){this[n?"$wrapData":"$rowLengthCache"].splice(r,t);var c=this.$foldData;l=this.getFoldsInRange(e.data.range),this.removeFolds(l);var u=this.getFoldLine(a.row),d=0;if(u){u.addRemoveChars(a.row,a.column,s.column-a.column),u.shiftRow(-t);var h=this.getFoldLine(r);h&&h!==u&&(h.merge(u),u=h),d=c.indexOf(u)+1}for(d;c.length>d;d++){var u=c[d];u.start.row>=a.row&&u.shiftRow(-t)}o=r}else{var p=Array(t);p.unshift(r,0);var f=n?this.$wrapData:this.$rowLengthCache;f.splice.apply(f,p);var c=this.$foldData,u=this.getFoldLine(r),d=0;if(u){var g=u.range.compareInside(s.row,s.column);0==g?(u=u.split(s.row,s.column),u&&(u.shiftRow(t),u.addRemoveChars(o,0,a.column-s.column))):-1==g&&(u.addRemoveChars(r,0,a.column-s.column),u.shiftRow(t)),d=c.indexOf(u)+1}for(d;c.length>d;d++){var u=c[d];u.start.row>=r&&u.shiftRow(t)}}else{t=Math.abs(e.data.range.start.column-e.data.range.end.column),-1!=i.indexOf("remove")&&(l=this.getFoldsInRange(e.data.range),this.removeFolds(l),t=-t);var u=this.getFoldLine(r);u&&u.addRemoveChars(r,s.column,t)}return n&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,n?this.$updateWrapData(r,o):this.$updateRowLengthCache(r,o),l},this.$updateRowLengthCache=function(e,t){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var n,i,r=this.doc.getAllLines(),o=this.getTabSize(),s=this.$wrapData,a=this.$wrapLimit,l=e;for(t=Math.min(t,r.length-1);t>=l;)i=this.getFoldLine(l,i),i?(n=[],i.walk(function(e,t,i,o){var s;if(null!=e){s=this.$getDisplayTokens(e,n.length),s[0]=c;for(var a=1;s.length>a;a++)s[a]=h}else s=this.$getDisplayTokens(r[t].substring(o,i),n.length);n=n.concat(s)}.bind(this),i.end.row,r[i.end.row].length+1),s[i.start.row]=this.$computeWrapSplits(n,a,o),l=i.end.row+1):(n=this.$getDisplayTokens(r[l]),s[l]=this.$computeWrapSplits(n,a,o),l++)};var t=1,s=2,c=3,h=4,p=9,f=10,g=11,m=12;this.$computeWrapSplits=function(e,t){function n(t){var n=e.slice(o,t),r=n.length;n.join("").replace(/12/g,function(){r-=1}).replace(/2/g,function(){r-=1}),a+=r,i.push(a),o=t}if(0==e.length)return[];for(var i=[],r=e.length,o=0,a=0,l=this.$wrapAsCode;r-o>t;){var u=o+t;if(e[u-1]>=f&&e[u]>=f)n(u);else if(e[u]!=c&&e[u]!=h){for(var d=Math.max(u-(l?10:t-(t>>2)),o-1);u>d&&c>e[u];)u--;if(l){for(;u>d&&c>e[u];)u--;for(;u>d&&e[u]==p;)u--}else for(;u>d&&f>e[u];)u--;u>d?n(++u):(u=o+t,e[u]==s&&u--,n(u))}else{for(u;u!=o-1&&e[u]!=c;u--);if(u>o){n(u);continue}for(u=o+t;e.length>u&&e[u]==h;u++);if(u==e.length)break;n(u)}}return i},this.$getDisplayTokens=function(n,i){var r,o=[];i=i||0;for(var a=0;n.length>a;a++){var l=n.charCodeAt(a);if(9==l){r=this.getScreenTabSize(o.length+i),o.push(g);for(var c=1;r>c;c++)o.push(m)}else 32==l?o.push(f):l>39&&48>l||l>57&&64>l?o.push(p):l>=4352&&e(l)?o.push(t,s):o.push(t)}return o},this.$getStringScreenWidth=function(t,n,i){if(0==n)return[0,0];null==n&&(n=1/0),i=i||0;var r,o;for(o=0;t.length>o&&(r=t.charCodeAt(o),i+=9==r?this.getScreenTabSize(i):r>=4352&&e(r)?2:1,!(i>n));o++);return[i,o]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(0>e)return{row:0,column:0};var n,i,r=0,o=0,s=0,a=0,l=this.$screenRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var s=l[c],r=this.$docRowCache[c],d=e>l[u-1];else var d=!u;for(var h=this.getLength()-1,p=this.getNextFoldLine(r),f=p?p.start.row:1/0;e>=s&&(a=this.getRowLength(r),!(s+a>e||r>=h));)s+=a,r++,r>f&&(r=p.end.row+1,p=this.getNextFoldLine(r,p),f=p?p.start.row:1/0),d&&(this.$docRowCache.push(r),this.$screenRowCache.push(s));if(p&&r>=p.start.row)n=this.getFoldDisplayLine(p),r=p.start.row;else{if(e>=s+a||r>h)return{row:h,column:this.getLine(h).length};n=this.getLine(r),p=null}if(this.$useWrapMode){var g=this.$wrapData[r];if(g){var m=Math.floor(e-s);i=g[m],m>0&&g.length&&(o=g[m-1]||g[g.length-1],n=n.substring(o))}}return o+=this.$getStringScreenWidth(n,t)[1],this.$useWrapMode&&o>=i&&(o=i-1),p?p.idxToPosition(o):{row:r,column:o}},this.documentToScreenPosition=function(e,t){if(t===void 0)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var i=0,r=null,o=null;o=this.getFoldAt(e,t,1),o&&(e=o.start.row,t=o.start.column);var s,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var a=l[c],i=this.$screenRowCache[c],d=e>l[u-1];else var d=!u;for(var h=this.getNextFoldLine(a),p=h?h.start.row:1/0;e>a;){if(a>=p){if(s=h.end.row+1,s>e)break;h=this.getNextFoldLine(s,h),p=h?h.start.row:1/0}else s=a+1;i+=this.getRowLength(a),a=s,d&&(this.$docRowCache.push(a),this.$screenRowCache.push(i))}var f="";if(h&&a>=p?(f=this.getFoldDisplayLine(h,e,t),r=h.start.row):(f=this.getLine(e).substring(0,t),r=e),this.$useWrapMode){var g=this.$wrapData[r];if(g){for(var m=0;f.length>=g[m];)i++,m++;f=f.substring(g[m-1]||0,f.length)}}return{row:i,column:this.$getStringScreenWidth(f)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=0,t=this.$foldData[r++],o=t?t.start.row:1/0;n>i;){var s=this.$wrapData[i];e+=s?s.length+1:1,i++,i>o&&(i=t.end.row+1,t=this.$foldData[r++],o=t?t.start.row:1/0)}else{e=this.getLength();for(var a=this.$foldData,r=0;a.length>r;r++)t=a[r],e-=t.end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(){},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}).call(h.prototype),e("./edit_session/folding").Folding.call(h.prototype),e("./edit_session/bracket_match").BracketMatch.call(h.prototype),r.defineOptions(h.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e){if(e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1);this.$wrap=e}},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){e="auto"==e?"text"!=this.$mode.type:"text"!=e,e!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}}),t.EditSession=h}),define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t){"use strict";
var n=e("./lib/lang"),i=e("./lib/oop"),r=e("./range").Range,o=function(){this.$options={}};(function(){this.set=function(e){return i.mixin(this.$options,e),this},this.getOptions=function(){return n.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var i=null;return n.forEach(function(e,n,o){if(e.start)i=e;else{var s=e.offset+(o||0);if(i=new r(n,s,n,s+e.length),!e.length&&t.start&&t.start.start&&0!=t.skipCurrent&&i.isEqual(t.start))return i=null,!1}return!0}),i},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var i=t.range,o=i?e.getLines(i.start.row,i.end.row):e.doc.getAllLines(),s=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,u=o.length-c;e:for(var d=a.offset||0;u>=d;d++){for(var h=0;c>h;h++)if(-1==o[d+h].search(a[h]))continue e;var p=o[d],f=o[d+c-1],g=p.length-p.match(a[0])[0].length,m=f.match(a[c-1])[0].length;l&&l.end.row===d&&l.end.column>g||(s.push(l=new r(d,g,d+c-1,m)),c>2&&(d=d+c-2))}}else for(var v=0;o.length>v;v++)for(var y=n.getMatchOffsets(o[v],a),h=0;y.length>h;h++){var b=y[h];s.push(new r(v,b.offset,v,b.offset+b.length))}if(i){for(var E=i.start.column,C=i.start.column,v=0,h=s.length-1;h>v&&E>s[v].start.column&&s[v].start.row==i.start.row;)v++;for(;h>v&&s[h].end.column>C&&s[h].end.row==i.end.row;)h--;for(s=s.slice(v,h+1),v=0,h=s.length;h>v;v++)s[v].start.row+=i.start.row,s[v].end.row+=i.start.row}return s},this.replace=function(e,t){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(i){var r=i.exec(e);if(!r||r[0].length!=e.length)return null;if(t=e.replace(i,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var s=e[o];t[o]=s&&s.toLowerCase()!=s?t[o].toUpperCase():t[o].toLowerCase()}t=t.join("")}return t}},this.$matchIterator=function(e,t){var i=this.$assembleRegExp(t);if(!i)return!1;var o;if(t.$isMultiLine)var s=i.length,a=function(t,n,a){var l=t.search(i[0]);if(-1!=l){for(var c=1;s>c;c++)if(t=e.getLine(n+c),-1==t.search(i[c]))return;var u=t.match(i[s-1])[0].length,d=new r(n,l,n+s-1,u);return 1==i.offset?(d.start.row--,d.start.column=Number.MAX_VALUE):a&&(d.start.column+=a),o(d)?!0:void 0}};else if(t.backwards)var a=function(e,t,r){for(var s=n.getMatchOffsets(e,i),a=s.length-1;a>=0;a--)if(o(s[a],t,r))return!0};else var a=function(e,t,r){for(var s=n.getMatchOffsets(e,i),a=0;s.length>a;a++)if(o(s[a],t,r))return!0};var l=this.$lineIterator(e,t);return{forEach:function(e){o=e,l.forEach(a)}}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var i=e.needle;if(!e.needle)return e.re=!1;e.regExp||(i=n.escapeRegExp(i)),e.wholeWord&&(i="\\b"+i+"\\b");var r=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(i),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(i,r);try{var o=RegExp(i,r)}catch(s){o=!1}return e.re=o},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;n.length>r;r++)try{i.push(RegExp(n[r],t))}catch(o){return!1}return""==n[0]?(i.shift(),i.offset=1):i.offset=0,i},this.$lineIterator=function(e,t){var n=1==t.backwards,i=0!=t.skipCurrent,r=t.range,o=t.start;o||(o=r?r[n?"end":"start"]:e.selection.getRange()),o.start&&(o=o[i!=n?"end":"start"]);var s=r?r.start.row:0,a=r?r.end.row:e.getLength()-1,l=n?function(n){var i=o.row,r=e.getLine(i).substring(0,o.column);if(!n(r,i)){for(i--;i>=s;i--)if(n(e.getLine(i),i))return;if(0!=t.wrap)for(i=a,s=o.row;i>=s;i--)if(n(e.getLine(i),i))return}}:function(n){var i=o.row,r=e.getLine(i).substr(o.column);if(!n(r,i,o.column)){for(i+=1;a>=i;i++)if(n(e.getLine(i),i))return;if(0!=t.wrap)for(i=s,a=o.row;a>=i;i++)if(n(e.getLine(i),i))return}};return{forEach:l}}}).call(o.prototype),t.Search=o}),define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t){"use strict";function n(e,t){this.platform=t||(o.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function i(e,t){n.call(this,e,t),this.$singleCommand=!1}var r=e("../lib/keys"),o=e("../lib/useragent"),s=r.KEY_MODS;i.prototype=n.prototype,function(){this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var o=i[r];if(o==e)delete i[r];else if(Array.isArray(o)){var s=o.indexOf(e);-1!=s&&(o.splice(s,1),1==o.length&&(i[r]=o[0]))}}},this.bindKey=function(e,t,n){return"object"==typeof e&&(e=e[this.platform]),e?"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):(e.split("|").forEach(function(e){var i="";if(-1!=e.indexOf(" ")){var r=e.split(/\s+/);e=r.pop(),r.forEach(function(e){var t=this.parseKeys(e),n=s[t.hashId]+t.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")},this),i+=" "}var o=this.parseKeys(e),a=s[o.hashId]+o.key;this._addCommandToBinding(i+a,t,n)},this),void 0):void 0},this._addCommandToBinding=function(e,t,n){var i,r=this.commandKeyBinding;t?!r[e]||this.$singleCommand?r[e]=t:(Array.isArray(r[e])?-1!=(i=r[e].indexOf(t))&&r[e].splice(i,1):r[e]=[r[e]],n||t.isDefault?r[e].unshift(t):r[e].push(t)):delete r[e]},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),n=t.pop(),i=r[n];if(r.FUNCTION_KEYS[i])n=r.FUNCTION_KEYS[i].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,s=t.length;s--;){var a=r.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;o|=a}return{key:n,hashId:o}},this.findKeyCommand=function(e,t){var n=s[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,i){var r=s[t]+n,o=this.commandKeyBinding[r];return e.$keyChain&&(e.$keyChain+=" "+r,o=this.commandKeyBinding[e.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(e.$keyChain&&i>0&&(e.$keyChain=""),{command:o}):(e.$keyChain=e.$keyChain||r,{command:"null"})}}.call(n.prototype),t.HashHandler=n,t.MultiHashHandler=i}),define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("../keyboard/hash_handler").MultiHashHandler,r=e("../lib/event_emitter").EventEmitter,o=function(e,t){i.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};n.inherits(o,i),function(){n.implement(this,r),this.exec=function(e,t,n){if(Array.isArray(e)){for(var i=e.length;i--;)if(this.exec(e[i],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;var r={editor:t,command:e,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),r.returnValue===!1?!1:!0},this.toggleRecording=function(e){return this.$inReplay?void 0:(e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0))},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(o.prototype),t.CommandManager=o}),define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t){"use strict";function n(e,t){return{win:e,mac:t}}var i=e("../lib/lang"),r=e("../config"),o=e("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:n("Ctrl-,","Command-,"),exec:function(e){r.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:n("Alt-E","Ctrl-E"),exec:function(e){r.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:n("Alt-Shift-E","Ctrl-Shift-E"),exec:function(e){r.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:n("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:n(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:n("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:n("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:n("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:n("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:n("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:n("Ctrl-Alt-0","Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:n("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:n("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:n("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:n("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:n("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:n("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:n("Ctrl-F","Command-F"),exec:function(e){r.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:n("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:n("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:n("Shift-Up","Shift-Up"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:n("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:n("Ctrl-Shift-End","Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:n("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:n("Shift-Down","Shift-Down"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:n("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:n("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:n("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:n("Alt-Shift-Left","Command-Shift-Left"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:n("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:n("Shift-Left","Shift-Left"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:n("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:n("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:n("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:n("Alt-Shift-Right","Command-Shift-Right"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:n("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:n("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:n("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:n(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:n("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:n(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:n("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:n("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:n("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:n("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:n("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:n("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:n("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:n("null","null"),exec:function(){},passEvent:!0,readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"removeline",bindKey:n("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:n("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:n("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:n("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:n("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:n("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:n("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:n("Ctrl-H","Command-Option-F"),exec:function(e){r.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",bindKey:n("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:n("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:n("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:n("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:n("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:n("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:n("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:n("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:n("Shift-Delete",null),exec:function(e){return e.selection.isEmpty()?(e.remove("left"),void 0):!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:n("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:n("Alt-Delete","Ctrl-K"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:n("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:n("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:n("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:n("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:n("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:n("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:n(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:n("Ctrl-T","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:n("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:n("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:n("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:n(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()),l=a.replace(/\n\s*/," ").length,c=e.session.doc.getLine(n.row),u=n.row+1;r.row+1>=u;u++){var d=i.stringTrimLeft(i.stringTrimRight(e.session.doc.getLine(u)));0!==d.length&&(d=" "+d),c+=d}r.row+1<e.session.doc.getLength()-1&&(c+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,r.row+2,0),c),l>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+l)):(s=e.session.doc.getLine(n.row).length>s?s+1:s,e.selection.moveCursorTo(n.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:n(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,i=e.selection.rangeList.ranges,r=[];1>i.length&&(i=[e.selection.getRange()]);for(var s=0;i.length>s;s++)s==i.length-1&&(i[s].end.row!==t||i[s].end.column!==n)&&r.push(new o(i[s].end.row,i[s].end.column,t,n)),0===s?(0!==i[s].start.row||0!==i[s].start.column)&&r.push(new o(0,0,i[s].start.row,i[s].start.column)):r.push(new o(i[s-1].end.row,i[s-1].end.column,i[s].start.row,i[s].start.column));e.exitMultiSelectMode(),e.clearSelection();for(var s=0;r.length>s;s++)e.selection.addRange(r[s],!1)},readOnly:!0,scrollIntoView:"none"}]}),define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(e,t){"use strict";e("./lib/fixoldbrowsers");var n=e("./lib/oop"),i=e("./lib/dom"),r=e("./lib/lang"),o=e("./lib/useragent"),s=e("./keyboard/textinput").TextInput,a=e("./mouse/mouse_handler").MouseHandler,l=e("./mouse/fold_handler").FoldHandler,c=e("./keyboard/keybinding").KeyBinding,u=e("./edit_session").EditSession,d=e("./search").Search,h=e("./range").Range,p=e("./lib/event_emitter").EventEmitter,f=e("./commands/command_manager").CommandManager,g=e("./commands/default_commands").commands,m=e("./config"),v=e("./token_iterator").TokenIterator,y=function(e,t){var n=e.getContainerElement();this.container=n,this.renderer=e,this.commands=new f(o.isMac?"mac":"win",g),this.textInput=new s(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new c(this),this.$mouseHandler=new a(this),new l(this),this.$blockScrolling=0,this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=r.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||new u("")),m.resetOptions(this),m._signal("editor",this)};(function(){n.implement(this,p),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=r.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&this.$blockScrolling++},this.endOperation=function(e){if(this.curOp){if(e&&e.returnValue===!1)return this.curOp=null;this._signal("beforeEndOperation");var t=this.curOp.command;if(t.name&&this.$blockScrolling&&this.$blockScrolling--,t&&t.scrollIntoView){switch(t.scrollIntoView){case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var n=this.selection.getRange(),i=this.renderer.layerConfig;(n.start.row>=i.lastRow||n.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break;default:}"animate"==t.scrollIntoView&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,i=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var r=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(t.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e){this.$keybindingId=e;var n=this;m.loadModule(["keybinding",e],function(i){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(i&&i.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){var t=this.session;if(t){this.session.removeEventListener("change",this.$onDocumentChange),this.session.removeEventListener("changeMode",this.$onChangeMode),this.session.removeEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.session.removeEventListener("changeTabSize",this.$onChangeTabSize),this.session.removeEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.session.removeEventListener("changeWrapMode",this.$onChangeWrapMode),this.session.removeEventListener("onChangeFold",this.$onChangeFold),this.session.removeEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.session.removeEventListener("changeBackMarker",this.$onChangeBackMarker),this.session.removeEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.session.removeEventListener("changeAnnotation",this.$onChangeAnnotation),this.session.removeEventListener("changeOverwrite",this.$onCursorChange),this.session.removeEventListener("changeScrollTop",this.$onScrollTopChange),this.session.removeEventListener("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.removeEventListener("changeCursor",this.$onCursorChange),n.removeEventListener("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.addEventListener("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.addEventListener("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.addEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.addEventListener("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.addEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.addEventListener("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.addEventListener("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.addEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.addEventListener("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.addEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.addEventListener("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.addEventListener("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.addEventListener("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.addEventListener("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.addEventListener("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.addEventListener("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)
},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container,"fontSize")},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=t.findMatchingBracket(e.getCursorPosition());if(n)var i=new h(n.row,n.column,n.row,n.column+1);else if(t.$mode.getMatching)var i=t.$mode.getMatching(e.session);i&&(t.$bracketHighlight=t.addMarker(i,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout(function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),i=new v(e.session,n.row,n.column),r=i.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return t.removeMarker(t.$tagHighlight),t.$tagHighlight=null,void 0;-1!=r.type.indexOf("tag-open")&&(r=i.stepForward());var o=r.value,s=0,a=i.stepBackward();if("<"==a.value){do a=r,r=i.stepForward(),r&&r.value===o&&-1!==r.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--);while(r&&s>=0)}else{do r=a,a=i.stepBackward(),r&&r.value===o&&-1!==r.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--);while(a&&0>=s);i.stepForward()}if(!r)return t.removeMarker(t.$tagHighlight),t.$tagHighlight=null,void 0;var l=i.getCurrentTokenRow(),c=i.getCurrentTokenColumn(),u=new h(l,c,l,c+r.value.length);t.$tagHighlight&&0!==u.compareRange(t.$backMarkers[t.$tagHighlight].range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),u&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(u,"ace_bracket","text"))}},50)}},this.focus=function(){var e=this;setTimeout(function(){e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t,n=e.data,i=n.range;t=i.start.row==i.end.row&&"insertLines"!=n.action&&"removeLines"!=n.action?i.end.row:1/0,this.renderer.updateLines(i.start.row,t,this.session.$useWrapMode),this._signal("change",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(m.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new h(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(){var e=this.session;if(e.$selectionMarker&&e.removeMarker(e.$selectionMarker),e.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var t=this.selection.getRange(),n=this.getSelectionStyle();e.$selectionMarker=e.addMarker(t,"ace_selection",n)}var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column-1,i=t.end.column+1,r=e.getLine(t.start.row),o=r.length,s=r.substring(Math.max(n,0),Math.min(i,o));if(!(n>=0&&/^[\w\d]/.test(s)||o>=i&&/[\w\d]$/.test(s))&&(s=r.substring(t.start.column,t.end.column),/^[\w\d]+$/.test(s))){var a=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s});return a}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText();return this._signal("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e){if(!this.$readOnly){var t={text:e};if(this._signal("paste",t),e=t.text,!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(e);else{var n=e.split(/\r\n|\r|\n/),i=this.selection.rangeList.ranges;if(n.length>i.length||2>n.length||!n[1])return this.commands.exec("insertstring",this,e);for(var r=i.length;r--;){var o=i[r];o.isEmpty()||this.session.remove(o),this.session.insert(o.start,n[r])}}this.renderer.scrollCursorIntoView()}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=i.transformAction(n.getState(r.row),"insertion",this,n,e);o&&(e!==o.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),e=o.text)}if("	"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){var s=new h.fromPoints(r,r);s.end.column+=e.length,this.session.remove(s)}}else{var s=this.getSelectionRange();r=this.session.remove(s),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var c=r.column,u=n.getState(r.row),a=n.getLine(r.row),d=i.checkOutdent(u,a,e);if(n.insert(r,e),o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new h(r.row,c+o.selection[0],r.row,c+o.selection[1])):this.selection.setSelectionRange(new h(r.row+o.selection[0],o.selection[1],r.row+o.selection[2],o.selection[3]))),n.getDocument().isNewLine(e)){var p=i.getNextLineIndent(u,a.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},p)}d&&i.autoOutdent(u,n,r.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,n){this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(t.start.row),r=n.getMode().transformAction(i,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var s=n.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}r&&(t=r)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,i,r=this.session.getLine(e.row);r.length>t?(n=r.charAt(t)+r.charAt(t-1),i=new h(e.row,t-1,e.row,t+1)):(n=r.charAt(t-1)+r.charAt(t-2),i=new h(e.row,t-2,e.row,t)),this.session.replace(i,n)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(t.start.row<t.end.row){var n=this.$getSelectedRows();return e.indentRows(n.first,n.last,"	"),void 0}if(t.start.column<t.end.column){var i=e.getTextRange(t);if(!/^\s+$/.test(i)){var n=this.$getSelectedRows();return e.indentRows(n.first,n.last,"	"),void 0}}var o=e.getLine(t.start.row),s=t.start,a=e.getTabSize(),l=e.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())var c=a-l%a,u=r.stringRepeat(" ",c);else{for(var c=l%a;" "==o[t.start.column]&&c;)t.start.column--,c--;this.selection.setSelectionRange(t),u="	"}return this.insert(u)},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"	")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,n=[];for(r=e.first;e.last>=r;r++)n.push(t.getLine(r));n.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});for(var i=new h(0,0,0,0),r=e.first;e.last>=r;r++){var o=t.getLine(r);i.start.row=r,i.end.row=r,i.end.column=o.length,t.replace(i,n[r-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(e);t>n.lastIndex;){var r=n.exec(i);if(t>=r.index&&r.index+r[0].length>=t){var o={value:r[0],start:r.index,end:r.index+r[0].length};return o}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new h(t,n-1,t,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var o=this.getNumberAt(t,n);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,l=parseFloat(o.value);l*=Math.pow(10,a),e*=s!==o.end&&s>n?Math.pow(10,o.end-n-1):Math.pow(10,o.end-n),l+=e,l/=Math.pow(10,a);var c=l.toFixed(a),u=new h(t,o.start,t,o.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(o.start+1,n+c.length-o.value.length))}}},this.removeLines=function(){var e,t=this.$getSelectedRows();e=0===t.first||t.last+1<this.session.getLength()?new h(t.first,0,t.last+1,0):new h(t.first-1,this.session.getLine(t.first-1).length,t.last,this.session.getLine(t.last).length),this.session.remove(e),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),i=e.isBackwards();if(n.isEmpty()){var r=n.start.row;t.duplicateLines(r,r)}else{var o=i?n.start:n.end,s=t.insert(o,t.getTextRange(n),!1);n.start=o,n.end=s,e.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var o=r.toOrientedRange();n=this.$getSelectedRows(o),i=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(i=0),o.moveBy(i,0),r.fromOrientedRange(o)}else{var s=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=s.length,u=0;c>u;u++){var d=u;s[u].moveBy(a,0),n=this.$getSelectedRows(s[u]);for(var h=n.first,p=n.last;c>++u;){l&&s[u].moveBy(l,0);var f=this.$getSelectedRows(s[u]);if(t&&f.first!=p)break;if(!t&&f.first>p+1)break;p=f.last}for(u--,a=this.session.$moveLines(h,p,t?0:e),t&&-1==e&&(d=u+1);u>=d;)s[d].moveBy(a,0),d++;t||(a=0),l+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&this.getLastVisibleRow()>=e},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&this.renderer.getLastFullyVisibleRow()>=e},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,i=this.renderer.layerConfig,r=e*Math.floor(i.height/i.lineHeight);this.$blockScrolling++,t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(r,0)}):t===!1&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection()),this.$blockScrolling--;var o=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),i=new v(this.session,n.row,n.column),r=i.getCurrentToken(),o=r||i.stepForward();if(o){var s,a,l=!1,c={},u=n.column-o.start,d={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;o.value.length>u&&!l;u++)if(d[o.value[u]])switch(a=d[o.value[u]]+"."+o.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),o.value[u]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,-1===c[a]&&(s="bracket",l=!0)}}else o&&-1!==o.type.indexOf("tag-name")&&(isNaN(c[o.value])&&(c[o.value]=0),"<"===r.value?c[o.value]++:"</"===r.value&&c[o.value]--,-1===c[o.value]&&(s="tag",l=!0));l||(r=o,o=i.stepForward(),u=0)}while(o&&!l);if(s){var p,f;if("bracket"===s)p=this.session.getBracketRange(n),p||(p=new h(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1),f=p.start,(t||f.row===n.row&&2>Math.abs(f.column-n.column))&&(p=this.session.getBracketRange(f)));else if("tag"===s){if(!o||-1===o.type.indexOf("tag-name"))return;var g=o.value;if(p=new h(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2),0===p.compare(n.row,n.column)){l=!1;do o=r,r=i.stepBackward(),r&&(-1!==r.type.indexOf("tag-close")&&p.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1),o.value===g&&-1!==o.type.indexOf("tag-name")&&("<"===r.value?c[g]++:"</"===r.value&&c[g]--,0===c[g]&&(l=!0)));while(r&&!l)}o&&o.type.indexOf("tag-name")&&(f=p.start,f.row==n.row&&2>Math.abs(f.column-n.column)&&(f=p.end))}f=p&&p.cursor||f,f&&(e?p&&t?this.selection.setRange(p):p&&p.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,e)&&(i=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),i):i},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;this.$blockScrolling+=1;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&i++;return this.selection.setSelectionRange(r),this.$blockScrolling-=1,i},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return t=this.$search.replace(n,t),null!==t?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,i){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&n.mixin(t,e);var r=this.selection.getRange();null==t.needle&&(e=this.session.getTextRange(r)||this.$search.$options.needle,e||(r=this.session.getWordRange(r.start.row,r.start.column),e=this.session.getTextRange(r)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:r});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,i),o):(t.backwards?r.start=r.end:r.end=r.start,this.selection.setRange(r),void 0)},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),t!==!1&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var o=this.on("changeSelection",function(){i=!0}),s=this.renderer.on("beforeRender",function(){i&&(t=n.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){if(i&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=o.top-s.offset;i=o.top>=0&&0>a+t.top?!0:o.top<s.height&&o.top+t.top+s.lineHeight>window.innerHeight?!1:null,null!=i&&(r.style.top=a+"px",r.style.left=o.left+"px",r.style.height=s.lineHeight+"px",r.scrollIntoView(i)),i=t=null}});this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.removeEventListener("changeSelection",o),this.renderer.removeEventListener("afterRender",a),this.renderer.removeEventListener("beforeRender",s))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,i.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}}).call(y.prototype),m.defineOptions(y.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",foldStyle:"session",mode:"session"}),t.Editor=y}),define("ace/undomanager",["require","exports","module"],function(e,t){"use strict";var n=function(){this.reset()};(function(){this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],e.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t)),this.$undoStack.push(t),this.$redoStack=[],0>this.dirtyCounter&&(this.dirtyCounter=0/0),this.dirtyCounter++},this.undo=function(e){var t=this.$undoStack.pop(),n=null;return t&&(n=this.$doc.undoChanges(t,e),this.$redoStack.push(t),this.dirtyCounter--),n},this.redo=function(e){var t=this.$redoStack.pop(),n=null;return t&&(n=this.$doc.redoChanges(t,e),this.$undoStack.push(t),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter}}).call(n.prototype),t.UndoManager=n}),define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("../lib/dom"),i=e("../lib/oop"),r=e("../lib/lang"),o=e("../lib/event_emitter").EventEmitter,s=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){i.implement(this,o),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;e.length>t;t++){var n=e[t],i=n.row,o=this.$annotations[i];o||(o=this.$annotations[i]={text:[]});var s=n.text;s=s?r.escapeHTML(s):n.html||"",-1===o.text.indexOf(s)&&o.text.push(s);var a=n.type;"error"==a?o.className=" ace_error":"warning"==a&&" ace_error"!=o.className?o.className=" ace_warning":"info"!=a||o.className||(o.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.data,n=t.range,i=n.start.row,r=n.end.row-i;if(0===r);else if("removeText"==t.action||"removeLines"==t.action)this.$annotations.splice(i,r+1,null);else{var o=Array(r+1);o.unshift(i,1),this.$annotations.splice.apply(this.$annotations,o)}}},this.update=function(e){for(var t=this.session,i=e.firstRow,r=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),o=t.getNextFoldLine(i),s=o?o.start.row:1/0,a=this.$showFoldWidgets&&t.foldWidgets,l=t.$breakpoints,c=t.$decorations,u=t.$firstLineNumber,d=0,h=t.gutterRenderer||this.$renderer,p=null,f=-1,g=i;;){if(g>s&&(g=o.end.row+1,o=t.getNextFoldLine(g,o),s=o?o.start.row:1/0),g>r){for(;this.$cells.length>f+1;)p=this.$cells.pop(),this.element.removeChild(p.element);break}p=this.$cells[++f],p||(p={element:null,textNode:null,foldWidget:null},p.element=n.createElement("div"),p.textNode=document.createTextNode(""),p.element.appendChild(p.textNode),this.element.appendChild(p.element),this.$cells[f]=p);var m="ace_gutter-cell ";l[g]&&(m+=l[g]),c[g]&&(m+=c[g]),this.$annotations[g]&&(m+=this.$annotations[g].className),p.element.className!=m&&(p.element.className=m);var v=t.getRowLength(g)*e.lineHeight+"px";if(v!=p.element.style.height&&(p.element.style.height=v),a){var y=a[g];null==y&&(y=a[g]=t.getFoldWidget(g))}if(y){p.foldWidget||(p.foldWidget=n.createElement("span"),p.element.appendChild(p.foldWidget));var m="ace_fold-widget ace_"+y;m+="start"==y&&g==s&&o.end.row>g?" ace_closed":" ace_open",p.foldWidget.className!=m&&(p.foldWidget.className=m);
var v=e.lineHeight+"px";p.foldWidget.style.height!=v&&(p.foldWidget.style.height=v)}else p.foldWidget&&(p.element.removeChild(p.foldWidget),p.foldWidget=null);var b=d=h?h.getText(t,g):g+u;b!=p.textNode.data&&(p.textNode.data=b),g++}this.element.style.height=e.minHeight+"px",(this.$fixedWidth||t.$useWrapMode)&&(d=t.getLength()+u);var E=h?h.getWidth(t,d,e):(""+d).length*e.characterWidth,C=this.$padding||this.$computePadding();E+=C.left+C.right,E===this.gutterWidth||isNaN(E)||(this.gutterWidth=E,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",E))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?n.addCssClass(this.element,"ace_folding-enabled"):n.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(s.prototype),t.Gutter=s}),define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t){"use strict";var n=e("../range").Range,i=e("../lib/dom"),r=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){var e=e||this.config;if(e){this.config=e;var t=[];for(var n in this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(e.firstRow,e.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var o=this.$getTop(r.start.row,e),s=this.$padding+r.start.column*e.characterWidth;i.renderer(t,r,s,o,e)}else"fullLine"==i.type?this.drawFullLineMarker(t,r,i.clazz,e):"screenLine"==i.type?this.drawScreenLineMarker(t,r,i.clazz,e):r.isMultiLine()?"text"==i.type?this.drawTextMarker(t,r,i.clazz,e):this.drawMultiLineMarker(t,r,i.clazz,e):this.drawSingleLineMarker(t,r,i.clazz+" ace_start",e)}else i.update(t,this,this.session,e)}this.element.innerHTML=t.join("")}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,i,r,o){var s=t.start.row,a=new n(s,t.start.column,s,this.session.getScreenLastRowColumn(s));for(this.drawSingleLineMarker(e,a,i+" ace_start",r,1,o),s=t.end.row,a=new n(s,0,s,t.end.column),this.drawSingleLineMarker(e,a,i,r,0,o),s=t.start.row+1;t.end.row>s;s++)a.start.row=s,a.end.row=s,a.end.column=this.session.getScreenLastRowColumn(s),this.drawSingleLineMarker(e,a,i,r,1,o)},this.drawMultiLineMarker=function(e,t,n,i,r){var o=this.$padding,s=i.lineHeight,a=this.$getTop(t.start.row,i),l=o+t.start.column*i.characterWidth;r=r||"",e.push("<div class='",n," ace_start' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",l,"px;",r,"'></div>"),a=this.$getTop(t.end.row,i);var c=t.end.column*i.characterWidth;e.push("<div class='",n,"' style='","height:",s,"px;","width:",c,"px;","top:",a,"px;","left:",o,"px;",r,"'></div>"),s=(t.end.row-t.start.row-1)*i.lineHeight,0>s||(a=this.$getTop(t.start.row+1,i),e.push("<div class='",n,"' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",o,"px;",r,"'></div>"))},this.drawSingleLineMarker=function(e,t,n,i,r,o){var s=i.lineHeight,a=(t.end.column+(r||0)-t.start.column)*i.characterWidth,l=this.$getTop(t.start.row,i),c=this.$padding+t.start.column*i.characterWidth;e.push("<div class='",n,"' style='","height:",s,"px;","width:",a,"px;","top:",l,"px;","left:",c,"px;",o||"","'></div>")},this.drawFullLineMarker=function(e,t,n,i,r){var o=this.$getTop(t.start.row,i),s=i.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,i)-o),e.push("<div class='",n,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",r||"","'></div>")},this.drawScreenLineMarker=function(e,t,n,i,r){var o=this.$getTop(t.start.row,i),s=i.lineHeight;e.push("<div class='",n,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",r||"","'></div>")}}).call(r.prototype),t.Marker=r}),define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("../lib/dom"),r=e("../lib/lang");e("../lib/useragent");var o=e("../lib/event_emitter").EventEmitter,s=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){n.implement(this,o),this.EOF_CHAR="",this.EOL_CHAR_LF="",this.EOL_CHAR_CRLF="",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="",this.SPACE_CHAR="",this.$padding=0,this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;return this.EOL_CHAR!=e?(this.EOL_CHAR=e,!0):void 0},this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;e+1>n;n++)this.showInvisibles?t.push("<span class='ace_invisible ace_invisible_tab'>"+this.TAB_CHAR+r.stringRepeat("",n-1)+"</span>"):t.push(r.stringRepeat("",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i="ace_indent-guide",o="",s="";if(this.showInvisibles){i+=" ace_invisible",o=" ace_invisible_space",s=" ace_invisible_tab";var a=r.stringRepeat(this.SPACE_CHAR,this.tabSize),l=this.TAB_CHAR+r.stringRepeat("",this.tabSize-1)}else var a=r.stringRepeat("",this.tabSize),l=a;this.$tabStrings[" "]="<span class='"+i+o+"'>"+a+"</span>",this.$tabStrings["	"]="<span class='"+i+s+"'>"+l+"</span>"}},this.updateLines=function(e,t,n){(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)&&this.scrollLines(e),this.config=e;for(var i=Math.max(t,e.firstRow),r=Math.min(n,e.lastRow),o=this.element.childNodes,s=0,a=e.firstRow;i>a;a++){var l=this.session.getFoldLine(a);if(l){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}s++}for(var a=i,l=this.session.getNextFoldLine(a),c=l?l.start.row:1/0;;){if(a>c&&(a=l.end.row+1,l=this.session.getNextFoldLine(a,l),c=l?l.start.row:1/0),a>r)break;var u=o[s++];if(u){var d=[];this.$renderLine(d,a,!this.$useLineGroups(),a==c?l:!1),u.style.height=e.lineHeight*this.session.getRowLength(a)+"px",u.innerHTML=d.join("")}a++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var n=this.element;if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)n.removeChild(n.firstChild);if(t.lastRow>e.lastRow)for(var i=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);i>0;i--)n.removeChild(n.lastChild);if(e.firstRow<t.firstRow){var r=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)}if(e.lastRow>t.lastRow){var r=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);n.appendChild(r)}},this.$renderLinesFragment=function(e,t,n){for(var r=this.element.ownerDocument.createDocumentFragment(),o=t,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;;){if(o>a&&(o=s.end.row+1,s=this.session.getNextFoldLine(o,s),a=s?s.start.row:1/0),o>n)break;var l=i.createElement("div"),c=[];if(this.$renderLine(c,o,!1,o==a?s:!1),l.innerHTML=c.join(""),this.$useLineGroups())l.className="ace_line_group",r.appendChild(l),l.style.height=e.lineHeight*this.session.getRowLength(o)+"px";else for(;l.firstChild;)r.appendChild(l.firstChild);o++}return r},this.update=function(e){this.config=e;for(var t=[],n=e.firstRow,i=e.lastRow,r=n,o=this.session.getNextFoldLine(r),s=o?o.start.row:1/0;;){if(r>s&&(r=o.end.row+1,o=this.session.getNextFoldLine(r,o),s=o?o.start.row:1/0),r>i)break;this.$useLineGroups()&&t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(r),"px'>"),this.$renderLine(t,r,!1,r==s?o:!1),this.$useLineGroups()&&t.push("</div>"),r++}this.element.innerHTML=t.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,i){var o=this,s=/\t|&|<|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,a=function(e,n,i,s){if(n)return o.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+r.stringRepeat(o.SPACE_CHAR,e.length)+"</span>":r.stringRepeat("",e.length);if("&"==e)return"&#38;";if("<"==e)return"&#60;";if("	"==e){var a=o.session.getScreenTabSize(t+s);return t+=a-1,o.$tabStrings[a]}if(""==e){var l=o.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",c=o.showInvisibles?o.SPACE_CHAR:"";return t+=1,"<span class='"+l+"' style='width:"+2*o.config.characterWidth+"px'>"+c+"</span>"}return i?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+o.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+2*o.config.characterWidth+"px'>"+e+"</span>")},l=i.replace(s,a);if(this.$textToken[n.type])e.push(l);else{var c="ace_"+n.type.replace(/\./g," ace_"),u="";"fold"==n.type&&(u=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",c,"'",u,">",l,"</span>")}return t+i.length},this.renderIndentGuide=function(e,t,n){var i=t.search(this.$indentGuideRe);return 0>=i||i>=n?t:" "==t[0]?(i-=i%this.tabSize,e.push(r.stringRepeat(this.$tabStrings[" "],i/this.tabSize)),t.substr(i)):"	"==t[0]?(e.push(r.stringRepeat(this.$tabStrings["	"],i)),t.substr(i)):t},this.$renderWrappedLine=function(e,t,n,i){for(var r=0,o=0,s=n[0],a=0,l=0;t.length>l;l++){var c=t[l],u=c.value;if(0==l&&this.displayIndentGuides){if(r=u.length,u=this.renderIndentGuide(e,u,s),!u)continue;r-=u.length}if(s>r+u.length)a=this.$renderToken(e,a,c,u),r+=u.length;else{for(;r+u.length>=s;)a=this.$renderToken(e,a,c,u.substring(0,s-r)),u=u.substring(s-r),r=s,i||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),o++,a=0,s=n[o]||Number.MAX_VALUE;0!=u.length&&(r+=u.length,a=this.$renderToken(e,a,c,u))}}},this.$renderSimpleLine=function(e,t){var n=0,i=t[0],r=i.value;this.displayIndentGuides&&(r=this.renderIndentGuide(e,r)),r&&(n=this.$renderToken(e,n,i,r));for(var o=1;t.length>o;o++)i=t[o],r=i.value,n=this.$renderToken(e,n,i,r)},this.$renderLine=function(e,t,n,i){if(i||0==i||(i=this.session.getFoldLine(t)),i)var r=this.$getFoldLineTokens(t,i);else var r=this.session.getTokens(t);if(n||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>"),r.length){var o=this.session.getRowSplitData(t);o&&o.length?this.$renderWrappedLine(e,r,o,n):this.$renderSimpleLine(e,r)}this.showInvisibles&&(i&&(t=i.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||e.push("</div>")},this.$getFoldLineTokens=function(e,t){function n(e,t,n){for(var i=0,o=0;t>o+e[i].value.length;)if(o+=e[i].value.length,i++,i==e.length)return;if(o!=t){var s=e[i].value.substring(t-o);s.length>n-t&&(s=s.substring(0,n-t)),r.push({type:e[i].type,value:s}),o=t+s.length,i+=1}for(;n>o&&e.length>i;){var s=e[i].value;s.length+o>n?r.push({type:e[i].type,value:s.substring(0,n-o)}):r.push(e[i]),o+=s.length,i+=1}}var i=this.session,r=[],o=i.getTokens(e);return t.walk(function(e,t,s,a,l){null!=e?r.push({type:"fold",value:e}):(l&&(o=i.getTokens(t)),o.length&&n(o,a,s))},t.end.row,this.session.getLine(t.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(s.prototype),t.Text=s}),define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t){"use strict";var n,i=e("../lib/dom"),r=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),void 0===n&&(n="opacity"in this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateVisibility.bind(this)};(function(){this.$updateVisibility=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.visibility=e?"":"hidden"},this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.opacity=e?"":"0"},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e==this.smoothBlinking||n||(this.smoothBlinking=e,i.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.$updateCursors=(e?this.$updateOpacity:this.$updateVisibility).bind(this),this.restartTimer())},this.addCursor=function(){var e=i.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&i.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e),i=this.$padding+n.column*this.config.characterWidth,r=(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:i,top:r}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,i=0;(void 0===t||0===t.length)&&(t=[{cursor:null}]);for(var n=0,r=t.length;r>n;n++){var o=this.getPixelPosition(t[n].cursor,!0);if(!((o.top>e.height+e.offset||0>o.top)&&n>1)){var s=(this.cursors[i++]||this.addCursor()).style;this.drawCursor?this.drawCursor(s,o,e,t[n],this.session):(s.left=o.left+"px",s.top=o.top+"px",s.width=e.characterWidth+"px",s.height=e.lineHeight+"px")}}for(;this.cursors.length>i;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(r.prototype),t.Cursor=r}),define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/dom"),r=e("./lib/event"),o=e("./lib/event_emitter").EventEmitter,s=function(e){this.element=i.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,r.addListener(this.element,"scroll",this.onScroll.bind(this)),r.addListener(this.element,"mousedown",r.preventDefault)};(function(){n.implement(this,o),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e}}).call(s.prototype);var a=function(e,t){s.call(this,e),this.scrollTop=0,t.$scrollbarWidth=this.width=i.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};n.inherits(a,s),function(){this.classSuffix="-v",this.onScroll=function(){this.skipEvent||(this.scrollTop=this.element.scrollTop,this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=function(e){this.inner.style.height=e+"px"},this.setScrollHeight=function(e){this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=this.element.scrollTop=e)}}.call(a.prototype);var l=function(e,t){s.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};n.inherits(l,s),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(l.prototype),t.ScrollBar=a,t.ScrollBarV=a,t.ScrollBarH=l,t.VScrollBar=a,t.HScrollBar=l}),define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t){"use strict";var n=e("./lib/event"),i=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){if(this.changes=this.changes|e,!this.pending&&this.changes){this.pending=!0;var t=this;n.nextFrame(function(){t.pending=!1;for(var e;e=t.changes;)t.changes=0,t.onRender(e)},this.window)}}}).call(i.prototype),t.RenderLoop=i}),define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t){var n=e("../lib/oop"),i=e("../lib/dom"),r=e("../lib/lang"),o=e("../lib/useragent"),s=e("../lib/event_emitter").EventEmitter,a=0,l=t.FontMetrics=function(e){this.el=i.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=i.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=i.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),a||this.$testFractionalRect(),this.$measureNode.innerHTML=r.stringRepeat("X",a),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){n.implement(this,s),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var e=i.createElement("div");this.$setMeasureNodeStyles(e.style),e.style.width="0.2px",document.documentElement.appendChild(e);var t=e.getBoundingClientRect().width;a=t>0&&1>t?50:100,e.parentNode.removeChild(e)},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",8>o.isIE?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&this.$pollSizeChangesTimer},this.$measureSizes=function(){if(50===a){var e=null;try{e=this.$measureNode.getBoundingClientRect()}catch(t){e={width:0,height:0}}var n={height:e.height,width:e.width/a}}else var n={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/a};return 0===n.width||0===n.height?null:n},this.$measureCharWidth=function(e){this.$main.innerHTML=r.stringRepeat(e,a);var t=this.$main.getBoundingClientRect();return t.width/a},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(l.prototype)}),define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/dom"),r=e("./config"),o=e("./lib/useragent"),s=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,l=e("./layer/text").Text,c=e("./layer/cursor").Cursor,u=e("./scrollbar").HScrollBar,d=e("./scrollbar").VScrollBar,h=e("./renderloop").RenderLoop,p=e("./layer/font_metrics").FontMetrics,f=e("./lib/event_emitter").EventEmitter,g='.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}';
i.importCssString(g,"ace_editor");var m=function(e,t){var n=this;this.container=e||i.createElement("div"),this.$keepTextAreaAtCursor=!o.isOldIE,i.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var f=this.$textLayer=new l(this.content);this.canvas=f.element,this.$markerFront=new a(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container,500),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new h(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),r.resetOptions(this),r._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,f),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&0>=e.getScrollTop()&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),t>this.$changedLines.lastRow&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var o=this.$updateCachedSize(e,t,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,i){i-=this.$extraHeight||0;var r=0,o=this.$size,s={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};return i&&(e||o.height!=i)&&(o.height=i,r|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",r|=this.CHANGE_SCROLL),n&&(e||o.width!=n)&&(r|=this.CHANGE_SIZE,o.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",o.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(r|=this.CHANGE_FULL)),o.$dirty=!n||!i,r&&this._signal("resize",s),r},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,e=this.$cursorLayer.getPixelPosition(n,!0),t*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=t+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=i.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.content},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var e=this.layerConfig,t=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;t-=e.offset;var i=this.textarea.style,r=this.lineHeight;if(0>t||t>e.height-r)return i.top=i.left="0",void 0;var o=this.characterWidth;if(this.$composition){var s=this.textarea.value.replace(/^\x01+/,"");o*=this.session.$getStringScreenWidth(s)[0]+2,r+=2}n-=this.scrollLeft,n>this.$size.scrollerWidth-o&&(n=this.$size.scrollerWidth-o),n+=this.gutterWidth,i.height=r+"px",i.width=o+"px",i.left=Math.min(n,this.$size.scrollerWidth-o)+"px",i.top=Math.min(t,this.$size.height-r)+"px"}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=Math.floor((this.layerConfig.height+this.layerConfig.offset)/this.layerConfig.lineHeight);return this.layerConfig.firstRow-1+e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,i){var r=this.scrollMargin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&0>=this.scrollTop&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!e&&!t)return this.$changes|=e,void 0;if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+"px",this.content.style.marginTop=-n.offset+"px",this.content.style.width=n.width+2*this.$padding+"px",this.content.style.height=n.minHeight+"px"}return e&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=0>=this.scrollLeft?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this._signal("afterRender"),void 0):e&this.CHANGE_SCROLL?(e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),this._signal("afterRender"),void 0):(e&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender"),void 0)},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.max((this.$minLines||1)*this.lineHeight,Math.min(t,e))+this.scrollMargin.v+(this.$extraHeight||0),i=e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){this.$maxLines&&this.lineHeight>1&&this.$autosize();var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,i=this.session.getScreenLength(),r=i*this.lineHeight,o=this.scrollTop%this.lineHeight,s=t.scrollerHeight+this.lineHeight,a=this.$getLongestLine(),l=!n&&(this.$hScrollBarAlwaysVisible||0>t.scrollerWidth-a-2*this.$padding),c=this.$horizScroll!==l;c&&(this.$horizScroll=l,this.scrollBarH.setVisible(l));var u=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;r+=u,this.session.setScrollTop(Math.max(-this.scrollMargin.top,Math.min(this.scrollTop,r-t.scrollerHeight+this.scrollMargin.bottom))),this.session.setScrollLeft(Math.max(-this.scrollMargin.left,Math.min(this.scrollLeft,a+2*this.$padding-t.scrollerWidth+this.scrollMargin.right)));var d=!n&&(this.$vScrollBarAlwaysVisible||0>t.scrollerHeight-r+u||this.scrollTop),h=this.$vScroll!==d;h&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var p,f,g=Math.ceil(s/this.lineHeight)-1,m=Math.max(0,Math.round((this.scrollTop-o)/this.lineHeight)),v=m+g,y=this.lineHeight;m=e.screenToDocumentRow(m,0);var b=e.getFoldLine(m);b&&(m=b.start.row),p=e.documentToScreenRow(m,0),f=e.getRowLength(m)*y,v=Math.min(e.screenToDocumentRow(v,0),e.getLength()-1),s=t.scrollerHeight+e.getRowLength(v)*y+f,o=this.scrollTop-p*y;var E=0;return this.layerConfig.width!=a&&(E=this.CHANGE_H_SCROLL),(c||h)&&(E=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),h&&(a=this.$getLongestLine())),this.layerConfig={width:a,padding:this.$padding,firstRow:m,firstRowScreen:p,lastRow:v,lineHeight:y,characterWidth:this.characterWidth,minHeight:s,maxHeight:r,offset:o,gutterOffset:Math.max(0,Math.ceil((o+t.height-t.scrollerHeight)/y)),height:this.$size.scrollerHeight},E},this.$updateLines=function(){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;return e>n.lastRow+1||n.firstRow>t?void 0:1/0===t?(this.$showGutter&&this.$gutterLayer.update(n),this.$textLayer.update(n),void 0):(this.$textLayer.updateLines(n,e,t),!0)},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(e),r=i.left,o=i.top,s=n&&n.top||0,a=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>o?(t&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight-this.$size.scrollerHeight));var c=this.scrollLeft;c>r?(this.$padding+2*this.layerConfig.characterWidth>r&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):c+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):this.$padding>=c&&this.characterWidth>r-c&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(t||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,i=this.STEPS,r=[],o=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;i>n;++n)r.push(o(n/this.STEPS,e,t-e));return r},this.scrollToLine=function(e,t,n,i){var r=this.$cursorLayer.getPixelPosition({row:e,column:0}),o=r.top;t&&(o-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(o),n!==!1&&this.animateScrolling(s,i)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(e=r[0],e==n))return}var o=i.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),i.session.setScrollTop(o.shift()),i.session.$scrollTop=n,this.$timer=setInterval(function(){o.length?(i.session.setScrollTop(o.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,t&&t())},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return 0>t&&this.session.getScrollTop()>=1-this.scrollMargin.top?!0:t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom?!0:0>e&&this.session.getScrollLeft()>=1-this.scrollMargin.left?!0:e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right?!0:void 0},this.pixelToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=(e+this.scrollLeft-n.left-this.$padding)/this.characterWidth,r=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),o=Math.round(i);return{row:r,column:o,side:i-o>0?1:-1}},this.screenToTextCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=Math.round((e+this.scrollLeft-n.left-this.$padding)/this.characterWidth),r=(t+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(r,Math.max(i,0))},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),r=this.$padding+Math.round(i.column*this.characterWidth),o=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(i.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(e,t){function n(n){if(o.$themeId!=e)return t&&t();if(n.cssClass){i.importCssString(n.cssText,n.cssClass,o.container.ownerDocument),o.theme&&i.removeCssClass(o.container,o.theme.cssClass);var r="padding"in n?n.padding:"padding"in(o.theme||{})?4:o.$padding;o.$padding&&r!=o.$padding&&o.setPadding(r),o.$theme=n.cssClass,o.theme=n,i.addCssClass(o.container,n.cssClass),i.setCssClass(o.container,"ace_dark",n.isDark),o.$size&&(o.$size.width=0,o.$updateSizeAsync()),o._dispatchEvent("themeLoaded",{theme:n}),t&&t()}}var o=this;if(this.$themeId=e,o._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)n(e);else{var s=e||this.$options.theme.initialValue;r.loadModule(["theme",s],n)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){i.setCssClass(this.container,e,t!==!1)},this.unsetStyle=function(e){i.removeCssClass(this.container,e)},this.setCursorStyle=function(e){this.scroller.style.cursor!=e&&(this.scroller.style.cursor=e)},this.setMouseCursor=function(e){this.scroller.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(m.prototype),r.defineOptions(m.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){return this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=e?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight(),void 0):(this.$gutterLineHighlight=i.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",this.$gutter.appendChild(this.$gutterLineHighlight),void 0)},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(){this.updateFull()}},minLines:{set:function(){this.updateFull()}},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),t.VirtualRenderer=m}),define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("../lib/net"),r=e("../lib/event_emitter").EventEmitter,o=e("../config"),s=function(t,n,i,r){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),o.get("packaged")||!e.toUrl)r=r||o.moduleUrl(n,"worker");else{var s=this.$normalizePath;r=r||s(e.toUrl("ace/worker/worker.js",null,"_"));var a={};t.forEach(function(t){a[t]=s(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{this.$worker=new Worker(r)}catch(l){if(!(l instanceof window.DOMException))throw l;var c=this.$workerBlob(r),u=window.URL||window.webkitURL,d=u.createObjectURL(c);this.$worker=new Worker(d),u.revokeObjectURL(d)}this.$worker.postMessage({init:!0,tlns:a,module:n,classname:i}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){n.implement(this,r),this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return i.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,t.push(i)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue?this.deltaQueue.push(e.data):(this.deltaQueue=[e.data],setTimeout(this.$sendDeltaQueue,0))},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>20&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))},this.$workerBlob=function(e){var t="importScripts('"+i.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(n){var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,o=new r;return o.append(t),o.getBlob("application/javascript")}}}).call(s.prototype);var a=function(e,t,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var i=null,s=!1,a=Object.create(r),l=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){l.messageBuffer.push(e),i&&(s?setTimeout(c):c())},this.setEmitSync=function(e){s=e};var c=function(){var e=l.messageBuffer.shift();e.command?i[e.command].apply(i,e.args):e.event&&a._signal(e.event,e.data)};a.postMessage=function(e){l.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},o.loadModule(["worker",t],function(e){for(i=new e[n](a);l.messageBuffer.length;)c()})};a.prototype=s.prototype,t.UIWorkerClient=a,t.WorkerClient=s}),define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t){"use strict";var n=e("./range").Range,i=e("./lib/event_emitter").EventEmitter,r=e("./lib/oop"),o=function(e,t,n,i,r,o){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=r,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout(function(){s.onCursorChange()})},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){r.implement(this,i),this.setup=function(){var e=this,t=this.doc,i=this.session,r=this.$pos;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=t.createAnchor(r.row,r.column),this.markerId=i.addMarker(new n(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.pos.on("change",function(t){i.removeMarker(e.markerId),e.markerId=i.addMarker(new n(t.value.row,t.value.column,t.value.row,t.value.column+e.length),e.mainClass,null,!1)}),this.others=[],this.$others.forEach(function(n){var i=t.createAnchor(n.row,n.column);e.others.push(i)}),i.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=e.addMarker(new n(i.row,i.column,i.row,i.column+t.length),t.othersClass,null,!1),i.on("change",function(r){e.removeMarker(i.markerId),i.markerId=e.addMarker(new n(r.value.row,r.value.column,r.value.row,r.value.column+t.length),t.othersClass,null,!1)})})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;this.others.length>e;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){var t=e.data,i=t.range;if(i.start.row===i.end.row&&i.start.row===this.pos.row&&!this.$updating){this.$updating=!0;
var r="insertText"===t.action?i.end.column-i.start.column:i.start.column-i.end.column;if(i.start.column>=this.pos.column&&i.start.column<=this.pos.column+this.length+1){var o=i.start.column-this.pos.column;if(this.length+=r,!this.session.$fromUndo){if("insertText"===t.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+o};a.row===i.start.row&&i.start.column<a.column&&(l.column+=r),this.doc.insert(l,t.text)}else if("removeText"===t.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+o};a.row===i.start.row&&i.start.column<a.column&&(l.column+=r),this.doc.remove(new n(l.row,l.column,l.row,l.column-r))}i.start.column===this.pos.column&&"insertText"===t.action?setTimeout(function(){this.pos.setPosition(this.pos.row,this.pos.column-r);for(var e=0;this.others.length>e;e++){var t=this.others[e],n={row:t.row,column:t.column-r};t.row===i.start.row&&i.start.column<t.column&&(n.column+=r),t.setPosition(n.row,n.column)}}.bind(this),0):i.start.column===this.pos.column&&"removeText"===t.action&&setTimeout(function(){for(var e=0;this.others.length>e;e++){var t=this.others[e];t.row===i.start.row&&i.start.column<t.column&&t.setPosition(t.row,t.column-r)}}.bind(this),0)}this.pos._emit("change",{value:this.pos});for(var s=0;this.others.length>s;s++)this.others[s]._emit("change",{value:this.others[s]})}this.$updating=!1}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.pos.detach();for(var e=0;this.others.length>e;e++)this.others[e].detach();this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1===this.$undoStackDepth)throw Error("Canceling placeholders only supported with undo manager attached to session.");for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;t>n;n++)e.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}).call(o.prototype),t.PlaceHolder=o}),define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t){function n(e,t){return e.row==t.row&&e.column==t.column}function i(e){var t=e.domEvent,i=t.altKey,s=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&o.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)return e.editor.textInput.onContextMenu(e.domEvent),void 0;if(!a&&!i&&!l)return 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode(),void 0;if(0===c){var u,d=e.editor,h=d.selection,p=d.inMultiSelectMode,f=e.getDocumentPosition(),g=h.getCursor(),m=e.inSelection()||h.isEmpty()&&n(f,g),v=e.x,y=e.y,b=function(e){v=e.clientX,y=e.clientY},E=d.session,C=d.renderer.pixelToScreenCoordinates(v,y),_=C;if(d.$mouseHandler.$enableJumpToDef)a&&i||l&&i?u="add":i&&(u="block");else if(l&&!i){if(u="add",!p&&s)return}else i&&(u="block");if(u&&o.isMac&&t.ctrlKey&&d.$mouseHandler.cancelContextMenu(),"add"==u){if(!p&&m)return;if(!p){var w=h.toOrientedRange();d.addSelectionMarker(w)}var A=h.rangeList.rangeAtPoint(f);d.$blockScrolling++,d.inVirtualSelectionMode=!0,s&&(A=null,w=h.ranges[0],d.removeSelectionMarker(w)),d.once("mouseup",function(){var e=h.toOrientedRange();A&&e.isEmpty()&&n(A.cursor,e.cursor)?h.substractPoint(e.cursor):(s?h.substractPoint(w.cursor):w&&(d.removeSelectionMarker(w),h.addRange(w)),h.addRange(e)),d.$blockScrolling--,d.inVirtualSelectionMode=!1})}else if("block"==u){e.stop(),d.inVirtualSelectionMode=!0;var S,D=[],x=function(){var e=d.renderer.pixelToScreenCoordinates(v,y),t=E.screenToDocumentPosition(e.row,e.column);n(_,e)&&n(t,h.lead)||(_=e,d.$blockScrolling++,d.selection.moveToPosition(t),d.renderer.scrollCursorIntoView(),d.removeSelectionMarkers(D),D=h.rectangularRangeBlock(_,C),d.$mouseHandler.$clickSelection&&1==D.length&&D[0].isEmpty()&&(D[0]=d.$mouseHandler.$clickSelection.clone()),D.forEach(d.addSelectionMarker,d),d.updateSelectionMarkers(),d.$blockScrolling--)};d.$blockScrolling++,p&&!l?h.toSingleRange():!p&&l&&(S=h.toOrientedRange(),d.addSelectionMarker(S)),s?C=E.documentToScreenPosition(h.lead):h.moveToPosition(f),d.$blockScrolling--,_={row:-1,column:-1};var T=function(){clearInterval(F),d.removeSelectionMarkers(D),D.length||(D=[h.toOrientedRange()]),d.$blockScrolling++,S&&(d.removeSelectionMarker(S),h.toSingleRange(S));for(var e=0;D.length>e;e++)h.addRange(D[e]);d.inVirtualSelectionMode=!1,d.$mouseHandler.$clickSelection=null,d.$blockScrolling--},k=x;r.capture(d.container,b,T);var F=setInterval(function(){k()},20);return e.preventDefault()}}}var r=e("../lib/event"),o=e("../lib/useragent");t.onMouseDown=i}),define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readonly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readonly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readonly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readonly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readonly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readonly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readonly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readonly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readonly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readonly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readonly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var n=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new n(t.multiSelectCommands)}),define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t){function n(e,t,n){return f.$options.wrap=!0,f.$options.needle=t,f.$options.backwards=-1==n,f.find(e)}function i(e,t){return e.row==t.row&&e.column==t.column}function r(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",c),e.commands.addCommands(h.defaultCommands),o(e))}function o(e){function t(){i&&(e.renderer.setMouseCursor(""),i=!1)}var n=e.textInput.getElement(),i=!1;u.addListener(n,"keydown",function(n){18!=n.keyCode||n.ctrlKey||n.shiftKey||n.metaKey?i&&t():i||(e.renderer.setMouseCursor("crosshair"),i=!0)}),u.addListener(n,"keyup",t),u.addListener(n,"blur",t)}var s=e("./range_list").RangeList,a=e("./range").Range,l=e("./selection").Selection,c=e("./mouse/multi_select_handler").onMouseDown,u=e("./lib/event"),d=e("./lib/lang"),h=e("./commands/multi_select_commands");t.commands=h.defaultCommands.concat(h.multiSelectCommands);var p=e("./search").Search,f=new p,g=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(g.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);return t?(this.$onRemoveRange(t),t[0]):void 0},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new s,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=a.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var n=this.getRange(),i=this.isBackwards(),r=n.start.row,o=n.end.row;if(r==o){if(i)var s=n.end,l=n.start;else var s=n.start,l=n.end;return this.addRange(a.fromPoints(l,l)),this.addRange(a.fromPoints(s,s)),void 0}var c=[],u=this.getLineRange(r,!0);u.start.column=n.start.column,c.push(u);for(var d=r+1;o>d;d++)c.push(this.getLineRange(d,!0));u=this.getLineRange(o,!0),u.end.column=n.end.column,c.push(u),c.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=a.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.selectionLead),r=this.session.documentToScreenPosition(this.selectionAnchor),o=this.rectangularRangeBlock(i,r);o.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],o=e.column<t.column;if(o)var s=e.column,l=t.column;else var s=t.column,l=e.column;var c=e.row<t.row;if(c)var u=e.row,d=t.row;else var u=t.row,d=e.row;0>s&&(s=0),0>u&&(u=0),u==d&&(n=!0);for(var h=u;d>=h;h++){var p=a.fromPoints(this.session.screenToDocumentPosition(h,s),this.session.screenToDocumentPosition(h,l));if(p.isEmpty()){if(f&&i(p.end,f))break;var f=p.end}p.cursor=o?p.start:p.end,r.push(p)}if(c&&r.reverse(),!n){for(var g=r.length-1;r[g].isEmpty()&&g>0;)g--;if(g>0)for(var m=0;r[m].isEmpty();)m++;for(var v=g;v>=m;v--)r[v].isEmpty()&&r.splice(v,1)}return r}}.call(l.prototype);var m=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var i=e[n];if(i.marker){this.session.removeMarker(i.marker);var r=t.indexOf(i);-1!=r&&t.splice(r,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?i=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),i=t.exec(n,e.args||{})):i=t.multiSelectAction(n,e.args||{});else{var i=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,o=1==n||n&&n.$byLines,s=this.session,a=this.selection,c=a.rangeList,u=(r?a:c).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var d=a._eventRegistry;a._eventRegistry={};var h=new l(s);this.inVirtualSelectionMode=!0;for(var p=u.length;p--;){if(o)for(;p>0&&u[p].start.row==u[p-1].end.row;)p--;h.fromOrientedRange(u[p]),h.index=p,this.selection=s.selection=h;var f=e.exec?e.exec(this,t||{}):e(this,t||{});i||void 0===f||(i=f),h.toOrientedRange(u[p])}h.detach(),this.selection=s.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=d,a.mergeOverlappingRanges();var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],i=0;t.length>i;i++)n.push(this.session.getTextRange(t[i]));var r=this.session.getDocument().getNewLineCharacter();e=n.join(r),e.length==(n.length-1)*r.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var i=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;(i.row!=t.row||this.session.$clipPositionToDocument(i.row,i.column).column!=t.column)&&this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(e,t,n){if(t=t||{},t.needle=e||t.needle,void 0==t.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(i)}this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;this.$blockScrolling+=1;var o=this.multiSelect;n||o.toSingleRange(r[0]);for(var s=r.length;s--;)o.addRange(r[s],!0);return i&&o.rangeList.rangeAtPoint(i.start)&&o.addRange(i,!0),this.$blockScrolling-=1,r.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,r=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(r.column=this.selection.$desiredColumn);var o=this.session.screenToDocumentPosition(r.row+e,r.column);if(n.isEmpty())var s=o;else var l=this.session.documentToScreenPosition(i?n.end:n.start),s=this.session.screenToDocumentPosition(l.row+e,l.column);if(i){var c=a.fromPoints(o,s);c.cursor=c.start}else{var c=a.fromPoints(s,o);c.cursor=c.end}if(c.desiredColumn=r.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(c),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,i=n.ranges,r=i.length;r--;){var o=i[r];if(o.isEmpty()){var s=t.getWordRange(o.start.row,o.start.column);o.start.row=s.start.row,o.start.column=s.start.column,o.end.row=s.end.row,o.end.column=s.end.column}}n.mergeOverlappingRanges();for(var a=[],r=i.length;r--;){var o=i[r];a.unshift(t.getTextRange(o))}0>e?a.unshift(a.pop()):a.push(a.shift());for(var r=i.length;r--;){var o=i[r],s=o.clone();t.replace(o,a[r]),o.start.row=s.start.row,o.start.column=s.start.column}},this.selectMore=function(e,t,i){var r=this.session,o=r.multiSelect,s=o.toOrientedRange();if(!s.isEmpty()||(s=r.getWordRange(s.start.row,s.start.column),s.cursor=-1==e?s.start:s.end,this.multiSelect.addRange(s),!i)){var a=r.getTextRange(s),l=n(r,a,e);l&&(l.cursor=-1==e?l.start:l.end,this.$blockScrolling+=1,this.session.unfold(l),this.multiSelect.addRange(l),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(s.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,i=-1,r=n.filter(function(e){return e.cursor.row==i?!0:(i=e.cursor.row,void 0)});if(n.length&&r.length!=n.length-1){r.forEach(function(e){t.substractPoint(e.cursor)});var o=0,s=1/0,l=n.map(function(t){var n=t.cursor,i=e.getLine(n.row),r=i.substr(n.column).search(/\S/g);return-1==r&&(r=0),n.column>o&&(o=n.column),s>r&&(s=r),r});n.forEach(function(t,n){var i=t.cursor,r=o-i.column,c=l[n]-s;r>c?e.insert(i,d.stringRepeat(" ",r-c)):e.remove(new a(i.row,i.column,i.row,i.column-r+c)),t.start.column=t.end.column=o,t.start.row=t.end.row=i.row,t.cursor=t.end}),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),u=c.start.row,h=c.end.row,p=u==h;if(p){var f,g=this.session.getLength();do f=this.session.getLine(h);while(/[=:]/.test(f)&&g>++h);do f=this.session.getLine(u);while(/[=:]/.test(f)&&--u>0);0>u&&(u=0),h>=g&&(h=g-1)}var m=this.session.doc.removeLines(u,h);m=this.$reAlignText(m,p),this.session.doc.insert({row:u,column:0},m.join("\n")+"\n"),p||(c.start.column=0,c.end.column=m[m.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(e,t){function n(e){return d.stringRepeat(" ",e)}function i(e){return e[2]?n(s)+e[2]+n(a-e[2].length+l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function r(e){return e[2]?n(s+a-e[2].length)+e[2]+n(l," ")+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function o(e){return e[2]?n(s)+e[2]+n(l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var s,a,l,c=!0,u=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==s?(s=t[1].length,a=t[2].length,l=t[3].length,t):(s+a+l!=t[1].length+t[2].length+t[3].length&&(u=!1),s!=t[1].length&&(c=!1),s>t[1].length&&(s=t[1].length),t[2].length>a&&(a=t[2].length),l>t[3].length&&(l=t[3].length),t):[e]}).map(t?i:c?u?r:i:o)}}).call(m.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=r,e("./config").defineOptions(m.prototype,"editor",{enableMultiselect:{set:function(e){r(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",c)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",c))},value:!0}})}),define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t){"use strict";var n=e("../../range").Range,i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(){return null},this.indentationBlock=function(e,t,i){var r=/\S/,o=e.getLine(t),s=o.search(r);if(-1!=s){for(var a=i||o.length,l=e.getLength(),c=t,u=t;l>++t;){var d=e.getLine(t).search(r);if(-1!=d){if(s>=d)break;u=t}}if(u>c){var h=e.getLine(u).length;return new n(c,a,u,h)}}},this.openingBracketBlock=function(e,t,i,r,o){var s={row:i,column:r+1},a=e.$findClosingBracket(t,s,o);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),n.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,i,r){var o={row:i,column:r},s=e.$findOpeningBracket(t,o);return s?(s.column++,o.column--,n.fromPoints(s,o)):void 0}}).call(i.prototype)}),define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;border-radius: 2px;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var n=e("../lib/dom");n.importCssString(t.cssText,t.cssClass)}),define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(e,t){"use strict";function n(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeEditor",this.$onChangeEditor)}e("./lib/oop");var i=e("./lib/dom");e("./range").Range,function(){this.getRowLength=function(e){var t;return t=this.lineWidgets?this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0:0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(){var e=this.editor;if(e){this.editor=null,e.widgetManager=null,e.renderer.off("beforeRender",this.measureWidgets),e.renderer.off("afterRender",this.renderWidgets);var t=this.session.lineWidgets;t&&t.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.data,i=n.range,r=i.start.row,o=i.end.row-r;if(0===o);else if("removeText"==n.action||"removeLines"==n.action){var s=t.splice(r+1,o);s.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var a=Array(o);a.unshift(r,0),t.splice.apply(t,a),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach(function(e,n){e&&(t=!1,e.row=n)}),t&&(this.session.lineWidgets=null)}},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=Array(this.session.getLength())),this.session.lineWidgets[e.row]=e;var t=this.editor.renderer;return e.html&&!e.el&&(e.el=i.createElement("div"),e.el.innerHTML=e.html),e.el&&(i.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),e.pixelHeight||(e.pixelHeight=e.el.offsetHeight),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight),this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(t){}this.session.lineWidgets&&(this.session.lineWidgets[e.row]=void 0),this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,i=t.layerConfig;if(n&&n.length){for(var r=1/0,o=0;n.length>o;o++){var s=n[o];s._inDocument||(s._inDocument=!0,t.container.appendChild(s.el)),s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/i.characterWidth));var a=s.h/i.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row),0>a&&(a=0)),s.rowCount!=a&&(s.rowCount=a,r>s.row&&(r=s.row))}1/0!=r&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var s=r;o>=s;s++){var a=i[s];if(a&&a.el){a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.el.style.right=a.fixedWidth?t.scrollBar.getWidth()+"px":""}}}}}.call(n.prototype),t.LineWidgets=n}),define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t){"use strict";function n(e,t,n){for(var i=0,r=e.length-1;r>=i;){var o=i+r>>1,s=n(t,e[o]);if(s>0)i=o+1;else{if(!(0>s))return o;r=o-1}}return-(i+1)}function i(e,t,i){var r=e.getAnnotations().sort(s.comparePoints);if(r.length){var o=n(r,{row:t,column:-1},s.comparePoints);0>o&&(o=-o-1),o>=r.length-1?o=i>0?0:r.length-1:0===o&&0>i&&(o=r.length-1);var a=r[o];if(a&&i){if(a.row===t){do a=r[o+=i];while(a&&a.row===t);if(!a)return r.slice()}var l=[];t=a.row;do l[0>i?"unshift":"push"](a),a=r[o+=i];while(a&&a.row==t);return l.length&&l}}}var r=e("../line_widgets").LineWidgets,o=e("../lib/dom"),s=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new r(n),n.widgetManager.attach(e));var s=e.getCursorPosition(),a=s.row,l=n.lineWidgets&&n.lineWidgets[a];l?l.destroy():a-=t;var c,u=i(n,a,t);if(u){var d=u[0];s.column=(d.pos&&"number"!=typeof d.column?d.pos.sc:d.column)||0,s.row=d.row,c=e.renderer.$gutterLayer.$annotations[s.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(s.row),e.selection.moveToPosition(s);var h={row:s.row,fixedWidth:!0,coverGutter:!0,el:o.createElement("div")},p=h.el.appendChild(o.createElement("div")),f=h.el.appendChild(o.createElement("div"));f.className="error_widget_arrow "+c.className;var g=e.renderer.$cursorLayer.getPixelPosition(s).left;f.style.left=g+e.renderer.gutterWidth-5+"px",h.el.className="error_widget_wrapper",p.className="error_widget "+c.className,p.innerHTML=c.text.join("<br>"),p.appendChild(o.createElement("div"));var m=function(e,t,n){return 0!==t||"esc"!==n&&"return"!==n?void 0:(h.destroy(),{command:"null"})
};h.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(h),e.off("changeSelection",h.destroy),e.off("changeSession",h.destroy),e.off("mouseup",h.destroy),e.off("change",h.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",h.destroy),e.on("changeSession",h.destroy),e.on("mouseup",h.destroy),e.on("change",h.destroy),e.session.widgetManager.addLineWidget(h),h.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:h.el.offsetHeight})},o.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,t){"use strict";e("./lib/fixoldbrowsers");var n=e("./lib/dom"),i=e("./lib/event"),r=e("./editor").Editor,o=e("./edit_session").EditSession,s=e("./undomanager").UndoManager,a=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,t.edit=function(e){if("string"==typeof e){var o=e;if(e=document.getElementById(o),!e)throw Error("ace.edit can't find div #"+o)}if(e&&e.env&&e.env.editor instanceof r)return e.env.editor;var s="";if(e&&/input|textarea/i.test(e.tagName)){var l=e;s=l.value,e=n.createElement("pre"),l.parentNode.replaceChild(e,l)}else s=n.getInnerText(e),e.innerHTML="";var c=t.createEditSession(s),u=new r(new a(e));u.setSession(c);var d={document:c,editor:u,onResize:u.resize.bind(u,null)};return l&&(d.textarea=l),i.addListener(window,"resize",d.onResize),u.on("destroy",function(){i.removeListener(window,"resize",d.onResize),d.editor.container.env=null}),u.container.env=u.env=d,u},t.createEditSession=function(e,t){var n=new o(e,t);return n.setUndoManager(new s),n},t.EditSession=o,t.UndoManager=s}),function(){window.require(["ace/ace"],function(e){e&&e.config.init(!0),window.ace||(window.ace=e);for(var t in e)e.hasOwnProperty(t)&&(window.ace[t]=e[t])})}(),function(e,t,n){function i(e){return c(arguments,function(t,i){e[t]===n&&(e[t]=i)}),e}function r(e){return c(arguments,function(t,n){e[E][o(e,t)||t]=n}),e}function o(e,t){var i,r,o=e[E];if(o[t]!==n)return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),r=0;P[h]>r;r++)if(i=P[r]+t,o[i]!==n)return i}function s(e,t){var n,i=[v,t,~~(100*e)].join("-"),r="{"+v+":"+e+"}";if(!$[i]){for(n=0;P[h]>n;n++)try{U.insertRule("@"+(P[n]&&"-"+P[n].toLowerCase()+"-"||"")+"keyframes "+i+"{0%{"+v+":1}"+t+"%"+r+"to"+r+"}",U.cssRules[h])}catch(o){}$[i]=1}return i}function a(e,t,n){return n&&!n[x]&&a(e,n),e.insertBefore(t,n||null),e}function l(e){var n=t.createElement(e||"div");return c(arguments,function(e,t){n[e]=t}),n}function c(e,t){for(var n=~~((e[h]-1)/2),i=1;n>=i;i++)t(e[2*i-1],e[2*i])}var u,d="width",h="length",p="radius",f="lines",g="trail",m="color",v="opacity",y="speed",b="shadow",E="style",C="height",_="left",w="top",A="px",S="childNodes",D="firstChild",x="parentNode",T="position",k="relative",F="absolute",N="animation",M="transform",R="Origin",L="Timeout",I="coord",O="#000",B=E+"Sheets",P="webkit0Moz0ms0O".split(0),$={};a(t.getElementsByTagName("head")[0],l(E));var U=t[B][t[B][h]-1],V=function(e){this.opts=i(e||{},f,12,g,100,h,7,d,5,p,10,m,O,v,.25,y,1)},j=V.prototype={spin:function(t){var n=this,i=n.el=n[f](n.opts);if(t&&a(t,r(i,_,~~(t.offsetWidth/2)+A,w,~~(t.offsetHeight/2)+A),t[D]),!u){var o=n.opts,s=0,l=20/o[y],c=(1-o[v])/(l*o[g]/100),d=l/o[f];(function h(){s++;for(var t=o[f];t;t--){var r=Math.max(1-(s+t*d)%l*c,o[v]);n[v](i,o[f]-t,r,o)}n[L]=n.el&&e["set"+L](h,50)})()}return n},stop:function(){var t=this,i=t.el;return e["clear"+L](t[L]),i&&i[x]&&i[x].removeChild(i),t.el=n,t}};j[f]=function(e){function t(t,n){return r(l(),T,F,d,e[h]+e[d]+A,C,e[d]+A,"background",t,"boxShadow",n,M+R,_,M,"rotate("+~~(360/e[f]*c)+"deg) translate("+e[p]+A+",0)","borderRadius","100em")}for(var n,i=r(l(),T,k),o=s(e[v],e[g]),c=0;e[f]>c;c++)n=r(l(),T,F,w,1+~(e[d]/2)+A,M,"translate3d(0,0,0)",N,o+" "+1/e[y]+"s linear infinite "+(1/e[f]/e[y]*c-1/e[y])+"s"),e[b]&&a(n,r(t(O,"0 0 4px "+O),w,2+A)),a(i,a(n,t(e[m],"0 0 1px rgba(0,0,0,.1)")));return i},j[v]=function(e,t,n){e[S][t][E][v]=n};var H="behavior",W="url(#default#VML)",z="group0roundrect0fill0stroke".split(0);(function(){var e,t=r(l(z[0]),H,W);if(!o(t,M)&&t.adj){for(e=0;z[h]>e;e++)U.addRule(z[e],H+":"+W);j[f]=function(){function e(e,n,s){a(c,a(r(t(),"rotation",360/i[f]*e+"deg",_,~~n),a(r(l(z[1],"arcsize",1),d,o,C,i[d],_,i[p],w,-i[d]/2,"filter",s),l(z[2],m,i[m],v,i[v]),l(z[3],v,0))))}function t(){return r(l(z[0],I+"size",s+" "+s,I+R,-o+" "+-o),d,s,C,s)}var n,i=this.opts,o=i[h]+i[d],s=2*o,c=t(),u=~(i[h]+i[p]+i[d])+A;if(i[b])for(n=1;i[f]>=n;n++)e(n,-2,"progid:DXImage"+M+".Microsoft.Blur(pixel"+p+"=2,make"+b+"=1,"+b+v+"=.3)");for(n=1;i[f]>=n;n++)e(n);return a(r(l(),"margin",u+" 0 0 "+u,T,k),c)},j[v]=function(e,t,n,i){i=i[b]&&i[f]||0,e[D][S][t+i][D][D][v]=n}}else u=o(t,N)})(),e.Spinner=V}(window,document),define("spin",function(){}),function(e){"use strict";function t(e){return e.replace(/,/g,".").replace(/[^0-9\.]/g,"")}function n(e){return parseFloat(t(e))>=10}var i,r={bridge:null,version:"0.0.0",disabled:null,outdated:null,ready:null},o={},s=0,a={},l=0,c={},u=null,d=null,h=function(){var e,t,n,i,r="ZeroClipboard.swf";if(document.currentScript&&(i=document.currentScript.src));else{var o=document.getElementsByTagName("script");if("readyState"in o[0])for(e=o.length;e--&&("interactive"!==o[e].readyState||!(i=o[e].src)););else if("loading"===document.readyState)i=o[o.length-1].src;else{for(e=o.length;e--;){if(n=o[e].src,!n){t=null;break}if(n=n.split("#")[0].split("?")[0],n=n.slice(0,n.lastIndexOf("/")+1),null==t)t=n;else if(t!==n){t=null;break}}null!==t&&(i=t)}}return i&&(i=i.split("#")[0].split("?")[0],r=i.slice(0,i.lastIndexOf("/")+1)+r),r}(),p=function(){var e=/\-([a-z])/g,t=function(e,t){return t.toUpperCase()};return function(n){return n.replace(e,t)}}(),f=function(t,n){var i,r,o;return e.getComputedStyle?i=e.getComputedStyle(t,null).getPropertyValue(n):(r=p(n),i=t.currentStyle?t.currentStyle[r]:t.style[r]),"cursor"!==n||i&&"auto"!==i||(o=t.tagName.toLowerCase(),"a"!==o)?i:"pointer"},g=function(t){t||(t=e.event);var n;this!==e?n=this:t.target?n=t.target:t.srcElement&&(n=t.srcElement),O.activate(n)},m=function(e,t,n){e&&1===e.nodeType&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n))},v=function(e,t,n){e&&1===e.nodeType&&(e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n))},y=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)||e.classList.add(t),e;if(t&&"string"==typeof t){var n=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var i=" "+e.className+" ",r=e.className,o=0,s=n.length;s>o;o++)0>i.indexOf(" "+n[o]+" ")&&(r+=" "+n[o]);e.className=r.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},b=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)&&e.classList.remove(t),e;if(t&&"string"==typeof t||void 0===t){var n=(t||"").split(/\s+/);if(1===e.nodeType&&e.className)if(t){for(var i=(" "+e.className+" ").replace(/[\n\t]/g," "),r=0,o=n.length;o>r;r++)i=i.replace(" "+n[r]+" "," ");e.className=i.replace(/^\s+|\s+$/g,"")}else e.className=""}return e},E=function(){var e,t,n,i=1;return"function"==typeof document.body.getBoundingClientRect&&(e=document.body.getBoundingClientRect(),t=e.right-e.left,n=document.body.offsetWidth,i=Math.round(100*(t/n))/100),i},C=function(t,n){var i={left:0,top:0,width:0,height:0,zIndex:x(n)-1};if(t.getBoundingClientRect){var r,o,s,a=t.getBoundingClientRect();"pageXOffset"in e&&"pageYOffset"in e?(r=e.pageXOffset,o=e.pageYOffset):(s=E(),r=Math.round(document.documentElement.scrollLeft/s),o=Math.round(document.documentElement.scrollTop/s));var l=document.documentElement.clientLeft||0,c=document.documentElement.clientTop||0;i.left=a.left+r-l,i.top=a.top+o-c,i.width="width"in a?a.width:a.right-a.left,i.height="height"in a?a.height:a.bottom-a.top}return i},_=function(e,t){var n=null==t||t&&t.cacheBust===!0&&t.useNoCache===!0;return n?(-1===e.indexOf("?")?"?":"&")+"noCache="+(new Date).getTime():""},w=function(t){var n,i,r,o=[],s=[],a=[];if(t.trustedOrigins&&("string"==typeof t.trustedOrigins?s.push(t.trustedOrigins):"object"==typeof t.trustedOrigins&&"length"in t.trustedOrigins&&(s=s.concat(t.trustedOrigins))),t.trustedDomains&&("string"==typeof t.trustedDomains?s.push(t.trustedDomains):"object"==typeof t.trustedDomains&&"length"in t.trustedDomains&&(s=s.concat(t.trustedDomains))),s.length)for(n=0,i=s.length;i>n;n++)if(s.hasOwnProperty(n)&&s[n]&&"string"==typeof s[n]){if(r=F(s[n]),!r)continue;if("*"===r){a=[r];break}a.push.apply(a,[r,"//"+r,e.location.protocol+"//"+r])}return a.length&&o.push("trustedOrigins="+encodeURIComponent(a.join(","))),"string"==typeof t.jsModuleId&&t.jsModuleId&&o.push("jsModuleId="+encodeURIComponent(t.jsModuleId)),o.join("&")},A=function(e,t,n){if("function"==typeof t.indexOf)return t.indexOf(e,n);var i,r=t.length;for(n===void 0?n=0:0>n&&(n=r+n),i=n;r>i;i++)if(t.hasOwnProperty(i)&&t[i]===e)return i;return-1},S=function(e){if("string"==typeof e)throw new TypeError("ZeroClipboard doesn't accept query strings.");return e.length?e:[e]},D=function(t,n,i,r){r?e.setTimeout(function(){t.apply(n,i)},0):t.apply(n,i)},x=function(e){var t,n;return e&&("number"==typeof e&&e>0?t=e:"string"==typeof e&&(n=parseInt(e,10))&&!isNaN(n)&&n>0&&(t=n)),t||("number"==typeof $.zIndex&&$.zIndex>0?t=$.zIndex:"string"==typeof $.zIndex&&(n=parseInt($.zIndex,10))&&!isNaN(n)&&n>0&&(t=n)),t||0},T=function(e,t){if(e&&t!==!1&&"undefined"!=typeof console&&console&&(console.warn||console.log)){var n="`"+e+"` is deprecated. See docs for more info:\n"+"    https://github.com/zeroclipboard/zeroclipboard/blob/master/docs/instructions.md#deprecations";console.warn?console.warn(n):console.log(n)}},k=function(){var e,t,n,i,r,o,s=arguments[0]||{};for(e=1,t=arguments.length;t>e;e++)if(null!=(n=arguments[e]))for(i in n)if(n.hasOwnProperty(i)){if(r=s[i],o=n[i],s===o)continue;void 0!==o&&(s[i]=o)}return s},F=function(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var n=e.indexOf("/");return e=-1===n?e:-1===t||0===n?null:e.slice(0,n),e&&".swf"===e.slice(-4).toLowerCase()?null:e||null},N=function(){var e=function(e,t){var n,i,r;if(null!=e&&"*"!==t[0]&&("string"==typeof e&&(e=[e]),"object"==typeof e&&"length"in e))for(n=0,i=e.length;i>n;n++)if(e.hasOwnProperty(n)&&(r=F(e[n]))){if("*"===r){t.length=0,t.push("*");break}-1===A(r,t)&&t.push(r)}},t={always:"always",samedomain:"sameDomain",never:"never"};return function(n,i){var r,o=i.allowScriptAccess;if("string"==typeof o&&(r=o.toLowerCase())&&/^always|samedomain|never$/.test(r))return t[r];var s=F(i.moviePath);null===s&&(s=n);var a=[];e(i.trustedOrigins,a),e(i.trustedDomains,a);var l=a.length;if(l>0){if(1===l&&"*"===a[0])return"always";if(-1!==A(n,a))return 1===l&&n===s?"sameDomain":"always"}return"never"}}(),M=function(e){if(null==e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},R=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&delete e[t];return e},L=function(){try{return document.activeElement}catch(e){}return null},I=function(){var e=!1;if("boolean"==typeof r.disabled)e=r.disabled===!1;else{if("function"==typeof ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){}!e&&navigator.mimeTypes["application/x-shockwave-flash"]&&(e=!0)}return e},O=function(e,t){return this instanceof O?(this.id=""+s++,a[this.id]={instance:this,elements:[],handlers:{}},e&&this.clip(e),t!==void 0&&(T("new ZeroClipboard(elements, options)",$.debug),O.config(t)),this.options=O.config(),"boolean"!=typeof r.disabled&&(r.disabled=!I()),r.disabled===!1&&r.outdated!==!0&&null===r.bridge&&(r.outdated=!1,r.ready=!1,U()),void 0):new O(e,t)};O.prototype.setText=function(e){return e&&""!==e&&(o["text/plain"]=e,r.ready===!0&&r.bridge&&"function"==typeof r.bridge.setText?r.bridge.setText(e):r.ready=!1),this},O.prototype.setSize=function(e,t){return r.ready===!0&&r.bridge&&"function"==typeof r.bridge.setSize?r.bridge.setSize(e,t):r.ready=!1,this};var B=function(e){r.ready===!0&&r.bridge&&"function"==typeof r.bridge.setHandCursor?r.bridge.setHandCursor(e):r.ready=!1};O.prototype.destroy=function(){this.unclip(),this.off(),delete a[this.id]};var P=function(){var e,t,n,i=[],r=M(a);for(e=0,t=r.length;t>e;e++)n=a[r[e]].instance,n&&n instanceof O&&i.push(n);return i};O.version="1.3.5";var $={swfPath:h,trustedDomains:e.location.host?[e.location.host]:[],cacheBust:!0,forceHandCursor:!1,zIndex:999999999,debug:!0,title:null,autoActivate:!0};O.config=function(e){"object"==typeof e&&null!==e&&k($,e);{if("string"!=typeof e||!e){var t={};for(var n in $)$.hasOwnProperty(n)&&(t[n]="object"==typeof $[n]&&null!==$[n]?"length"in $[n]?$[n].slice(0):k({},$[n]):$[n]);return t}if($.hasOwnProperty(e))return $[e]}},O.destroy=function(){O.deactivate();for(var e in a)if(a.hasOwnProperty(e)&&a[e]){var t=a[e].instance;t&&"function"==typeof t.destroy&&t.destroy()}var n=V(r.bridge);n&&n.parentNode&&(n.parentNode.removeChild(n),r.ready=null,r.bridge=null)},O.activate=function(e){i&&(b(i,$.hoverClass),b(i,$.activeClass)),i=e,y(e,$.hoverClass),j();var t=$.title||e.getAttribute("title");if(t){var n=V(r.bridge);n&&n.setAttribute("title",t)}var o=$.forceHandCursor===!0||"pointer"===f(e,"cursor");B(o)},O.deactivate=function(){var e=V(r.bridge);e&&(e.style.left="0px",e.style.top="-9999px",e.removeAttribute("title")),i&&(b(i,$.hoverClass),b(i,$.activeClass),i=null)};var U=function(){var t,n,i=document.getElementById("global-zeroclipboard-html-bridge");if(!i){var o=O.config();o.jsModuleId="string"==typeof u&&u||"string"==typeof d&&d||null;var s=N(e.location.host,$),a=w(o),l=$.moviePath+_($.moviePath,$),c='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+l+'"/>         <param name="allowScriptAccess" value="'+s+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+a+'"/>         <embed src="'+l+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="'+s+'"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+a+'"           scale="exactfit">         </embed>       </object>';i=document.createElement("div"),i.id="global-zeroclipboard-html-bridge",i.setAttribute("class","global-zeroclipboard-container"),i.style.position="absolute",i.style.left="0px",i.style.top="-9999px",i.style.width="15px",i.style.height="15px",i.style.zIndex=""+x($.zIndex),document.body.appendChild(i),i.innerHTML=c}t=document["global-zeroclipboard-flash-bridge"],t&&(n=t.length)&&(t=t[n-1]),r.bridge=t||i.children[0].lastElementChild},V=function(e){for(var t=/^OBJECT|EMBED$/,n=e&&e.parentNode;n&&t.test(n.nodeName)&&n.parentNode;)n=n.parentNode;return n||null},j=function(){if(i){var e=C(i,$.zIndex),t=V(r.bridge);t&&(t.style.top=e.top+"px",t.style.left=e.left+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.zIndex=e.zIndex+1),r.ready===!0&&r.bridge&&"function"==typeof r.bridge.setSize?r.bridge.setSize(e.width,e.height):r.ready=!1}return this};O.prototype.on=function(e,t){var n,i,o,s={},l=a[this.id]&&a[this.id].handlers;if("string"==typeof e&&e)o=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&t===void 0)for(n in e)e.hasOwnProperty(n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.on(n,e[n]);if(o&&o.length){for(n=0,i=o.length;i>n;n++)e=o[n].replace(/^on/,""),s[e]=!0,l[e]||(l[e]=[]),l[e].push(t);s.noflash&&r.disabled&&z.call(this,"noflash",{}),s.wrongflash&&r.outdated&&z.call(this,"wrongflash",{flashVersion:r.version}),s.load&&r.ready&&z.call(this,"load",{flashVersion:r.version})}return this},O.prototype.off=function(e,t){var n,i,r,o,s,l=a[this.id]&&a[this.id].handlers;if(0===arguments.length)o=M(l);else if("string"==typeof e&&e)o=e.split(/\s+/);else if("object"==typeof e&&e&&t===void 0)for(n in e)e.hasOwnProperty(n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.off(n,e[n]);if(o&&o.length)for(n=0,i=o.length;i>n;n++)if(e=o[n].toLowerCase().replace(/^on/,""),s=l[e],s&&s.length)if(t)for(r=A(t,s);-1!==r;)s.splice(r,1),r=A(t,s,r);else l[e].length=0;return this},O.prototype.handlers=function(e){var t,n=null,i=a[this.id]&&a[this.id].handlers;if(i){if("string"==typeof e&&e)return i[e]?i[e].slice(0):null;n={};for(t in i)i.hasOwnProperty(t)&&i[t]&&(n[t]=i[t].slice(0))}return n};var H=function(t,n,i,r){var o=a[this.id]&&a[this.id].handlers[t];if(o&&o.length){var s,l,c,u=n||this;for(s=0,l=o.length;l>s;s++)c=o[s],n=u,"string"==typeof c&&"function"==typeof e[c]&&(c=e[c]),"object"==typeof c&&c&&"function"==typeof c.handleEvent&&(n=c,c=c.handleEvent),"function"==typeof c&&D(c,n,i,r)}return this};O.prototype.clip=function(e){e=S(e);for(var t=0;e.length>t;t++)if(e.hasOwnProperty(t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===A(this.id,c[e[t].zcClippingId])&&c[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+l++,c[e[t].zcClippingId]=[this.id],$.autoActivate===!0&&m(e[t],"mouseover",g));var n=a[this.id].elements;-1===A(e[t],n)&&n.push(e[t])}return this},O.prototype.unclip=function(e){var t=a[this.id];if(t){var n,i=t.elements;e=e===void 0?i.slice(0):S(e);for(var r=e.length;r--;)if(e.hasOwnProperty(r)&&e[r]&&1===e[r].nodeType){for(n=0;-1!==(n=A(e[r],i,n));)i.splice(n,1);var o=c[e[r].zcClippingId];if(o){for(n=0;-1!==(n=A(this.id,o,n));)o.splice(n,1);0===o.length&&($.autoActivate===!0&&v(e[r],"mouseover",g),delete e[r].zcClippingId)}}}return this},O.prototype.elements=function(){var e=a[this.id];return e&&e.elements?e.elements.slice(0):[]};var W=function(e){var t,n,i,r,o,s=[];if(e&&1===e.nodeType&&(t=e.zcClippingId)&&c.hasOwnProperty(t)&&(n=c[t],n&&n.length))for(i=0,r=n.length;r>i;i++)o=a[n[i]].instance,o&&o instanceof O&&s.push(o);return s};$.hoverClass="zeroclipboard-is-hover",$.activeClass="zeroclipboard-is-active",$.trustedOrigins=null,$.allowScriptAccess=null,$.useNoCache=!0,$.moviePath="ZeroClipboard.swf",O.detectFlashSupport=function(){return T("ZeroClipboard.detectFlashSupport",$.debug),I()},O.dispatch=function(e,t){if("string"==typeof e&&e){var n=e.toLowerCase().replace(/^on/,"");if(n)for(var r=i&&$.autoActivate===!0?W(i):P(),o=0,s=r.length;s>o;o++)z.call(r[o],n,t)}},O.prototype.setHandCursor=function(e){return T("ZeroClipboard.prototype.setHandCursor",$.debug),e="boolean"==typeof e?e:!!e,B(e),$.forceHandCursor=e,this},O.prototype.reposition=function(){return T("ZeroClipboard.prototype.reposition",$.debug),j()},O.prototype.receiveEvent=function(e,t){if(T("ZeroClipboard.prototype.receiveEvent",$.debug),"string"==typeof e&&e){var n=e.toLowerCase().replace(/^on/,"");n&&z.call(this,n,t)}},O.prototype.setCurrent=function(e){return T("ZeroClipboard.prototype.setCurrent",$.debug),O.activate(e),this},O.prototype.resetBridge=function(){return T("ZeroClipboard.prototype.resetBridge",$.debug),O.deactivate(),this},O.prototype.setTitle=function(e){if(T("ZeroClipboard.prototype.setTitle",$.debug),e=e||$.title||i&&i.getAttribute("title")){var t=V(r.bridge);t&&t.setAttribute("title",e)}return this},O.setDefaults=function(e){T("ZeroClipboard.setDefaults",$.debug),O.config(e)},O.prototype.addEventListener=function(e,t){return T("ZeroClipboard.prototype.addEventListener",$.debug),this.on(e,t)},O.prototype.removeEventListener=function(e,t){return T("ZeroClipboard.prototype.removeEventListener",$.debug),this.off(e,t)},O.prototype.ready=function(){return T("ZeroClipboard.prototype.ready",$.debug),r.ready===!0};var z=function(e,s){e=e.toLowerCase().replace(/^on/,"");var a=s&&s.flashVersion&&t(s.flashVersion)||null,l=i,c=!0;switch(e){case"load":if(a){if(!n(a))return z.call(this,"onWrongFlash",{flashVersion:a}),void 0;r.outdated=!1,r.ready=!0,r.version=a}break;case"wrongflash":a&&!n(a)&&(r.outdated=!0,r.ready=!1,r.version=a);break;case"mouseover":y(l,$.hoverClass);break;case"mouseout":$.autoActivate===!0&&O.deactivate();break;case"mousedown":y(l,$.activeClass);break;case"mouseup":b(l,$.activeClass);break;case"datarequested":if(l){var u=l.getAttribute("data-clipboard-target"),d=u?document.getElementById(u):null;if(d){var h=d.value||d.textContent||d.innerText;h&&this.setText(h)}else{var p=l.getAttribute("data-clipboard-text");p&&this.setText(p)}}c=!1;break;case"complete":R(o),l&&l!==L()&&l.focus&&l.focus()}var f=l,g=[this,s];return H.call(this,e,f,g,c)};"function"==typeof define&&define.amd?define("plugins/zeroclipboard/ZeroClipboard",["require","exports","module"],function(e,t,n){return u=n&&n.id||null,O}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports&&"function"==typeof e.require?(d=module.id||null,module.exports=O):e.ZeroClipboard=O}(function(){return this}()),function(e){function t(e){var t=e.length,i=n.type(e);return"function"===i||n.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}if(!e.jQuery){var n=function(e,t){return new n.fn.init(e,t)};n.isWindow=function(e){return null!=e&&e==e.window},n.type=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?r[s.call(e)]||"object":typeof e},n.isArray=Array.isArray||function(e){return"array"===n.type(e)},n.isPlainObject=function(e){var t;if(!e||"object"!==n.type(e)||e.nodeType||n.isWindow(e))return!1;try{if(e.constructor&&!o.call(e,"constructor")&&!o.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}for(t in e);return void 0===t||o.call(e,t)},n.each=function(e,n,i){var r,o=0,s=e.length,a=t(e);if(i){if(a)for(;s>o&&(r=n.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=n.apply(e[o],i),r===!1)break}else if(a)for(;s>o&&(r=n.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=n.call(e[o],o,e[o]),r===!1)break;return e},n.data=function(e,t,r){if(void 0===r){var o=e[n.expando],s=o&&i[o];if(void 0===t)return s;if(s&&t in s)return s[t]}else if(void 0!==t){var o=e[n.expando]||(e[n.expando]=++n.uuid);return i[o]=i[o]||{},i[o][t]=r,r}},n.removeData=function(e,t){var r=e[n.expando],o=r&&i[r];o&&n.each(t,function(e,t){delete o[t]})},n.extend=function(){var e,t,i,r,o,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[l]||{},l++),"object"!=typeof a&&"function"!==n.type(a)&&(a={}),l===c&&(a=this,l--);c>l;l++)if(null!=(o=arguments[l]))for(r in o)e=a[r],i=o[r],a!==i&&(u&&i&&(n.isPlainObject(i)||(t=n.isArray(i)))?(t?(t=!1,s=e&&n.isArray(e)?e:[]):s=e&&n.isPlainObject(e)?e:{},a[r]=n.extend(u,s,i)):void 0!==i&&(a[r]=i));return a},n.queue=function(e,i,r){function o(e,n){var i=n||[];return null!=e&&(t(Object(e))?function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e}(i,"string"==typeof e?[e]:e):[].push.call(i,e)),i}if(e){i=(i||"fx")+"queue";var s=n.data(e,i);return r?(!s||n.isArray(r)?s=n.data(e,i,o(r)):s.push(r),s):s||[]}},n.dequeue=function(e,t){n.each(e.nodeType?[e]:e,function(e,i){t=t||"fx";var r=n.queue(i,t),o=r.shift();"inprogress"===o&&(o=r.shift()),o&&("fx"===t&&r.unshift("inprogress"),o.call(i,function(){n.dequeue(i,t)}))})},n.fn=n.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect();return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(){for(var e=this.offsetParent||document;e&&"html"===!e.nodeType.toLowerCase&&"static"===e.style.position;)e=e.offsetParent;return e||document}var t=this[0],e=e.apply(t),i=this.offset(),r=/^(?:body|html)$/i.test(e.nodeName)?{top:0,left:0}:n(e).offset();return i.top-=parseFloat(t.style.marginTop)||0,i.left-=parseFloat(t.style.marginLeft)||0,e.style&&(r.top+=parseFloat(e.style.borderTopWidth)||0,r.left+=parseFloat(e.style.borderLeftWidth)||0),{top:i.top-r.top,left:i.left-r.left}}};var i={};n.expando="velocity"+(new Date).getTime(),n.uuid=0;for(var r={},o=r.hasOwnProperty,s=r.toString,a="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;a.length>l;l++)r["[object "+a[l]+"]"]=a[l].toLowerCase();n.fn.init.prototype=n.fn,e.Velocity={Utilities:n}}}(window),function(e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define("velocity",e):e()}(function(){return function(e,t,n,i){function r(e){for(var t=-1,n=e?e.length:0,i=[];n>++t;){var r=e[t];r&&i.push(r)}return i}function o(e){return g.isWrapped(e)?e=[].slice.call(e):g.isNode(e)&&(e=[e]),e}function s(e){var t=h.data(e,"velocity");return null===t?i:t}function a(e){return function(t){return Math.round(t*e)*(1/e)}}function l(e,n,i,r){function o(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function a(e){return 3*e}function l(e,t,n){return((o(t,n)*e+s(t,n))*e+a(t))*e}function c(e,t,n){return 3*o(t,n)*e*e+2*s(t,n)*e+a(t)}function u(t,n){for(var r=0;g>r;++r){var o=c(n,e,i);if(0===o)return n;var s=l(n,e,i)-t;n-=s/o}return n}function d(){for(var t=0;b>t;++t)w[t]=l(t*E,e,i)}function h(t,n,r){var o,s,a=0;do s=n+(r-n)/2,o=l(s,e,i)-t,o>0?r=s:n=s;while(Math.abs(o)>v&&y>++a);return s}function p(t){for(var n=0,r=1,o=b-1;r!=o&&t>=w[r];++r)n+=E;--r;var s=(t-w[r])/(w[r+1]-w[r]),a=n+s*E,l=c(a,e,i);return l>=m?u(t,a):0==l?a:h(t,n,n+E)}function f(){A=!0,(e!=n||i!=r)&&d()}var g=4,m=.001,v=1e-7,y=10,b=11,E=1/(b-1),C="Float32Array"in t;if(4!==arguments.length)return!1;for(var _=0;4>_;++_)if("number"!=typeof arguments[_]||isNaN(arguments[_])||!isFinite(arguments[_]))return!1;e=Math.min(e,1),i=Math.min(i,1),e=Math.max(e,0),i=Math.max(i,0);var w=C?new Float32Array(b):Array(b),A=!1,S=function(t){return A||f(),e===n&&i===r?t:0===t?0:1===t?1:l(p(t),n,r)};S.getControlPoints=function(){return[{x:e,y:n},{x:i,y:r}]};var D="generateBezier("+[e,n,i,r]+")";return S.toString=function(){return D},S}function c(e,t){var n=e;return g.isString(e)?b.Easings[e]||(n=!1):n=g.isArray(e)&&1===e.length?a.apply(null,e):g.isArray(e)&&2===e.length?E.apply(null,e.concat([t])):g.isArray(e)&&4===e.length?l.apply(null,e):!1,n===!1&&(n=b.Easings[b.defaults.easing]?b.defaults.easing:y),n}function u(e){if(e)for(var t=(new Date).getTime(),n=0,r=b.State.calls.length;r>n;n++)if(b.State.calls[n]){var o=b.State.calls[n],a=o[0],l=o[2],c=o[3];c||(c=b.State.calls[n][3]=t-16);for(var p=Math.min((t-c)/l.duration,1),f=0,m=a.length;m>f;f++){var v=a[f],y=v.element;if(s(y)){var E=!1;if(l.display!==i&&null!==l.display&&"none"!==l.display){if("flex"===l.display){var _=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];h.each(_,function(e,t){C.setPropertyValue(y,"display",t)})}C.setPropertyValue(y,"display",l.display)}l.visibility&&"hidden"!==l.visibility&&C.setPropertyValue(y,"visibility",l.visibility);for(var A in v)if("element"!==A){var S,D=v[A],x=g.isString(D.easing)?b.Easings[D.easing]:D.easing;if(S=1===p?D.endValue:D.startValue+(D.endValue-D.startValue)*x(p),D.currentValue=S,C.Hooks.registered[A]){var T=C.Hooks.getRoot(A),k=s(y).rootPropertyValueCache[T];k&&(D.rootPropertyValue=k)}var F=C.setPropertyValue(y,A,D.currentValue+(0===parseFloat(S)?"":D.unitType),D.rootPropertyValue,D.scrollData);C.Hooks.registered[A]&&(s(y).rootPropertyValueCache[T]=C.Normalizations.registered[T]?C.Normalizations.registered[T]("extract",null,F[1]):F[1]),"transform"===F[0]&&(E=!0)}l.mobileHA&&s(y).transformCache.translate3d===i&&(s(y).transformCache.translate3d="(0px, 0px, 0px)",E=!0),E&&C.flushTransformCache(y)}}l.display!==i&&"none"!==l.display&&(b.State.calls[n][2].display=!1),l.visibility&&"hidden"!==l.visibility&&(b.State.calls[n][2].visibility=!1),l.progress&&l.progress.call(o[1],o[1],p,Math.max(0,c+l.duration-t),c),1===p&&d(n)}b.State.isTicking&&w(u)}function d(e,t){if(!b.State.calls[e])return!1;for(var n=b.State.calls[e][0],r=b.State.calls[e][1],o=b.State.calls[e][2],a=b.State.calls[e][4],l=!1,c=0,u=n.length;u>c;c++){var d=n[c].element;if(t||o.loop||("none"===o.display&&C.setPropertyValue(d,"display",o.display),"hidden"===o.visibility&&C.setPropertyValue(d,"visibility",o.visibility)),(h.queue(d)[1]===i||!/\.velocityQueueEntryFlag/i.test(h.queue(d)[1]))&&s(d)){s(d).isAnimating=!1,s(d).rootPropertyValueCache={};var p=!1;h.each(C.Lists.transforms3D,function(e,t){var n=/^scale/.test(t)?1:0,r=s(d).transformCache[t];s(d).transformCache[t]!==i&&RegExp("^\\("+n+"[^.]").test(r)&&(p=!0,delete s(d).transformCache[t])}),o.mobileHA&&(p=!0,delete s(d).transformCache.translate3d),p&&C.flushTransformCache(d),C.Values.removeClass(d,"velocity-animating")}if(!t&&o.complete&&!o.loop&&c===u-1)try{o.complete.call(r,r)}catch(f){setTimeout(function(){throw f},1)}a&&o.loop!==!0&&a(r),o.loop!==!0||t||(h.each(s(d).tweensContainer,function(e,t){/^rotate/.test(e)&&360===parseFloat(t.endValue)&&(t.endValue=0,t.startValue=360)}),b(d,"reverse",{loop:!0,delay:o.delay})),o.queue!==!1&&h.dequeue(d,o.queue)}b.State.calls[e]=!1;for(var g=0,m=b.State.calls.length;m>g;g++)if(b.State.calls[g]!==!1){l=!0;break}l===!1&&(b.State.isTicking=!1,delete b.State.calls,b.State.calls=[])}var h,p=function(){if(n.documentMode)return n.documentMode;for(var e=7;e>4;e--){var t=n.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return i}(),f=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var n,i=(new Date).getTime();return n=Math.max(0,16-(i-e)),e=i+n,setTimeout(function(){t(i+n)},n)}}(),g={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==i&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0)},isWrapped:function(e){return e&&(e.jquery||t.Zepto&&t.Zepto.zepto.isZ(e))},isSVG:function(e){return t.SVGElement&&e instanceof SVGElement},isEmptyObject:function(e){var t;
for(t in e)return!1;return!0}},m=!1;if(e.fn&&e.fn.jquery?(h=e,m=!0):h=t.Velocity.Utilities,8>=p&&!m)throw Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=p)return jQuery.fn.velocity=jQuery.fn.animate,i;var v=400,y="swing",b={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:h,Sequences:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:v,easing:y,begin:null,complete:null,progress:null,display:i,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){h.data(e,"velocity",{isSVG:g.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},animate:null,hook:null,mock:!1,version:{major:1,minor:0,patch:0},debug:!1};t.pageYOffset!==i?(b.State.scrollAnchor=t,b.State.scrollPropertyLeft="pageXOffset",b.State.scrollPropertyTop="pageYOffset"):(b.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,b.State.scrollPropertyLeft="scrollLeft",b.State.scrollPropertyTop="scrollTop");var E=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,i){var r={x:t.x+i.dx*n,v:t.v+i.dv*n,tension:t.tension,friction:t.friction};return{dx:r.v,dv:e(r)}}function n(n,i){var r={dx:n.v,dv:e(n)},o=t(n,.5*i,r),s=t(n,.5*i,o),a=t(n,i,s),l=1/6*(r.dx+2*(o.dx+s.dx)+a.dx),c=1/6*(r.dv+2*(o.dv+s.dv)+a.dv);return n.x=n.x+l*i,n.v=n.v+c*i,n}return function i(e,t,r){var o,s,a,l={x:-1,v:0,tension:null,friction:null},c=[0],u=0,d=1e-4,h=.016;for(e=parseFloat(e)||500,t=parseFloat(t)||20,r=r||null,l.tension=e,l.friction=t,o=null!==r,o?(u=i(e,t),s=u/r*h):s=h;;)if(a=n(a||l,s),c.push(1+a.x),u+=16,!(Math.abs(a.x)>d&&Math.abs(a.v)>d))break;return o?function(e){return c[0|e*(c.length-1)]}:u}}();b.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},h.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){b.Easings[t[0]]=l.apply(null,t[1])});var C=b.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;C.Lists.colors.length>e;e++)C.Hooks.templates[C.Lists.colors[e]]=["Red Green Blue Alpha","255 255 255 1"];var t,n,i;if(p)for(t in C.Hooks.templates){n=C.Hooks.templates[t],i=n[0].split(" ");var r=n[1].match(C.RegEx.valueSplit);"Color"===i[0]&&(i.push(i.shift()),r.push(r.shift()),C.Hooks.templates[t]=[i.join(" "),r.join(" ")])}for(t in C.Hooks.templates){n=C.Hooks.templates[t],i=n[0].split(" ");for(var e in i){var o=t+i[e],s=e;C.Hooks.registered[o]=[t,s]}}},getRoot:function(e){var t=C.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return C.RegEx.valueUnwrap.test(t)&&(t=t.match(C.Hooks.RegEx.valueUnwrap)[1]),C.Values.isCSSNullValue(t)&&(t=C.Hooks.templates[e][1]),t},extractValue:function(e,t){var n=C.Hooks.registered[e];if(n){var i=n[0],r=n[1];return t=C.Hooks.cleanRootPropertyValue(i,t),(""+t).match(C.RegEx.valueSplit)[r]}return t},injectValue:function(e,t,n){var i=C.Hooks.registered[e];if(i){var r,o,s=i[0],a=i[1];return n=C.Hooks.cleanRootPropertyValue(s,n),r=(""+n).match(C.RegEx.valueSplit),r[a]=t,o=r.join(" ")}return n}},Normalizations:{registered:{clip:function(e,t,n){switch(e){case"name":return"clip";case"extract":var i;return C.RegEx.wrappedValueAlreadyExtracted.test(n)?i=n:(i=(""+n).match(C.RegEx.valueUnwrap),i=i?i[1].replace(/,(\s+)?/g," "):n),i;case"inject":return"rect("+n+")"}},opacity:function(e,t,n){if(8>=p)switch(e){case"name":return"filter";case"extract":var i=(""+n).match(/alpha\(opacity=(.*)\)/i);return n=i?i[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(e){case"name":return"opacity";case"extract":return n;case"inject":return n}}},register:function(){9>=p||b.State.isGingerbread||(C.Lists.transformsBase=C.Lists.transformsBase.concat(C.Lists.transforms3D));for(var e=0;C.Lists.transformsBase.length>e;e++)(function(){var t=C.Lists.transformsBase[e];C.Normalizations.registered[t]=function(e,n,r){switch(e){case"name":return"transform";case"extract":return s(n)===i||s(n).transformCache[t]===i?/^scale/i.test(t)?1:0:s(n).transformCache[t].replace(/[()]/g,"");case"inject":var o=!1;switch(t.substr(0,t.length-1)){case"translate":o=!/(%|px|em|rem|vw|vh|\d)$/i.test(r);break;case"scal":case"scale":b.State.isAndroid&&s(n).transformCache[t]===i&&1>r&&(r=1),o=!/(\d)$/i.test(r);break;case"skew":o=!/(deg|\d)$/i.test(r);break;case"rotate":o=!/(deg|\d)$/i.test(r)}return o||(s(n).transformCache[t]="("+r+")"),s(n).transformCache[t]}}})();for(var e=0;C.Lists.colors.length>e;e++)(function(){var t=C.Lists.colors[e];C.Normalizations.registered[t]=function(e,n,r){switch(e){case"name":return t;case"extract":var o;if(C.RegEx.wrappedValueAlreadyExtracted.test(r))o=r;else{var s,a={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(r)?s=a[r]!==i?a[r]:a.black:C.RegEx.isHex.test(r)?s="rgb("+C.Values.hexToRgb(r).join(" ")+")":/^rgba?\(/i.test(r)||(s=a.black),o=(""+(s||r)).match(C.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=p||3!==o.split(" ").length||(o+=" 1"),o;case"inject":return 8>=p?4===r.split(" ").length&&(r=r.split(/\s+/).slice(0,3).join(" ")):3===r.split(" ").length&&(r+=" 1"),(8>=p?"rgb":"rgba")+"("+r.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}})()}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(p||b.State.isAndroid&&!b.State.isChrome)&&(t+="|transform"),RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(b.State.prefixMatches[e])return[b.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],n=0,i=t.length;i>n;n++){var r;if(r=0===n?e:t[n]+e.replace(/^\w/,function(e){return e.toUpperCase()}),g.isString(b.State.prefixElement.style[r]))return b.State.prefixMatches[e]=r,[r,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(n,function(e,t,n,i){return t+t+n+n+i+i}),t=i.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return 0==e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=(""+e.tagName).toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":"block"},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?" ":"")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=(""+e.className).replace(RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(e,n,r,o){function a(e,n){function r(){c&&C.setPropertyValue(e,"display","none")}var l=0;if(8>=p)l=h.css(e,n);else{var c=!1;if(/^(width|height)$/.test(n)&&0===C.getPropertyValue(e,"display")&&(c=!0,C.setPropertyValue(e,"display",C.Values.getDisplayType(e))),!o){if("height"===n&&"border-box"!==(""+C.getPropertyValue(e,"boxSizing")).toLowerCase()){var u=e.offsetHeight-(parseFloat(C.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(C.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(C.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(C.getPropertyValue(e,"paddingBottom"))||0);return r(),u}if("width"===n&&"border-box"!==(""+C.getPropertyValue(e,"boxSizing")).toLowerCase()){var d=e.offsetWidth-(parseFloat(C.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(C.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(C.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(C.getPropertyValue(e,"paddingRight"))||0);return r(),d}}var f;f=s(e)===i?t.getComputedStyle(e,null):s(e).computedStyle?s(e).computedStyle:s(e).computedStyle=t.getComputedStyle(e,null),(p||b.State.isFirefox)&&"borderColor"===n&&(n="borderTopColor"),l=9===p&&"filter"===n?f.getPropertyValue(n):f[n],(""===l||null===l)&&(l=e.style[n]),r()}if("auto"===l&&/^(top|right|bottom|left)$/i.test(n)){var g=a(e,"position");("fixed"===g||"absolute"===g&&/top|left/i.test(n))&&(l=h(e).position()[n]+"px")}return l}var l;if(C.Hooks.registered[n]){var c=n,u=C.Hooks.getRoot(c);r===i&&(r=C.getPropertyValue(e,C.Names.prefixCheck(u)[0])),C.Normalizations.registered[u]&&(r=C.Normalizations.registered[u]("extract",e,r)),l=C.Hooks.extractValue(c,r)}else if(C.Normalizations.registered[n]){var d,f;d=C.Normalizations.registered[n]("name",e),"transform"!==d&&(f=a(e,C.Names.prefixCheck(d)[0]),C.Values.isCSSNullValue(f)&&C.Hooks.templates[n]&&(f=C.Hooks.templates[n][1])),l=C.Normalizations.registered[n]("extract",e,f)}return/^[\d-]/.test(l)||(l=s(e)&&s(e).isSVG&&C.Names.SVGAttribute(n)?/^(height|width)$/i.test(n)?e.getBBox()[n]:e.getAttribute(n):a(e,C.Names.prefixCheck(n)[0])),C.Values.isCSSNullValue(l)&&(l=0),b.debug>=2&&console.log("Get "+n+": "+l),l},setPropertyValue:function(e,n,i,r,o){var a=n;if("scroll"===n)o.container?o.container["scroll"+o.direction]=i:"Left"===o.direction?t.scrollTo(i,o.alternateValue):t.scrollTo(o.alternateValue,i);else if(C.Normalizations.registered[n]&&"transform"===C.Normalizations.registered[n]("name",e))C.Normalizations.registered[n]("inject",e,i),a="transform",i=s(e).transformCache[n];else{if(C.Hooks.registered[n]){var l=n,c=C.Hooks.getRoot(n);r=r||C.getPropertyValue(e,c),i=C.Hooks.injectValue(l,i,r),n=c}if(C.Normalizations.registered[n]&&(i=C.Normalizations.registered[n]("inject",e,i),n=C.Normalizations.registered[n]("name",e)),a=C.Names.prefixCheck(n)[0],8>=p)try{e.style[a]=i}catch(u){b.debug&&console.log("Browser does not support ["+i+"] for ["+a+"]")}else s(e)&&s(e).isSVG&&C.Names.SVGAttribute(n)?e.setAttribute(n,i):e.style[a]=i;b.debug>=2&&console.log("Set "+n+" ("+a+"): "+i)}return[a,i]},flushTransformCache:function(e){function t(t){return parseFloat(C.getPropertyValue(e,t))}var n="";if((p||b.State.isAndroid&&!b.State.isChrome)&&s(e).isSVG){var r={translate:[t("translateX"),t("translateY")],skewX:[t("skewX")],skewY:[t("skewY")],scale:1!==t("scale")?[t("scale"),t("scale")]:[t("scaleX"),t("scaleY")],rotate:[t("rotateZ"),0,0]};h.each(s(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),r[e]&&(n+=e+"("+r[e].join(" ")+")"+" ",delete r[e])})}else{var o,a;h.each(s(e).transformCache,function(t){return o=s(e).transformCache[t],"transformPerspective"===t?(a=o,!0):(9===p&&"rotateZ"===t&&(t="rotate"),n+=t+o+" ",i)}),a&&(n="perspective"+a+" "+n)}C.setPropertyValue(e,"transform",n)}};C.Hooks.register(),C.Normalizations.register(),b.hook=function(e,t,n){var r=i;return e=o(e),h.each(e,function(e,o){if(s(o)===i&&b.init(o),n===i)r===i&&(r=b.CSS.getPropertyValue(o,t));else{var a=b.CSS.setPropertyValue(o,t,n);"transform"===a[0]&&b.CSS.flushTransformCache(o),r=a}}),r};var _=function(){function e(){return l?T.promise||null:p}function a(){function e(){function e(e,t){var n=i,r=i,o=i;return g.isArray(e)?(n=e[0],!g.isArray(e[1])&&/^[\d-]/.test(e[1])||g.isFunction(e[1])||C.RegEx.isHex.test(e[1])?o=e[1]:(g.isString(e[1])&&!C.RegEx.isHex.test(e[1])||g.isArray(e[1]))&&(r=t?e[1]:c(e[1],l.duration),e[2]!==i&&(o=e[2]))):n=e,t||(r=r||l.easing),g.isFunction(n)&&(n=n.call(a,S,A)),g.isFunction(o)&&(o=o.call(a,S,A)),[n||0,r,o]}function p(e,t){var n,i;return i=(""+(t||0)).toLowerCase().replace(/[%A-z]+$/,function(e){return n=e,""}),n||(n=C.Values.getUnitType(e)),[i,n]}function f(){var e={myParent:a.parentNode||n.body,position:C.getPropertyValue(a,"position"),fontSize:C.getPropertyValue(a,"fontSize")},i=e.position===I.lastPosition&&e.myParent===I.lastParent,r=e.fontSize===I.lastFontSize;I.lastParent=e.myParent,I.lastPosition=e.position,I.lastFontSize=e.fontSize;var o=100,l={};if(r&&i)l.emToPx=I.lastEmToPx,l.percentToPxWidth=I.lastPercentToPxWidth,l.percentToPxHeight=I.lastPercentToPxHeight;else{var c=s(a).isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");b.init(c),e.myParent.appendChild(c),h.each(["overflow","overflowX","overflowY"],function(e,t){b.CSS.setPropertyValue(c,t,"hidden")}),b.CSS.setPropertyValue(c,"position",e.position),b.CSS.setPropertyValue(c,"fontSize",e.fontSize),b.CSS.setPropertyValue(c,"boxSizing","content-box"),h.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){b.CSS.setPropertyValue(c,t,o+"%")}),b.CSS.setPropertyValue(c,"paddingLeft",o+"em"),l.percentToPxWidth=I.lastPercentToPxWidth=(parseFloat(C.getPropertyValue(c,"width",null,!0))||1)/o,l.percentToPxHeight=I.lastPercentToPxHeight=(parseFloat(C.getPropertyValue(c,"height",null,!0))||1)/o,l.emToPx=I.lastEmToPx=(parseFloat(C.getPropertyValue(c,"paddingLeft"))||1)/o,e.myParent.removeChild(c)}return null===I.remToPx&&(I.remToPx=parseFloat(C.getPropertyValue(n.body,"fontSize"))||16),null===I.vwToPx&&(I.vwToPx=parseFloat(t.innerWidth)/100,I.vhToPx=parseFloat(t.innerHeight)/100),l.remToPx=I.remToPx,l.vwToPx=I.vwToPx,l.vhToPx=I.vhToPx,b.debug>=1&&console.log("Unit ratios: "+JSON.stringify(l),a),l}if(l.begin&&0===S)try{l.begin.call(m,m)}catch(v){setTimeout(function(){throw v},1)}if("scroll"===k){var _,w,D,x=/^x$/i.test(l.axis)?"Left":"Top",F=parseFloat(l.offset)||0;l.container?g.isWrapped(l.container)||g.isNode(l.container)?(l.container=l.container[0]||l.container,_=l.container["scroll"+x],D=_+h(a).position()[x.toLowerCase()]+F):l.container=null:(_=b.State.scrollAnchor[b.State["scrollProperty"+x]],w=b.State.scrollAnchor[b.State["scrollProperty"+("Left"===x?"Top":"Left")]],D=h(a).offset()[x.toLowerCase()]+F),d={scroll:{rootPropertyValue:!1,startValue:_,currentValue:_,endValue:D,unitType:"",easing:l.easing,scrollData:{container:l.container,direction:x,alternateValue:w}},element:a},b.debug&&console.log("tweensContainer (scroll): ",d.scroll,a)}else if("reverse"===k){if(!s(a).tweensContainer)return h.dequeue(a,l.queue),i;"none"===s(a).opts.display&&(s(a).opts.display="auto"),"hidden"===s(a).opts.visibility&&(s(a).opts.visibility="visible"),s(a).opts.loop=!1,s(a).opts.begin=null,s(a).opts.complete=null,E.easing||delete l.easing,E.duration||delete l.duration,l=h.extend({},s(a).opts,l);var N=h.extend(!0,{},s(a).tweensContainer);for(var M in N)if("element"!==M){var R=N[M].startValue;N[M].startValue=N[M].currentValue=N[M].endValue,N[M].endValue=R,g.isEmptyObject(E)||(N[M].easing=l.easing),b.debug&&console.log("reverse tweensContainer ("+M+"): "+JSON.stringify(N[M]),a)}d=N}else if("start"===k){var N;s(a).tweensContainer&&s(a).isAnimating===!0&&(N=s(a).tweensContainer),h.each(y,function(t,n){if(RegExp("^"+C.Lists.colors.join("$|^")+"$").test(t)){var r=e(n,!0),o=r[0],s=r[1],a=r[2];if(C.RegEx.isHex.test(o)){for(var l=["Red","Green","Blue"],c=C.Values.hexToRgb(o),u=a?C.Values.hexToRgb(a):i,d=0;l.length>d;d++)y[t+l[d]]=[c[d],s,u?u[d]:u];delete y[t]}}});for(var L in y){var B=e(y[L]),P=B[0],$=B[1],U=B[2];L=C.Names.camelCase(L);var V=C.Hooks.getRoot(L),j=!1;if(s(a).isSVG||C.Names.prefixCheck(V)[1]!==!1||C.Normalizations.registered[V]!==i){(l.display!==i&&null!==l.display&&"none"!==l.display||l.visibility&&"hidden"!==l.visibility)&&/opacity|filter/.test(L)&&!U&&0!==P&&(U=0),l._cacheValues&&N&&N[L]?(U===i&&(U=N[L].endValue+N[L].unitType),j=s(a).rootPropertyValueCache[V]):C.Hooks.registered[L]?U===i?(j=C.getPropertyValue(a,V),U=C.getPropertyValue(a,L,j)):j=C.Hooks.templates[V][1]:U===i&&(U=C.getPropertyValue(a,L));var H,W,z,q=!1;if(H=p(L,U),U=H[0],z=H[1],H=p(L,P),P=H[0].replace(/^([+-\/*])=/,function(e,t){return q=t,""}),W=H[1],U=parseFloat(U)||0,P=parseFloat(P)||0,"%"===W&&(/^(fontSize|lineHeight)$/.test(L)?(P/=100,W="em"):/^scale/.test(L)?(P/=100,W=""):/(Red|Green|Blue)$/i.test(L)&&(P=255*(P/100),W="")),/[\/*]/.test(q))W=z;else if(z!==W&&0!==U)if(0===P)W=z;else{o=o||f();var G=/margin|padding|left|right|width|text|word|letter/i.test(L)||/X$/.test(L)||"x"===L?"x":"y";switch(z){case"%":U*="x"===G?o.percentToPxWidth:o.percentToPxHeight;break;case"px":break;default:U*=o[z+"ToPx"]}switch(W){case"%":U*=1/("x"===G?o.percentToPxWidth:o.percentToPxHeight);break;case"px":break;default:U*=1/o[W+"ToPx"]}}switch(q){case"+":P=U+P;break;case"-":P=U-P;break;case"*":P=U*P;break;case"/":P=U/P}d[L]={rootPropertyValue:j,startValue:U,currentValue:U,endValue:P,unitType:W,easing:$},b.debug&&console.log("tweensContainer ("+L+"): "+JSON.stringify(d[L]),a)}else b.debug&&console.log("Skipping ["+V+"] due to a lack of browser support.")}d.element=a}d.element&&(C.Values.addClass(a,"velocity-animating"),O.push(d),""===l.queue&&(s(a).tweensContainer=d,s(a).opts=l),s(a).isAnimating=!0,S===A-1?(b.State.calls.length>1e4&&(b.State.calls=r(b.State.calls)),b.State.calls.push([O,m,l,null,T.resolver]),b.State.isTicking===!1&&(b.State.isTicking=!0,u())):S++)}var o,a=this,l=h.extend({},b.defaults,E),d={};if(s(a)===i&&b.init(a),parseFloat(l.delay)&&l.queue!==!1&&h.queue(a,l.queue,function(e){b.velocityQueueEntryFlag=!0,s(a).delayTimer={setTimeout:setTimeout(e,parseFloat(l.delay)),next:e}}),b.mock===!0)l.duration=1;else switch((""+l.duration).toLowerCase()){case"fast":l.duration=200;break;case"normal":l.duration=v;break;case"slow":l.duration=600;break;default:l.duration=parseFloat(l.duration)||1}l.easing=c(l.easing,l.duration),l.begin&&!g.isFunction(l.begin)&&(l.begin=null),l.progress&&!g.isFunction(l.progress)&&(l.progress=null),l.complete&&!g.isFunction(l.complete)&&(l.complete=null),l.display!==i&&null!==l.display&&(l.display=(""+l.display).toLowerCase(),"auto"===l.display&&(l.display=b.CSS.Values.getDisplayType(a))),l.visibility&&(l.visibility=(""+l.visibility).toLowerCase()),l.mobileHA=l.mobileHA&&b.State.isMobile&&!b.State.isGingerbread,l.queue===!1?l.delay?setTimeout(e,l.delay):e():h.queue(a,l.queue,function(t,n){return n===!0?(T.promise&&T.resolver(m),!0):(b.velocityQueueEntryFlag=!0,e(t),i)}),""!==l.queue&&"fx"!==l.queue||"inprogress"===h.queue(a)[0]||h.dequeue(a)}var l,p,f,m,y,E,w=arguments[0]&&(h.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||g.isString(arguments[0].properties));if(g.isWrapped(this)?(l=!1,f=0,m=this,p=this):(l=!0,f=1,m=w?arguments[0].elements:arguments[0]),m=o(m)){w?(y=arguments[0].properties,E=arguments[0].options):(y=arguments[f],E=arguments[f+1]);var A=m.length,S=0;if("stop"!==y&&!h.isPlainObject(E)){var D=f+1;E={};for(var x=D;arguments.length>x;x++)g.isArray(arguments[x])||!/fast|normal|slow/i.test(""+arguments[x])&&!/^\d/.test(arguments[x])?g.isString(arguments[x])||g.isArray(arguments[x])?E.easing=arguments[x]:g.isFunction(arguments[x])&&(E.complete=arguments[x]):E.duration=arguments[x]}var T={promise:null,resolver:null,rejecter:null};l&&b.Promise&&(T.promise=new b.Promise(function(e,t){T.resolver=e,T.rejecter=t}));var k;switch(y){case"scroll":k="scroll";break;case"reverse":k="reverse";break;case"stop":h.each(m,function(e,t){s(t)&&s(t).delayTimer&&(clearTimeout(s(t).delayTimer.setTimeout),s(t).delayTimer.next&&s(t).delayTimer.next(),delete s(t).delayTimer)});var F=[];return h.each(b.State.calls,function(e,t){t&&h.each(t[1],function(n,r){var o=g.isString(E)?E:"";return E!==i&&t[2].queue!==o?!0:(h.each(m,function(t,n){n===r&&(E!==i&&(h.each(h.queue(n,o),function(e,t){g.isFunction(t)&&t(null,!0)}),h.queue(n,o,[])),s(n)&&""===o&&h.each(s(n).tweensContainer,function(e,t){t.endValue=t.currentValue}),F.push(e))}),i)})}),h.each(F,function(e,t){d(t,!0)}),T.promise&&T.resolver(m),e();default:if(!h.isPlainObject(y)||g.isEmptyObject(y)){if(g.isString(y)&&b.Sequences[y]){var N=h.extend({},E),M=N.duration,R=N.delay||0;return N.backwards===!0&&(m=m.reverse()),h.each(m,function(e,t){parseFloat(N.stagger)?N.delay=R+parseFloat(N.stagger)*e:g.isFunction(N.stagger)&&(N.delay=R+N.stagger.call(t,e,A)),N.drag&&(N.duration=parseFloat(M)||(/^(callout|transition)/.test(y)?1e3:v),N.duration=Math.max(N.duration*(N.backwards?1-e/A:(e+1)/A),.75*N.duration,200)),b.Sequences[y].call(t,t,N||{},e,A,m,T.promise?T:i)}),e()}var L="Velocity: First argument ("+y+") was not a property map, a known action, or a registered sequence. Aborting.";return T.promise?T.rejecter(Error(L)):console.log(L),e()}k="start"}var I={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},O=[];h.each(m,function(e,t){g.isNode(t)&&a.call(t)});var B,N=h.extend({},b.defaults,E);if(N.loop=parseInt(N.loop),B=2*N.loop-1,N.loop)for(var P=0;B>P;P++){var $={delay:N.delay};P===B-1&&($.display=N.display,$.visibility=N.visibility,$.complete=N.complete),_(m,"reverse",$)}return e()}};b=h.extend(_,b),b.animate=_;var w=t.requestAnimationFrame||f;return b.State.isMobile||n.hidden===i||n.addEventListener("visibilitychange",function(){n.hidden?(w=function(e){return setTimeout(function(){e(!0)},16)},u()):w=t.requestAnimationFrame||f}),e.Velocity=b,e!==t&&(e.fn.velocity=_,e.fn.velocity.defaults=b.defaults),h.each(["Down","Up"],function(e,t){b.Sequences["slide"+t]=function(e,n,r,o,s,a){var l=h.extend({},n),c=l.begin,u=l.complete,d={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},p={};l.display===i&&(l.display="Down"===t?"inline"===b.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),l.begin=function(){c&&c.call(s,s),p.overflow=e.style.overflow,e.style.overflow="hidden";for(var n in d){p[n]=e.style[n];var i=b.CSS.getPropertyValue(e,n);d[n]="Down"===t?[i,0]:[0,i]}},l.complete=function(){for(var t in p)e.style[t]=p[t];u&&u.call(s,s),a&&a.resolver(s)},b(e,d,l)}}),h.each(["In","Out"],function(e,t){b.Sequences["fade"+t]=function(e,n,r,o,s,a){var l=h.extend({},n),c={opacity:"In"===t?1:0},u=l.complete;l.complete=r!==o-1?l.begin=null:function(){u&&u.call(s,s),a&&a.resolver(s)},l.display===i&&(l.display="In"===t?"auto":"none"),b(this,c,l)}}),b}(window.jQuery||window.Zepto||window,window,document)}),function(e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define("velocity.ui",["velocity"],e):e()}(function(){return function(e,t,n,i){if(!e.Velocity||!e.Velocity.Utilities)return t.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting."),i;if(!e.Velocity.version||0>=e.Velocity.version.major&&11>=e.Velocity.version.minor&&8>e.Velocity.version.patch){var r="Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.";throw alert(r),Error(r)}e.Velocity.RegisterUI=function(t,n){function r(t,n,i,r){var o,s=0;e.Velocity.Utilities.each(t.nodeType?[t]:t,function(t,n){r&&(i+=t*r),o=n.parentNode,e.Velocity.Utilities.each(["height","paddingTop","paddingBottom","marginTop","marginBottom"],function(t,i){s+=parseFloat(e.Velocity.CSS.getPropertyValue(n,i))})}),e.Velocity.animate(o,{height:("In"===n?"+":"-")+"="+s},{queue:!1,easing:"ease-in-out",duration:i*("In"===n?.6:1)})}return e.Velocity.Sequences[t]=function(o,s,a,l,c,u){function d(){s.display!==i&&"none"!==s.display||!/Out$/.test(t)||e.Velocity.Utilities.each(c.nodeType?[c]:c,function(t,n){e.Velocity.CSS.setPropertyValue(n,"display","none")}),s.complete&&s.complete.call(c,c),u&&u.resolver(c||o)}for(var h=a===l-1,p=0;n.calls.length>p;p++){var f=n.calls[p],g=f[0],m=s.duration||n.defaultDuration||1e3,v=f[1],y=f[2]||{},b={};if(b.duration=m*(v||1),b.queue=s.queue||"",b.easing=y.easing||"ease",b.delay=y.delay||0,b._cacheValues=y._cacheValues||!0,0===p){if(b.delay+=s.delay||0,0===a&&(b.begin=function(){s.begin&&s.begin.call(c,c);var e=t.match(/(In|Out)$/);s.animateParentHeight&&e&&r(c,e[0],m+b.delay,s.stagger)}),null!==s.display)if(s.display!==i&&"none"!==s.display)b.display=s.display;else if(/In$/.test(t)){var E=e.Velocity.CSS.Values.getDisplayType(o);b.display="inline"===E?"inline-block":E}s.visibility&&"hidden"!==s.visibility&&(b.visibility=s.visibility)}p===n.calls.length-1&&(b.complete=function(){if(n.reset){for(var t in n.reset){var i=n.reset[t];("string"==typeof i||"number"==typeof i)&&(n.reset[t]=[n.reset[t],n.reset[t]])}var r={duration:0,queue:!1};h&&(r.complete=d),e.Velocity.animate(o,n.reset,r)}else h&&d()},"hidden"===s.visibility&&(b.visibility=s.visibility)),e.Velocity.animate(o,g,b)}},e.Velocity},e.Velocity.RegisterUI.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:0},.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]},.25],[{opacity:[1,"easeInOutQuad"]},.25],[{opacity:[0,"easeInOutQuad"]},.25],[{opacity:[1,"easeInOutQuad"]},.25]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},.2],[{rotateZ:-10},.2],[{rotateZ:5},.2],[{rotateZ:-5},.2],[{rotateZ:0},.2]]},"callout.tada":{defaultDuration:1e3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10},.5],[{opacity:0,rotateY:90},.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15},.5],[{opacity:0,rotateX:90},.5]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:900,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]}]]},"transition.whirlOut":{defaultDuration:900,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:650,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.4],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.5]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.4],[{scaleX:1.1,scaleY:1.1,translateZ:0},.4],[{opacity:[0,1],scaleX:.3,scaleY:.3},.2]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1e3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1e3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1e3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1e3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1e3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1e3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};
for(var o in e.Velocity.RegisterUI.packagedEffects)e.Velocity.RegisterUI(o,e.Velocity.RegisterUI.packagedEffects[o])}(window.jQuery||window.Zepto||window,window,document)}),define("ace_configuration",["app","ace/ace"],function(e,t){var n=e.host+e.root+"js/ace",i=require("ace/config");return i.set("packaged",!0),i.set("workerPath",n),i.set("modePath",n),i.set("themePath",n),t}),define("addons/fauxton/components",["app","api","ace_configuration","spin","plugins/zeroclipboard/ZeroClipboard","velocity.ui"],function(e,t,n,i,r){var o=t.addon();o.LeftHeader=t.View.extend({className:"header-left",template:"addons/fauxton/templates/header_left",initialize:function(e){this.dropdownEvents=e.dropdownEvents,this.dropdownMenuLinks=e.dropdownMenu,this.lookaheadTrayOptions=e.lookaheadTrayOptions||null,this.crumbs=e.crumbs||[],this.listenTo(t.Events,"breadcrumb:click",this.toggleTray),this.listenTo(t.Events,"lookaheadTray:close",this.unselectLastBreadcrumb)},updateCrumbs:function(e){_.isEqual(this.crumbs,e)||(this.crumbs=e,this.breadcrumbs&&this.breadcrumbs.update(e))},unselectLastBreadcrumb:function(){this.breadcrumbs.unselectLastBreadcrumb()},toggleTray:function(){null!==this.lookaheadTray&&this.lookaheadTray.toggleTray()},beforeRender:function(){this.setUpCrumbs(),this.setUpDropDownMenu(),null!==this.lookaheadTray&&this.setUpLookaheadTray()},setUpCrumbs:function(){this.breadcrumbs=this.insertView("#header-breadcrumbs",new o.Breadcrumbs({crumbs:this.crumbs}))},setUpDropDownMenu:function(){this.dropdownMenuLinks&&(this.dropdown=this.insertView("#header-dropdown-menu",new o.MenuDropDown({icon:"fonticon-cog",links:this.dropdownMenuLinks,events:this.dropdownEvents})))},setUpLookaheadTray:function(){var e=this.lookaheadTrayOptions,t=e.databaseCollection.getDatabaseNames(),n=this.crumbs[1].name;t=_.without(t,n),this.lookaheadTray=this.insertView("#header-lookahead",new o.LookaheadTray({data:t,toggleEventName:e.toggleEventName,onUpdateEventName:e.onUpdateEventName,placeholder:e.placeholder}))}}),o.Breadcrumbs=t.View.extend({className:"breadcrumb pull-left",tagName:"ul",template:"addons/fauxton/templates/breadcrumbs",events:{"click .js-lastelement":"toggleLastElement"},serialize:function(){var e=_.clone(this.crumbs),t=function(t,n){var i=""!==e[n+1].name;return e.length>n&&t.name&&i};return{toggleDisabled:this.toggleDisabled,crumbs:e,nextCrumbHasLabel:t}},toggleLastElement:function(e){this.toggleDisabled||(this.$(e.currentTarget).toggleClass("js-enabled"),t.Events.trigger("breadcrumb:click"))},unselectLastBreadcrumb:function(){this.toggleDisabled||this.$(".js-enabled").removeClass("js-enabled")},update:function(e){this.crumbs=e,this.render()},initialize:function(e){this.crumbs=e.crumbs,this.toggleDisabled=e.toggleDisabled||!1}}),o.Tray=t.View.extend({events:{},initTray:function(e){this.toggleTrayBtnSelector=_.has(e,"toggleTrayBtnSelector")?e.toggleTrayBtnSelector:null,this.onShowTray=_.has(e,"onShowTray")?e.onShowTray:null,_.isNull(this.toggleTrayBtnSelector)||(this.events["click "+this.toggleTrayBtnSelector]="toggleTray"),_.bind(this.toggleTray,this),_.bind(this.trayVisible,this),_.bind(this.hideTray,this),_.bind(this.showTray,this),this.trayId="tray-"+this.cid;var n=this;$("body").on("click."+this.trayId,function(e){var t=$(e.target);n.trayVisible()&&(_.isNull(n.toggleTrayBtnSelector)||!t.closest(n.toggleTrayBtnSelector).length)&&(t.closest(".tray").length||n.hideTray())}),t.Events.on(t.constants.EVENTS.TRAY_OPENED,this.onTrayOpenEvent,this)},cleanup:function(){$("body").off("click."+this.trayId)},onTrayOpenEvent:function(e){_.has(e,"trayId")&&e.trayId!==this.trayId&&this.trayVisible()&&this.hideTray()},toggleTray:function(e){e.preventDefault(),this.trayVisible()?this.hideTray():this.showTray()},hideTray:function(){var e=this.$(".tray");e.velocity("reverse",t.constants.MISC.TRAY_TOGGLE_SPEED,function(){e.hide()}),_.isNull(this.toggleTrayBtnSelector)||this.$(this.toggleTrayBtnSelector).removeClass("enabled"),t.Events.trigger(t.constants.EVENTS.TRAY_CLOSED,{trayId:this.trayId})},showTray:function(){this.$(".tray").velocity("transition.slideDownIn",t.constants.MISC.TRAY_TOGGLE_SPEED),_.isNull(this.toggleTrayBtnSelector)||this.$(this.toggleTrayBtnSelector).addClass("enabled"),_.isNull(this.onShowTray)||this.onShowTray(),t.Events.trigger(t.constants.EVENTS.TRAY_OPENED,{trayId:this.trayId})},trayVisible:function(){return this.$(".tray").is(":visible")}}),o.ApiBar=o.Tray.extend({template:"addons/fauxton/templates/api_bar",initialize:function(e){var n=e||{};this.endpoint=n.endpoint||"_all_docs",this.documentation=n.documentation||t.constants.DOC_URLS.GENERAL,this.initTray({toggleTrayBtnSelector:".api-url-btn"})},serialize:function(){return{endpoint:this.endpoint,documentation:this.documentation}},hide:function(){this.$el.addClass("hide")},show:function(){this.$el.removeClass("hide")},update:function(e){this.endpoint=e[0],this.documentation=e[1],this.render()},afterRender:function(){var e=new o.Clipboard({$el:this.$(".copy-url")});e.on("load",function(){e.on("mouseup",function(){t.addNotification({msg:"The API URL has been copied to the clipboard.",type:"success",clear:!0})})})}}),o.Pagination=t.View.extend({tagName:"ul",className:"pagination",template:"addons/fauxton/templates/pagination",initialize:function(e){this.page=parseInt(e.page,10),this.perPage=e.perPage,this.urlFun=e.urlFun},serialize:function(){var e=this.collection.length,t=Math.ceil(e/this.perPage),n=this.getVisiblePages(this.page,t),i=n.from,r=n.to;return{page:this.page,perPage:this.perPage,total:e,totalPages:t,urlFun:this.urlFun,from:i,to:r}},getVisiblePages:function(e,t){var n,i;return 10>t?(n=1,i=t+1):(n=e-5,i=e+5,1>=n&&(n=1,i=11),i>t+1&&(n=t-9,i=t+1)),{from:n,to:i}}}),o.ConfirmationModal=t.View.extend({template:"addons/fauxton/templates/confirmation_modal",events:{"click .js-btn-success":"onSelectOkay"},initialize:function(e){this.options=_.extend({title:"Please confirm",text:"",action:null},e)},onSelectOkay:function(){this.hideModal(),_.isFunction(this.options.action)&&this.options.action()},showModal:function(){this.$(".modal").modal(),$(".modal-backdrop").css("z-index",t.constants.MISC.MODAL_BACKDROP_Z_INDEX)},hideModal:function(){this.$(".modal").modal("hide")},serialize:function(){return{title:this.options.title,text:this.options.text}}}),o.ModalView=t.View.extend({disableLoader:!0,initialize:function(){_.bindAll(this)},afterRender:function(){var e=this;this.$(".modal").on("shown",function(){e.$("input:text:visible:first").focus()})},showModal:function(){this._showModal&&this._showModal(),this.clear_error_msg(),this.$(".modal").modal(),$(".modal-backdrop").css("z-index",t.constants.MISC.MODAL_BACKDROP_Z_INDEX)},hideModal:function(){this.$(".modal").modal("hide")},set_error_msg:function(e){var t;t="string"==typeof e?e:JSON.parse(e.responseText).reason,this.$("#modal-error").text(t).removeClass("hide")},clear_error_msg:function(){this.$("#modal-error").text(" ").addClass("hide")},serialize:function(){return this.model?this.model.toJSON():{}}}),o.Typeahead=t.View.extend({initialize:function(e){this.source=e.source,this.onUpdateEventName=e.onUpdateEventName},afterRender:function(){var e=this.onUpdateEventName;this.$el.typeahead({source:this.source,updater:function(n){return t.Events.trigger(e,n),n}})}}),o.DbSearchTypeahead=o.Typeahead.extend({initialize:function(e){this.dbLimit=e.dbLimit||30,e.filter&&(this.resultFilter=e.resultFilter),_.bindAll(this)},getURL:function(t,n){return t=encodeURIComponent(t),[e.host,"/_all_dbs?startkey=%22",t,"%22&endkey=%22",t,encodeURIComponent(""),"%22&limit=",n].join("")},source:function(e,t){var n=this.getURL(e,this.dbLimit),i=this.resultFilter;this.ajaxReq&&this.ajaxReq.abort(),this.ajaxReq=$.ajax({cache:!1,url:n,dataType:"json",success:function(e){i&&(e=i(e)),t(e)}})}}),o.DocSearchTypeahead=o.Typeahead.extend({initialize:function(e){this.docLimit=e.docLimit||30,this.database=e.database,_.bindAll(this)},source:function(e,n){var i="?"+$.param({startkey:JSON.stringify(e),endkey:JSON.stringify(e+""),limit:this.docLimit}),r=t.urls("allDocs","server",this.database.safeID(),i);this.ajaxReq&&this.ajaxReq.abort(),this.ajaxReq=$.ajax({cache:!1,url:r,dataType:"json",success:function(e){var t=_.map(e.rows,function(e){return e.id});n(t)}})}}),o.FilteredView=t.View.extend({createFilteredData:function(e){return _.reduce(this.filters,function(e,t){return _.filter(e,function(e){var n=!1;return _.each(e,function(e){RegExp(t,"i").test(""+e)&&(n=!0)}),n})},e,this)}}),o.Editor=t.View.extend({initialize:function(e){this.editorId=e.editorId,this.mode=e.mode||"json",this.commands=e.commands,this.theme=e.theme||"idle_fingers",this.couchJSHINT=e.couchJSHINT,this.setHeightWithJS=_.has(e,"setHeightWithJS")?e.setHeightWithJS:!0,this.edited=!1,this.isFullPageEditor=e.isFullPageEditor||!1;var n=this;this.onPageResize=_.debounce(function(){n.isFullPageEditor&&n.setAvailableEditorHeight(),n.setHeightToLineCount(),n.editor.resize(!0)},300),$(window).on("resize.editor",this.onPageResize),this.listenTo(t.Events,t.constants.EVENTS.NAVBAR_SIZE_CHANGED,this.onPageResize),_.bindAll(this)},afterRender:function(){this.editor=n.edit(this.editorId),this.setAvailableEditorHeight(),this.setHeightToLineCount(),this.editor.setTheme("ace/theme/"+this.theme),"plain"!=this.mode&&this.editor.getSession().setMode("ace/mode/"+this.mode),this.editor.setShowPrintMargin(!1),this.editor.autoScrollEditorIntoView=!0,this.addCommands(),this.couchJSHINT&&this.removeIncorrectAnnotations(),this.editor.getSession().setTabSize(2),this.editor.getSession().on("change",function(){this.setHeightToLineCount(),this.edited=!0}.bind(this)),$(window).on("beforeunload.editor_"+this.editorId,function(){return this.edited?"Your changes have not been saved. Click cancel to return to the document.":void 0}.bind(this)),t.beforeUnload("editor_"+this.editorId,function(){return this.edited?"Your changes have not been saved. Click cancel to return to the document.":void 0}.bind(this))},cleanup:function(){$(window).off("beforeunload.editor_"+this.editorId),$(window).off("resize.editor",this.onPageResize),t.removeBeforeUnload("editor_"+this.editorId),this.editor.destroy()},setAvailableEditorHeight:function(){this.availableEditorHeight=$(".code-region").height()},setHeightToLineCount:function(){if(this.setHeightWithJS){var e=this.editor.getSession().getDocument().getLength();if(this.isFullPageEditor){var t=this.getMaxAvailableLinesOnPage();e=t>e?e:t}this.editor.setOptions({maxLines:e})}},getMaxAvailableLinesOnPage:function(){var e=this.getRowHeight();return Math.floor(this.availableEditorHeight/e)},getLines:function(){return this.editor.getSession().getDocument().getLength()},addCommands:function(){_.each(this.commands,function(e){this.editor.commands.addCommand(e)},this)},removeIncorrectAnnotations:function(){var e=this.editor,t=this.isIgnorableError;this.editor.getSession().on("changeAnnotation",function(){var n=e.getSession().getAnnotations(),i=_.reduce(n,function(e,n){return t(n.raw)||e.push(n),e},[]);n.length!==i.length&&e.getSession().setAnnotations(i)})},editSaved:function(){this.edited=!1},setReadOnly:function(e){return this.editor.setReadOnly(e)},setValue:function(e,t){t=t?t:-1,this.editor.setValue(e,t)},getValue:function(){return this.editor.getValue()},getAnnotations:function(){return this.editor.getSession().getAnnotations()},hadValidCode:function(){var e=this.getAnnotations();return _.every(e,function(e){return this.isIgnorableError(e.raw)},this)},excludedViewErrors:["Missing name in function declaration.","['{a}'] is better written in dot notation."],isIgnorableError:function(e){return _.contains(this.excludedViewErrors,e)},configureFixedHeightEditor:function(e){this.editor.renderer.setVScrollBarAlwaysVisible(!0),this.editor.renderer.setHScrollBarAlwaysVisible(!0),this.editor.renderer.$autosize=function(){this.$size.height=e*this.lineHeight,this.desiredHeight=e*this.lineHeight,this.container.style.height=this.desiredHeight+"px",this.scrollBarV.setVisible(!0),this.scrollBarH.setVisible(!0)}},replaceCurrentLine:function(e){this.editor.getSelection().selectLine(),this.editor.insert(e),this.editor.getSelection().moveCursorUp()},getLine:function(e){return this.editor.session.getLine(e)},getSelectionStart:function(){return this.editor.getSelectionRange().start},getSelectionEnd:function(){return this.editor.getSelectionRange().end},getRowHeight:function(){return this.editor.renderer.layerConfig.lineHeight},isRowExpanded:function(e){return!this.editor.getSession().isRowFolded(e)},documentToScreenRow:function(e){return this.editor.getSession().documentToScreenRow(e,0)}}),o.MenuDropDown=t.View.extend({template:"addons/fauxton/templates/menu_dropdown",className:"dropdown",initialize:function(e){this.links=e.links,this.icon=e.icon||"fonticon-plus-circled",this.setUpEvents()},setUpEvents:function(){this.events={},_.each(this.links,function(e){_.each(e.links,function(e){e.trigger&&(this.events["click ."+e.icon]="triggerEvent")},this)},this)},triggerEvent:function(e){e.preventDefault();var n=$(e.currentTarget).attr("triggerEvent");t.Events.trigger(n)},update:function(e){this.links=e,this.render()},serialize:function(){return{links:this.links,icon:this.icon}}}),o.Clipboard=t.View.extend({initialize:function(t){this.$el=t.$el,r.config({moviePath:e.zeroClipboardPath}),this.client=new r(this.$el)},on:function(){return this.client.on.apply(this.client,arguments)}}),o.LookaheadTray=t.View.extend({className:"lookahead-tray tray",template:"addons/fauxton/templates/lookahead_tray",placeholder:"Enter to search",events:{"click #js-close-tray":"closeTray",keyup:"onKeyup"},serialize:function(){return{placeholder:this.placeholder}},initialize:function(e){this.data=e.data,this.toggleEventName=e.toggleEventName,this.onUpdateEventName=e.onUpdateEventName;var t=_.bind(this.trayIsVisible,this),n=_.bind(this.closeTray,this);$("body").on("click.lookaheadTray",function(e){t()&&0===$(e.target).closest(".lookahead-tray").length&&0===$(e.target).closest(".lookahead-tray-link").length&&n()})},afterRender:function(){var e=this;this.dbSearchTypeahead=new o.Typeahead({el:"input.search-autocomplete",source:e.data,onUpdateEventName:e.onUpdateEventName}),this.dbSearchTypeahead.render()},clearValue:function(){this.$(".search-autocomplete").val("")},cleanup:function(){$("body").off("click.lookaheadTray")},trayIsVisible:function(){return this.$el.is(":visible")},toggleTray:function(){this.trayIsVisible()?this.closeTray():this.openTray()},openTray:function(){var e=t.constants.MISC.TRAY_TOGGLE_SPEED;this.$el.velocity("transition.slideDownIn",e,function(){this.$el.find("input").focus()}.bind(this))},closeTray:function(){var e=this.$el;e.velocity("reverse",t.constants.MISC.TRAY_TOGGLE_SPEED,function(){e.hide()}),t.Events.trigger("lookaheadTray:close")},onKeyup:function(e){27===e.which&&this.closeTray()}});var s;t.RouteObject.on("beforeEstablish",function(e){if(!e.disableLoader){var t={lines:16,length:8,width:4,radius:12,color:"#333",speed:1,trail:10,shadow:!1};if(s)return;$(".spinner").length||$('<div class="spinner"></div>').appendTo("#app-container"),s=new Spinner(t).spin(),$(".spinner").append(s.el)}});var a=function(){s&&(s.stop(),s=null,$(".spinner").remove())},l=function(e){var t=c[e];t&&(t.stop(),$(e).find(".spinner").remove(),delete c[e])},c={};return t.RouteObject.on("beforeRender",function(e,t,n){if(a(),!t.disableLoader){var i=_.extend({lines:16,length:8,width:4,radius:12,color:"#333",speed:1,trail:10,shadow:!1},t.loaderStyles),r=new Spinner(i).spin();$('<div class="spinner"></div>').appendTo(n).append(r.el),c[n]=r}}),t.RouteObject.on("afterRender",function(e,t,n){l(n)}),t.RouteObject.on("viewHasRendered",function(e,t){l(t),a()}),o}),define("addons/fauxton/navigation/actiontypes",[],function(){return{ADD_NAVBAR_LINK:"ADD_NAVBAR_LINK",TOGGLE_NAVBAR_MENU:"TOGGLE_NAVBAR_MENU",UPDATE_NAVBAR_LINK:"UPDATE_NAVBAR_LINK",CLEAR_NAVBAR_LINK:"CLEAR_NAVBAR_LINK",REMOVE_NAVBAR_LINK:"REMOVE_NAVBAR_LINK",NAVBAR_SET_VERSION_INFO:"NAVBAR_SET_VERSION_INFO",NAVBAR_ACTIVE_LINK:"NAVBAR_ACTIVE_LINK",SHOW_CSRF_INFO:"SHOW_CSRF_INFO"}}),define("addons/fauxton/navigation/stores",["app","api","addons/fauxton/navigation/actiontypes"],function(e,t,n){var i={},r={id:"csrf",title:"CSRF",icon:"icon-shield",statusArea:!0};return i.NavBarStore=t.Store.extend({initialize:function(){this.reset()},reset:function(){this.activeLink=null,this.version=null,this.navLinks=[],this.footerNavLinks=[],this.statusArea=[r],this.bottomNavLinks=[{id:"Documentation",title:"Documentation",icon:"fonticon-bookmark",href:e.helpers.getDocUrl("GENERAL"),bottomNav:!0,top:!0,target:"_blank"}]},addCsrfInfo:function(){this.addLink(r)},addLink:function(e){return e.top&&!e.bottomNav?(this.navLinks.unshift(e),void 0):e.top&&e.bottomNav?(this.bottomNavLinks.unshift(e),void 0):e.bottomNav?(this.bottomNavLinks.push(e),void 0):e.footerNav?(this.footerNavLinks.push(e),void 0):e.statusArea?(this.statusArea.push(e),void 0):(this.navLinks.push(e),void 0)},removeLink:function(e){var t=this.getLinkSection(e),n=0,i=_.filter(t,function(t){return t.id===e.id?!0:(n++,!1)});i.length&&t.splice(n,1)},getNavLinks:function(){return this.navLinks},getBottomNavLinks:function(){return this.bottomNavLinks},getFooterNavLinks:function(){return this.footerNavLinks},getStatusAreaItems:function(){return this.statusArea},toggleMenu:function(){e.utils.localStorageSet(t.constants.LOCAL_STORAGE.SIDEBAR_MINIMIZED,!this.isMinimized())},getLinkSection:function(e){var t=this.navLinks;return e.bottomNav&&(t=this.bottomNavLinks),e.footerNav&&(t=this.footerNavLinks),e.statusArea&&(t=this.statusArea),t},updateLink:function(e){var t,n=this.getLinkSection(e);t=_.find(n,function(t){return t.id===e.id}),t&&(t.title=e.title,t.href=e.href)},getVersion:function(){return this.version},setVersion:function(e){this.version=e},getActiveLink:function(){return this.activeLink},setActiveLink:function(e){this.activeLink=e},isMinimized:function(){var n=e.utils.localStorageGet(t.constants.LOCAL_STORAGE.SIDEBAR_MINIMIZED);return _.isUndefined(n)?!1:n},dispatch:function(e){switch(e.type){case n.ADD_NAVBAR_LINK:this.addLink(e.link);break;case n.TOGGLE_NAVBAR_MENU:this.toggleMenu();break;case n.UPDATE_NAVBAR_LINK:this.updateLink(e.link);break;case n.CLEAR_NAVBAR_LINK:this.reset();break;case n.REMOVE_NAVBAR_LINK:this.removeLink(e.link);break;case n.NAVBAR_SET_VERSION_INFO:this.setVersion(e.version);break;case n.SHOW_CSRF_INFO:this.addCsrfInfo();break;case n.NAVBAR_ACTIVE_LINK:this.setActiveLink(e.name);break;default:return}this.triggerChange()}}),i.navBarStore=new i.NavBarStore,i.navBarStore.dispatchToken=t.dispatcher.register(i.navBarStore.dispatch),i}),define("addons/fauxton/navigation/actions",["app","api","addons/fauxton/navigation/actiontypes"],function(e,t,n){return{toggleNavbarMenu:function(){t.dispatch({type:n.TOGGLE_NAVBAR_MENU})},addHeaderLink:function(e){t.dispatch({type:n.ADD_NAVBAR_LINK,link:e})},removeHeaderLink:function(e){t.dispatch({type:n.REMOVE_NAVBAR_LINK,link:e})},setNavbarVersionInfo:function(e){t.dispatch({type:n.NAVBAR_SET_VERSION_INFO,version:e})},setNavbarActiveLink:function(e){t.dispatch({type:n.NAVBAR_ACTIVE_LINK,name:e})}}}),define("addons/fauxton/navigation/components.react",["app","api","react","addons/fauxton/navigation/stores","addons/fauxton/navigation/actions","plugins/zeroclipboard/ZeroClipboard"],function(e,t,n,i,r){var o=i.navBarStore,s=n.createClass({displayName:"Footer",render:function(){var e=this.props.version;return e?n.createElement("div",{className:"version-footer"},"Fauxton on"," ",n.createElement("a",{href:"https://github.com/pouchdb/pouchdb"},"PouchDB"),n.createElement("br",null),"v. ",e):null}}),a=n.createClass({displayName:"Burger",render:function(){return n.createElement("div",{className:"burger",onClick:this.props.toggleMenu},n.createElement("div",null),n.createElement("div",null),n.createElement("div",null))}}),l=n.createClass({displayName:"NavLink",render:function(){var e=this.props.link,t=this.props.active===e.title?"active":"";return n.createElement("li",{"data-nav-name":e.title,className:t},n.createElement("a",{href:e.href,target:e.target?"_blank":null,"data-bypass":e.target?"true":null},n.createElement("i",{className:e.icon+" fonticon "}),n.createElement("span",{dangerouslySetInnerHTML:{__html:e.title}})))}}),c=n.createClass({displayName:"NavBar",getStoreState:function(){return{navLinks:o.getNavLinks(),bottomNavLinks:o.getBottomNavLinks(),footerNavLinks:o.getFooterNavLinks(),activeLink:o.getActiveLink(),version:o.getVersion(),isMinimized:o.isMinimized(),statusAreaItems:o.getStatusAreaItems()}},getInitialState:function(){return this.getStoreState()},createLinks:function(e){return _.map(e,function(e,t){return n.createElement(l,{key:t,link:e,active:this.state.activeLink})},this)},onChange:function(){this.setState(this.getStoreState())},setMenuState:function(){$("body").toggleClass("closeMenu",this.state.isMinimized),t.Events.trigger(t.constants.EVENTS.NAVBAR_SIZE_CHANGED,this.state.isMinimized)},componentDidMount:function(){o.on("change",this.onChange,this),this.setMenuState()},componentDidUpdate:function(){this.setMenuState()},componentWillUnmount:function(){o.off("change",this.onChange)},toggleMenu:function(){r.toggleNavbarMenu()},getStatusArea:function(){var e=this.state.statusAreaItems[0];return e?n.createElement("div",{className:"nav-status-area"},n.createElement("i",{className:e.icon+" fonticon"})," CSRF"):null},render:function(){var e=this.createLinks(this.state.navLinks),t=this.createLinks(this.state.bottomNavLinks),i=this.createLinks(this.state.footerNavLinks);return n.createElement("div",{className:"navbar"},n.createElement(a,{toggleMenu:this.toggleMenu}),n.createElement("nav",{id:"main_navigation"},n.createElement("ul",{id:"nav-links",className:"nav"},e),n.createElement("div",{id:"bottom-nav"},n.createElement("ul",{id:"bottom-nav-links",className:"nav"},t))),n.createElement("div",{id:"primary-nav-right-shadow"}),n.createElement("div",{className:"bottom-container"},n.createElement("div",{className:"brand"},n.createElement("div",{className:"icon"},"PouchDB Fauxton")),n.createElement(s,{version:this.state.version}),this.getStatusArea(),n.createElement("div",{id:"footer-links"},n.createElement("ul",{id:"footer-nav-links",className:"nav"},i))))}});return{renderNavBar:function(e){n.render(n.createElement(c,null),e)},NavBar:c,Burger:a}}),define("addons/fauxton/base",["app","api","addons/fauxton/components","addons/fauxton/navigation/components.react","addons/fauxton/navigation/actions","plugins/zeroclipboard/ZeroClipboard"],function(e,t,n,i,r){var o=t.addon();return t.addNotification=function(e){e=_.extend({msg:"Notification Event Triggered!",type:"info",selector:"#global-notifications",escape:!0},e);var t=new o.Notification(e);return t.renderNotification()},t.UUID=t.Model.extend({initialize:function(e){e=_.extend({count:1},e),this.count=e.count},url:function(){return e.host+"/_uuids?count="+this.count},next:function(){return this.get("uuids").pop()}}),o.initialize=function(){e.apiBar=new n.ApiBar,t.masterLayout.setView("#api-navbar",e.apiBar,!0),e.apiBar.render(),t.masterLayout.apiBar=e.apiBar,t.RouteObject.on("beforeFullRender",function(e){r.setNavbarActiveLink(_.result(e,"selectedHeader"))}),t.RouteObject.on("beforeEstablish",function(e){if(!e.overrideBreadcrumbs){t.masterLayout.removeView("#breadcrumbs");var i=e.get("crumbs");i.length&&t.masterLayout.setView("#breadcrumbs",new n.Breadcrumbs({crumbs:i}),!0).render()}}),t.RouteObject.on("renderComplete",function(e){var n=t.masterLayout;e.get("apiUrl")?(n.apiBar.show(),n.apiBar.update(e.get("apiUrl"))):n.apiBar.hide()});var s=$("#primary-navbar")[0];s&&i.renderNavBar(s);var a=new o.VersionInfo;a.fetch().then(function(){r.setNavbarVersionInfo(a.get("version"))})},o.VersionInfo=Backbone.Model.extend({url:function(){return e.host}}),o.Notification=t.View.extend({animationTimer:5e3,id:"global-notification-id",events:{"click .js-dismiss":"onClickRemoveWithAnimation"},initialize:function(e){this.htmlToRender=e.msg,e.escape!==!1&&(this.htmlToRender=_.escape(this.htmlToRender)),this.type=e.type||"info",this.selector=e.selector,this.fade=void 0===e.fade?!0:e.fade,this.data=e.data||"",this.template=e.template||"addons/fauxton/templates/notification"},serialize:function(){var e;switch(this.type){case"error":e="fonticon-attention-circled";break;case"info":e="fonticon-info-circled";break;case"success":e="fonticon-ok-circled";break;default:e="fonticon-info-circled"}return{icon:e,data:this.data,htmlToRender:this.htmlToRender,type:this.type}},onClickRemoveWithAnimation:function(e){e.preventDefault(),window.clearTimeout(this.timeout),this.removeWithAnimation()},removeWithAnimation:function(){this.$el.velocity("reverse",t.constants.MISC.TRAY_TOGGLE_SPEED,function(){this.$el.remove(),this.removeCloseListener()}.bind(this))},addCloseListener:function(){$(document).on("keydown.notificationClose",this.onKeyDown.bind(this))},onKeyDown:function(e){var t=e.keyCode||e.which;27===t&&this.removeWithAnimation()},removeCloseListener:function(){$(document).off("keydown.notificationClose",this.removeWithAnimation)},delayedRemoval:function(){this.timeout=setTimeout(function(){this.removeWithAnimation()}.bind(this),this.animationTimer)},renderNotification:function(e){return e=e||this.selector,this.clear&&$(e).html(""),this.render().$el.appendTo(e),this.$el.velocity("transition.slideDownIn",t.constants.MISC.TRAY_TOGGLE_SPEED),this.delayedRemoval(),this.addCloseListener(),this}}),o}),define("addons/components/base",[],function(){var e={};return e.initialize=function(){},e}),function(e,t){"use strict";if("function"==typeof define&&define.amd)define("cloudant.pagingcollection",["underscore","backbone","jquery"],function(n,i,r){return t(e,null,n,i,r.param)});else if("undefined"!=typeof exports){var n,i=require("Backbone"),r=require("querystring").stringify;try{n=require("underscore")}catch(o){n=require("lodash")}t(e,exports,n,i,r)}else e.PagingCollection=t(e,{},e._,e.Backbone,e.$.param)}(this,function(e,t,n,i,r){"use strict";var o=i.Collection.extend({constructor:function(){i.Collection.apply(this,arguments),this.configure.apply(this,arguments)},configure:function(e,t){var i=n.result(this,"url").split("?")[1]||"";this.paging=n.defaults(t.paging||{},{defaultParams:n.defaults({},t.params,this._parseQueryString(i)),hasNext:!1,hasPrevious:!1,params:{},pageSize:20,direction:void 0}),this.paging.params=n.clone(this.paging.defaultParams),this.updateUrlQuery(this.paging.defaultParams)},calculateParams:function(e,t,i){var r=n.clone(e);return r.skip=(parseInt(e.skip,10)||0)+t,this.paging.defaultParams.limit&&(r.limit=Math.min(this.paging.defaultParams.limit,r.limit)),r.limit=i+1,r.skip=Math.max(r.skip,0),r},pageSizeReset:function(e,t){var i=n.defaults(t||{},{fetch:!0});return this.paging.direction=void 0,this.paging.pageSize=e,this.paging.params=this.paging.defaultParams,this.paging.params.limit=e,this.updateUrlQuery(this.paging.params),i.fetch?this.fetch():void 0},_parseQueryString:function(e){var t=decodeURI(e).split(/&/);return n.reduce(t,function(e,t){var n=t.split(/=/);return 2===n.length&&(e[n[0]]=n[1]),e},{})},_iterate:function(e,t){var i=n.defaults(t||{},{fetch:!0});return this.paging.params=this.calculateParams(this.paging.params,e,this.paging.pageSize),this.updateUrlQuery(this.paging.params),i.fetch?this.fetch({reset:!0}):void 0},next:function(e){return this.paging.direction="next",this._iterate(this.paging.pageSize,e)},previous:function(e){return this.paging.direction="previous",this._iterate(0-this.paging.pageSize,e)},shouldStringify:function(e){try{return JSON.parse(e),!1}catch(t){return!0}},updateUrlQuery:function(e){var t=n.result(this,"url").split("?")[0];n.each(["startkey","endkey","key"],function(t){n.has(e,t)&&this.shouldStringify(e[t])&&(e[t]=JSON.stringify(e[t]))},this),this.url=t+"?"+r(e)},fetch:function(){return!this.paging.direction&&this.paging.params.limit>0&&(this.paging.direction="fetch",this.paging.params.limit=this.paging.params.limit+1,this.updateUrlQuery(this.paging.params)),i.Collection.prototype.fetch.apply(this,arguments)},parse:function(e){var t=e.rows;this.paging.hasNext=this.paging.hasPrevious=!1,this.viewMeta={total_rows:e.total_rows,offset:e.offset,update_seq:e.update_seq};var n=this.paging.defaultParams.skip||0;return this.paging.params.skip>n&&(this.paging.hasPrevious=!0),t.length===this.paging.pageSize+1&&(this.paging.hasNext=!0,t.pop(),this.viewMeta.total_rows=this.viewMeta.total_rows-1),t},hasNext:function(){return this.paging.hasNext},hasPrevious:function(){return this.paging.hasPrevious}});return t&&(t.setAjax=function(e){i.ajax=e},t.PagingCollection=o),o}),define("addons/documents/shared-resources",["app","api","cloudant.pagingcollection"],function(e,t,n){var i=t.addon();return i.Doc=t.Model.extend({idAttribute:"_id",documentation:function(){return t.constants.DOC_URLS.GENERAL},url:function(e){return void 0===e&&(e="server"),t.urls("document",e,this.getDatabase().safeID(),this.safeID())},initialize:function(e,t){this.collection&&this.collection.database?this.database=this.collection.database:t.database&&(this.database=t.database)},getDatabase:function(){return this.database?this.database:this.collection.database},validate:function(e){return this.id&&this.id!==e._id&&this.get("_rev")?"Cannot change a documents id.":void 0},docType:function(){return this.id&&this.id.match(/^_design\//)?"design doc":"doc"},isDeletable:function(){return!!this.id},isFromView:function(){return!this.id},isMangoDoc:function(){return this.isDdoc()?"query"===this.get("language")?!0:this.get("doc")&&"query"===this.get("doc").language?!0:!1:!1},isReducedShown:function(){return this.collection?this.collection.params.reduce:!1},isDdoc:function(){return"design doc"===this.docType()},hasViews:function(){if(!this.isDdoc())return!1;var e=this.get("doc");if(e)return e&&e.views&&_.keys(e.views).length>0;var t=this.get("views");return t&&_.keys(t).length>0},getDdocView:function(e){if(!this.isDdoc()||!this.hasViews())return!1;var t=this.get("doc");return t?t.views[e]:this.get("views")[e]},setDdocView:function(e,t,n){if(!this.isDdoc())return!1;var i=this.get("views"),r=i[e]||{};return n?r.reduce=n:delete r.reduce,r.map=t,i[e]=r,this.set({views:i}),!0},removeDdocView:function(e){if(!this.isDdoc())return!1;var t=this.get("views");delete t[e],this.set({views:t})},dDocModel:function(){if(!this.isDdoc())return!1;var e=this.get("doc");return e?(e._rev=this.get("_rev"),new i.Doc(e,{database:this.database})):this},safeID:function(){if(this.isDdoc()){var t=this.id.replace(/^_design\//,"");return"_design/"+e.utils.safeURLName(t)}return e.utils.safeURLName(this.id)},destroy:function(){var e=this.url()+"?rev="+this.get("_rev");return $.ajax({url:e,dataType:"json",type:"DELETE"})},parse:function(e){return e.rev&&(e._rev=e.rev,delete e.rev),e.id&&_.isUndefined(this.id)&&(e._id=e.id),e.ok&&(delete e.id,delete e.ok),e},prettyJSON:function(){var e=this.get("doc")?this.get("doc"):this.attributes;return JSON.stringify(e,null,"  ")},copy:function(e){return $.ajax({type:"COPY",url:"/"+this.database.safeID()+"/"+this.safeID(),headers:{Destination:e}})},isNewDoc:function(){return this.get("_rev")?!1:!0}}),i.AllDocs=n.extend({model:i.Doc,documentation:function(){return t.constants.DOC_URLS.GENERAL},initialize:function(e,t){this.viewMeta=t.viewMeta,this.database=t.database,this.params=_.clone(t.params),this.on("remove",this.decrementTotalRows,this),this.perPageLimit=t.perPageLimit||20,this.params.limit||(this.params.limit=this.perPageLimit)},isEditable:function(){return!0},urlRef:function(e,n){var i="";return n?i=_.isEmpty(n)?"":"?"+$.param(n):this.params&&(i="?"+$.param(this.params)),_.isUndefined(e)&&(e="server"),t.urls("allDocs",e,this.database.safeID(),i)},url:function(){return this.urlRef.apply(this,arguments)},simple:function(){var e=this.map(function(e){return{_id:e.id,_rev:e.get("_rev")}});return new i.AllDocs(e,{database:this.database,params:this.params})},totalRows:function(){return this.viewMeta.total_rows||"unknown"
},decrementTotalRows:function(){this.viewMeta.total_rows&&(this.viewMeta.total_rows=this.viewMeta.total_rows-1,this.trigger("totalRows:decrement"))},updateSeq:function(){return this.viewMeta?this.viewMeta.update_seq||!1:!1},parse:function(e){var t=e.rows,i=_.filter(t,function(e){return e.value});return e.rows=_.map(i,function(e){return{_id:e.id,_rev:e.value.rev,value:e.value,key:e.key,doc:e.doc||void 0}}),n.prototype.parse.call(this,e)},clone:function(){return new this.constructor(this.models,{database:this.database,params:this.params,paging:this.paging})}}),i}),define("addons/documents/resources",["app","api","addons/documents/shared-resources","cloudant.pagingcollection"],function(e,t,n,i){return n.QueryParams=function(){var e=function(e,t){var n=_.clone(e);return _.each(["startkey","endkey","key"],function(e){_.has(n,e)&&(n[e]=t(n[e]))}),n};return{parse:function(t){return e(t,JSON.parse)},stringify:function(t){return e(t,JSON.stringify)}}}(),n.DdocInfo=t.Model.extend({idAttribute:"_id",documentation:function(){return t.constants.DOC_URLS.GENERAL},initialize:function(e,t){this.database=t.database},url:function(e){return e||(e="server"),t.urls("designDocs",e,this.database.safeID(),this.safeID())},safeID:function(){var t=this.id.replace(/^_design\//,"");return"_design/"+e.utils.safeURLName(t)}}),n.MangoIndex=n.Doc.extend({idAttribute:"ddoc",getId:function(){return this.id?this.id:"_all_docs"},isNew:function(){return!0},isDeletable:function(){return"special"!==this.get("type")},isFromView:function(){return!1},url:function(){var e=this.database.safeID();return t.urls("mango","index-server",e)}}),n.MangoIndexCollection=i.extend({model:n.MangoIndex,initialize:function(e,n){var i=t.constants.MISC.DEFAULT_PAGE_SIZE;this.database=n.database,this.params=_.extend({limit:i},n.params)},url:function(){return this.urlRef.apply(this,arguments)},updateSeq:function(){return!1},isEditable:function(){return!1},parse:function(e){return e.indexes},urlRef:function(e){var n=this.database.safeID(),i="";return e||(e="index-server"),t.urls("mango",e,n,i)}}),n.MangoDoc=n.Doc.extend({isMangoDoc:function(){return!0}}),n.MangoDocumentCollection=i.extend({model:n.MangoDoc,initialize:function(e,n){var i=t.constants.MISC.DEFAULT_PAGE_SIZE;this.database=n.database,this.params=_.extend({limit:i},n.params),this.paging=_.defaults(n.paging||{},{defaultParams:_.defaults({},n.params),hasNext:!1,hasPrevious:!1,params:{},pageSize:t.constants.MISC.DEFAULT_PAGE_SIZE,direction:void 0}),this.paging.params=_.clone(this.paging.defaultParams)},url:function(){return this.urlRef.apply(this,arguments)},updateSeq:function(){return!1},isEditable:function(){return!0},setQuery:function(e){return this.query=e,this},pageSizeReset:function(e,t){var n=_.defaults(t||{},{fetch:!0});return this.paging.direction=void 0,this.paging.pageSize=e,this.paging.params=this.paging.defaultParams,this.paging.params.limit=e,n.fetch?this.fetch():void 0},_iterate:function(e,t){return _.defaults(t||{},{fetch:!0}),this.paging.params=this.calculateParams(this.paging.params,e,this.paging.pageSize),this.fetch()},getPaginatedQuery:function(){var e=JSON.parse(JSON.stringify(this.query));return!this.paging.direction&&this.paging.params.limit>0&&(this.paging.direction="fetch",this.paging.params.limit=this.paging.params.limit+1),e.limit||(e.limit=this.paging.params.limit),e.skip||(e.skip=this.paging.params.skip),e},fetch:function(){var e=this.urlRef(),n=t.Deferred(),i=this.getPaginatedQuery();return $.ajax({type:"POST",url:e,contentType:"application/json",dataType:"json",data:JSON.stringify(i)}).then(function(e){this.handleResponse(e,n)}.bind(this)).fail(function(e){n.reject(e.responseJSON)}.bind(this)),n},parse:function(e){var t=e.docs;this.paging.hasNext=this.paging.hasPrevious=!1,this.viewMeta={total_rows:e.total_rows,offset:e.offset,update_seq:e.update_seq};var n=this.paging.defaultParams.skip||0;return this.paging.params.skip>n&&(this.paging.hasPrevious=!0),t.length===this.paging.pageSize+1&&(this.paging.hasNext=!0,t.pop(),this.viewMeta.total_rows=this.viewMeta.total_rows-1),t},handleResponse:function(e,t){var n=this.parse(e);this.reset(n),t.resolve()},urlRef:function(e){var n=this.database.safeID(),i="";return e||(e="query-server"),t.urls("mango",e,n,i)}}),n.NewDoc=n.Doc.extend({fetch:function(){var e=new t.UUID,n=this.deferred=$.Deferred(),i=this;return e.fetch().done(function(){i.set("_id",e.next()),n.resolve()}),n.promise()}}),n.BulkDeleteDoc=t.Model.extend({idAttribute:"_id"}),n.BulkDeleteDocCollection=t.Collection.extend({model:n.BulkDeleteDoc,sync:function(){},initialize:function(e,t){this.databaseId=t.databaseId},url:function(){return e.host+"/"+this.databaseId+"/_bulk_docs"},bulkDelete:function(){var e=this.createPayload(this.toJSON()),n=t.Deferred(),i=this;return $.ajax({type:"POST",url:this.url(),contentType:"application/json",dataType:"json",data:JSON.stringify(e)}).then(function(e){i.handleResponse(e,n)}).fail(function(){var e=_.reduce(i.toArray(),function(e,t){return e.push(t.id),e},[]);i.trigger("error",e),n.reject(e)}),n},handleResponse:function(e,t){var n=_.reduce(e,function(e,t){return t.error&&e.errorIds.push(t.id),t.error||e.successIds.push(t.id),e},{errorIds:[],successIds:[]});this.removeDocuments(n.successIds),n.errorIds.length&&this.trigger("error",n.errorIds),_.isEmpty(n.successIds)?t.reject(n.errorIds):t.resolve(n),this.trigger("updated")},removeDocuments:function(e){var n=!1;_.each(e,function(e){/_design/.test(e)&&(n=!0),this.remove(this.get(e))},this),n&&t.triggerRouteEvent("reloadDesignDocs"),this.trigger("removed",e)},createPayload:function(e){var t=e;return{docs:t}}}),n.MangoBulkDeleteDocCollection=n.BulkDeleteDocCollection.extend({url:function(){return e.host+"/"+this.databaseId+"/_index/_bulk_delete"},createPayload:function(e){var t=e.filter(function(e){return"_all_docs"!==e._id}).map(function(e){return e._id});return{docids:t}}}),n.IndexCollection=i.extend({model:n.Doc,documentation:function(){return t.constants.DOC_URLS.GENERAL},initialize:function(e,t){this.database=t.database,this.params=_.extend({limit:20,reduce:!1},t.params),this.idxType="_view",this.view=t.view,this.design=t.design.replace("_design/",""),this.perPageLimit=t.perPageLimit||20,this.params.limit||(this.params.limit=this.perPageLimit)},isEditable:function(){return!this.params.reduce},urlRef:function(i){var r="";if(i)r=_.isEmpty(i)?"":"?"+$.param(i);else if(this.params){var o=n.QueryParams.stringify(this.params);r="?"+$.param(o)}var s=this.database.safeID(),a=e.utils.safeURLName(this.design),l=e.utils.safeURLName(this.view),c=t.urls("view","apiurl",s,a,l);return c+r},url:function(){return this.urlRef.apply(this,arguments)},totalRows:function(){return this.params.reduce?"unknown_reduce":this.viewMeta.total_rows||"unknown"},updateSeq:function(){return this.viewMeta?this.viewMeta.update_seq||!1:!1},simple:function(){var e=this.map(function(e){return{_id:e.id,key:e.get("key"),value:e.get("value")}});return new n.IndexCollection(e,{database:this.database,params:this.params,view:this.view,design:this.design})},parse:function(e){return e.rows,this.endTime=(new Date).getTime(),this.requestDuration=this.endTime-this.startTime,i.prototype.parse.apply(this,arguments)},buildAllDocs:function(){this.fetch()},fetch:function(){return this.startTime=(new Date).getTime(),i.prototype.fetch.call(this)},allDocs:function(){return this.models},requestDurationInString:function(){var e,t,n,i,r,o=this.requestDuration;for(t=Math.floor(o/1e3),n=Math.floor(t/60),t=""+t%60,2>t.length&&(t="0"+t),i=""+Math.floor(n/60),2>i.length&&(i="0"+i),n=""+n%60,2>n.length&&(n="0"+n),r=i+":"+n+":"+t,e=""+o%1e3;3>e.length;)e="0"+e;return r+="."+e}}),n.setUpDropdown=function(e){var i=[{links:[{title:"Replicate Database",icon:"fonticon-replicate",url:t.urls("replication","app",e.get("id"))},{title:"Delete",icon:"fonticon-trash",trigger:"database:delete"}]}];return i.push({title:"Add new",links:n.getExtensionLinks(e)}),i},n.getExtensionLinks=function(n){var i="#"+t.urls("databaseBaseURL","app",n.get("id")),r=[{title:"New Doc",url:i+"/new",icon:"fonticon-plus-circled"},{title:"New View",url:i+"/new_view",icon:"fonticon-plus-circled"},{title:e.i18n.en_US["new-mango-index"],url:i+"/_index",icon:"fonticon-plus-circled"}];return _.reduce(t.getExtensions("sidebar:links"),function(e,t){return e.push({title:t.title,url:i+"/"+t.url,icon:"fonticon-plus-circled"}),e},r)},n}),define("addons/databases/resources",["app","api","addons/documents/resources"],function(e,t,n){var i=t.addon();return i.DocLimit=100,i.Model=t.Model.extend({initialize:function(){this.status=new i.Status({database:this})},documentation:function(){return t.constants.DOC_URLS.ALL_DBS},buildAllDocs:function(e){return this.allDocs=new n.AllDocs(null,{database:this,params:e}),this.allDocs},isNew:function(){return!1},isSystemDatabase:function(){return/^_/.test(this.id)},url:function(n){return"index"===n?"/database/"+this.safeID()+"/_all_docs":"web-index"===n?"#/database/"+this.safeID()+"/_all_docs?limit="+i.DocLimit:"apiurl"===n?window.location.origin+"/database/"+this.safeID()+"/_all_docs":"changes"===n?t.urls("changes","app",this.safeID(),"?descending=true&limit=100&include_docs=true"):"changes-apiurl"===n?t.urls("changes","apiurl",this.safeID(),"?descending=true&limit=100&include_docs=true"):"app"===n?"/database/"+this.safeID():e.host+"/"+this.safeID()},safeName:function(){return e.utils.safeURLName(this.get("name"))},safeID:function(){return e.utils.safeURLName(this.id)},buildChanges:function(e){return e.limit||(e.limit=100),this.changes=new i.Changes({database:this,params:e}),this.changes}}),i.Changes=t.Collection.extend({initialize:function(e){this.database=e.database,this.params=e.params},documentation:function(){return t.constants.DOC_URLS.CHANGES},url:function(e){var n="";return this.params&&(n="?"+$.param(this.params)),e||(e="server"),t.urls("changes",e,this.database.safeID(),n)},parse:function(e){return this.last_seq=e.last_seq,e.results}}),i.Status=t.Model.extend({url:function(){return e.host+"/"+this.database.safeID()},initialize:function(e){this.database=e.database},numDocs:function(){return this.get("doc_count")},numDeletedDocs:function(){return this.get("doc_del_count")},isGraveYard:function(){return this.numDeletedDocs()>this.numDocs()},updateSeq:function(e){var t=this.get("update_seq");return e||"number"==typeof t?t:t?t[0]:0},dataSize:function(){return this.get("other")?this.get("other").data_size:this.get("data_size")?this.get("data_size"):this.get("disk_size")?this.get("disk_size"):0},hasDataSize:function(){return this.get("other")||this.get("data_size")||this.get("disk_size")}}),i.List=t.Collection.extend({model:i.Model,documentation:function(){return t.constants.DOC_URLS.ALL_DBS},getDatabaseNames:function(){return _.map(this.toArray(),function(e){return e.get("name")})},cache:{expires:60},url:function(t){return"apiurl"===t?window.location.origin+"/_all_dbs":e.host+"/_all_dbs"},parse:function(t){return _.map(t,function(t){return{id:e.utils.safeURLName(t),name:t}})},paginated:function(e,t){var n=(e-1)*t,i=e*t;return this.slice(n,i)}}),i}),define("addons/databases/actiontypes",[],function(){return{DATABASES_INIT:"DATABASES_INIT",DATABASES_SETPAGE:"DATABASES_SETPAGE",DATABASES_SET_PROMPT_VISIBLE:"DATABASES_SET_PROMPT_VISIBLE",DATABASES_STARTLOADING:"DATABASES_STARTLOADING",DATABASES_LOADCOMPLETE:"DATABASES_LOADCOMPLETE"}}),define("addons/databases/stores",["app","api","addons/databases/actiontypes","addons/databases/resources"],function(e,t,n){var i=t.Store.extend({initialize:function(){this.reset()},reset:function(){this._collection=new Backbone.Collection,this._loading=!1,this._promptVisible=!1},init:function(e,t){this._collection=e,this._backboneCollection=t},setPage:function(e){this._page=e},getPage:function(){return this._page?this._page:1},isLoading:function(){return this._loading},setLoading:function(e){this._loading=e},isPromptVisible:function(){return this._promptVisible},setPromptVisible:function(e){this._promptVisible=e},obtainNewDatabaseModel:function(e){return new this._backboneCollection.model({id:e,name:e})},getCollection:function(){return this._collection},getDatabaseNames:function(){return this._backboneCollection?_.map(this._backboneCollection.toJSON(),function(e){return e.name}):[]},doesDatabaseExist:function(e){return this.getDatabaseNames().indexOf(e)>=0},dispatch:function(e){switch(e.type){case n.DATABASES_INIT:this.init(e.options.collection,e.options.backboneCollection),this.setPage(e.options.page),this.setLoading(!1),this.triggerChange();break;case n.DATABASES_SETPAGE:this.setPage(e.options.page),this.triggerChange();break;case n.DATABASES_SET_PROMPT_VISIBLE:this.setPromptVisible(e.options.visible),this.triggerChange();break;case n.DATABASES_STARTLOADING:this.setLoading(!0),this.triggerChange();break;case n.DATABASES_LOADCOMPLETE:this.setLoading(!1),this.triggerChange();break;default:return}}}),r=new i;return r.dispatchToken=t.dispatcher.register(r.dispatch.bind(r)),{databasesStore:r}}),define("addons/databases/actions",["app","api","addons/databases/stores","addons/databases/actiontypes","addons/databases/resources"],function(e,t,n,i,r){return{init:function(n){var r=e.getParams(),o=r.page?parseInt(r.page,10):1,s=t.constants.MISC.DEFAULT_PAGE_SIZE;this.setStartLoading(),t.when(n.fetch({cache:!1})).then(function(){t.when(n.paginated(o,s).map(function(e){return e.status.fetchOnce()})).always(function(){t.dispatch({type:i.DATABASES_INIT,options:{collection:n.paginated(o,s),backboneCollection:n,page:o}})}.bind(this))}.bind(this))},setPage:function(e){t.dispatch({type:i.DATABASES_SETPAGE,options:{page:e}})},setStartLoading:function(){t.dispatch({type:i.DATABASES_STARTLOADING})},setLoadComplete:function(){t.dispatch({type:i.DATABASES_LOADCOMPLETE})},createNewDatabase:function(o){if(_.isNull(o)||0===o.trim().length||!this.isValidDatabaseName(o))return t.addNotification({msg:"Please enter a valid database name. The database must start with a letter and can only contain lowercase letters (a-z), digits (0-9) and the following characters _, $, (, ), +, -, and /.",type:"error",clear:!0}),void 0;o=o.trim(),t.dispatch({type:i.DATABASES_SET_PROMPT_VISIBLE,options:{visible:!1}});var s=n.databasesStore.obtainNewDatabaseModel(o);t.addNotification({msg:"Creating database."}),s.save().done(function(){t.addNotification({msg:"Database created successfully",type:"success",clear:!0});var n=t.urls("allDocs","app",e.utils.safeURLName(o),"?limit="+r.DocLimit);e.router.navigate(n,{trigger:!0})}).error(function(e){var n=JSON.parse(e.responseText).reason;t.addNotification({msg:"Create database failed: "+n,type:"error",clear:!0})})},jumpToDatabase:function(i){if(!_.isNull(i)&&0!==i.trim().length)if(i=i.trim(),n.databasesStore.doesDatabaseExist(i)){var r=t.urls("allDocs","app",e.utils.safeURLName(i),"");t.navigate(r)}else t.addNotification({msg:"Database does not exist.",type:"error"})},isValidDatabaseName:function(e){return/^[a-z][a-z0-9_\$\(\)\+\/-]*$/.test(e)}}}),function(){function e(e,n){"use strict";var i=new t(e,n);return i.beautify()}function t(e,t){"use strict";function n(e,t){var n=0;e&&(n=e.indentation_level,n+=e.var_line&&e.var_line_reindented?1:0,!l()&&e.line_indent_level>n&&(n=e.line_indent_level));var i={mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",var_line:!1,var_line_tainted:!1,var_line_reindented:!1,in_html_comment:!1,multiline_frame:!1,if_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:e?e.line_indent_level:n,start_line_index:G.length,had_comment:!1,ternary_depth:0};return i}function i(){return{text:[]}}function r(e){if(e=void 0===e?!1:e,G.length)for(o(G[G.length-1],e);e&&G.length>1&&0===G[G.length-1].text.length;)G.pop(),o(G[G.length-1],e)}function o(e){for(;e.text.length&&(" "===e.text[e.text.length-1]||e.text[e.text.length-1]===J||e.text[e.text.length-1]===yt);)e.text.pop()}function s(e){return e.replace(/^\s+|\s+$/g,"")}function a(e){e=e.replace(/\x0d/g,"");for(var t=[],n=e.indexOf("\n");-1!==n;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf("\n");return e.length&&t.push(e),t}function l(){var e=G[G.length-1];return 0===e.text.length}function c(){if(l()){if(1===G.length)return!0;var e=G[G.length-2];return 0===e.text.length}return!1}function u(e){if(e=void 0===e?!1:e,vt.wrap_line_length&&!e){var t=G[G.length-1],n=0;t.text.length>0&&(n=t.text.join("").length+K.length+(dt?1:0),n>=vt.wrap_line_length&&(e=!0))}(vt.preserve_newlines&&ct||e)&&!l()&&(d(!1,!0),E(Z.mode)||C(Z.mode)||(ut=!0))}function d(e,t){if(ut=!1,dt=!1,!t&&";"!==Z.last_text)for(;Z.mode===mt.Statement&&!Z.if_block&&!Z.do_block;)_();1===G.length&&l()||(e||!l())&&(Z.multiline_frame=!0,G.push(i()))}function h(){if(l()){var e=G[G.length-1];if(vt.keep_array_indentation&&E(Z.mode)&&ct){e.text.push("");for(var t=0;ft.length>t;t+=1)e.text.push(ft[t])}else yt&&e.text.push(yt),p(Z.indentation_level+(Z.var_line&&Z.var_line_reindented?1:0)+(ut?1:0))}}function p(e){if(G.length>1){var t=G[G.length-1];Z.line_indent_level=e;for(var n=0;e>n;n+=1)t.text.push(J)}}function f(){var e=G[G.length-1];if(dt&&e.text.length){var t=e.text[e.text.length-1];" "!==t&&t!==J&&e.text.push(" ")}}function g(e){e=e||K,h(),ut=!1,f(),dt=!1,G[G.length-1].text.push(e)}function m(){Z.indentation_level+=1}function v(){Z.indentation_level>0&&(!Z.parent||Z.indentation_level>Z.parent.indentation_level)&&(Z.indentation_level-=1)}function y(e){if(!e.multiline_frame)for(var t,n=e.start_line_index,i=0;G.length>n;)t=G[n],n++,0!==t.text.length&&(i=yt&&t.text[0]===yt?1:0,t.text[i]===J&&t.text.splice(i,1))}function b(e){Z?(tt.push(Z),et=Z):et=n(null,e),Z=n(et,e)}function E(e){return e===mt.ArrayLiteral}function C(e){return x(e,[mt.Expression,mt.ForInitializer,mt.Conditional])}function _(){tt.length>0&&(et=Z,Z=tt.pop())}function w(){return Z.mode===mt.ObjectLiteral&&":"===Z.last_text&&0===Z.ternary_depth}function A(){return"do"===Z.last_text||"else"===Z.last_text&&"if"!==K||"TK_END_EXPR"===X&&(et.mode===mt.ForInitializer||et.mode===mt.Conditional)?(u(x(K,["do","for","if","while"])),b(mt.Statement),l()&&(m(),ut=!1),!0):!1}function S(e,t){for(var n=0;e.length>n;n++){var i=s(e[n]);if(i.charAt(0)!==t)return!1}return!0}function D(e){return x(e,["case","return","do","if","throw","else"])}function x(e,t){for(var n=0;t.length>n;n+=1)if(t[n]===e)return!0;return!1}function T(e){for(var t,n=!1,i="",r=0,o="",s=0;n||e.length>r;)if(t=e.charAt(r),r++,n){if(n=!1,"x"===t)o=e.substr(r,2),r+=2;else{if("u"!==t){i+="\\"+t;continue}o=e.substr(r,4),r+=4}if(!o.match(/^[0123456789abcdefABCDEF]+$/))return e;if(s=parseInt(o,16),s>=0&&32>s){i+="x"===t?"\\x"+o:"\\u"+o;continue}if(34===s||39===s||92===s)i+="\\"+String.fromCharCode(s);else{if("x"===t&&s>126&&255>=s)return e;i+=String.fromCharCode(s)}}else"\\"===t?n=!0:i+=t;return i}function k(e){for(var t=ot,n=q.charAt(t);x(n,nt)&&n!==e;){if(t++,t>=ht)return!1;n=q.charAt(t)}return n===e}function F(){var e;if(pt=0,ot>=ht)return["","TK_EOF"];ct=!1,ft=[];var t=q.charAt(ot);for(ot+=1;x(t,nt);){if("\n"===t?(pt+=1,ft=[]):pt&&(t===J?ft.push(J):"\r"!==t&&ft.push(" ")),ot>=ht)return["","TK_EOF"];t=q.charAt(ot),ot+=1}if(x(t,it)){if(ht>ot)for(;x(q.charAt(ot),it)&&(t+=q.charAt(ot),ot+=1,ot!==ht););if(ot!==ht&&t.match(/^[0-9]+[Ee]$/)&&("-"===q.charAt(ot)||"+"===q.charAt(ot))){var n=q.charAt(ot);ot+=1;var i=F();return t+=n+i[0],[t,"TK_WORD"]}return"in"===t?[t,"TK_OPERATOR"]:[t,"TK_WORD"]}if("("===t||"["===t)return[t,"TK_START_EXPR"];if(")"===t||"]"===t)return[t,"TK_END_EXPR"];if("{"===t)return[t,"TK_START_BLOCK"];if("}"===t)return[t,"TK_END_BLOCK"];if(";"===t)return[t,"TK_SEMICOLON"];if("/"===t){var r="",o=!0;if("*"===q.charAt(ot)){if(ot+=1,ht>ot)for(;ht>ot&&("*"!==q.charAt(ot)||!q.charAt(ot+1)||"/"!==q.charAt(ot+1))&&(t=q.charAt(ot),r+=t,("\n"===t||"\r"===t)&&(o=!1),ot+=1,!(ot>=ht)););return ot+=2,o&&0===pt?["/*"+r+"*/","TK_INLINE_COMMENT"]:["/*"+r+"*/","TK_BLOCK_COMMENT"]}if("/"===q.charAt(ot)){for(r=t;"\r"!==q.charAt(ot)&&"\n"!==q.charAt(ot)&&(r+=q.charAt(ot),ot+=1,!(ot>=ht)););return[r,"TK_COMMENT"]}}if("'"===t||'"'===t||("/"===t||vt.e4x&&"<"===t&&q.slice(ot-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*\/?\s*>/))&&("TK_WORD"===X&&D(Z.last_text)||"TK_END_EXPR"===X&&x(et.mode,[mt.Conditional,mt.ForInitializer])||x(X,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var a=t,l=!1,c=!1;if(e=t,ht>ot)if("/"===a){for(var u=!1;l||u||q.charAt(ot)!==a;)if(e+=q.charAt(ot),l?l=!1:(l="\\"===q.charAt(ot),"["===q.charAt(ot)?u=!0:"]"===q.charAt(ot)&&(u=!1)),ot+=1,ot>=ht)return[e,"TK_STRING"]}else if(vt.e4x&&"<"===a){var d=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*(\/?)\s*>/g,h=q.slice(ot-1),p=d.exec(h);if(p&&0===p.index){for(var f=p[2],g=0;p;){var m=!!p[1],v=p[2],y=!!p[p.length-1]||"![CDATA["===v.slice(0,8);if(v!==f||y||(m?--g:++g),0>=g)break;p=d.exec(h)}var b=p?p.index+p[0].length:h.length;return ot+=b-1,[h.slice(0,b),"TK_STRING"]}}else for(;l||q.charAt(ot)!==a;)if(e+=q.charAt(ot),l?(("x"===q.charAt(ot)||"u"===q.charAt(ot))&&(c=!0),l=!1):l="\\"===q.charAt(ot),ot+=1,ot>=ht)return[e,"TK_STRING"];if(ot+=1,e+=a,c&&vt.unescape_strings&&(e=T(e)),"/"===a)for(;ht>ot&&x(q.charAt(ot),it);)e+=q.charAt(ot),ot+=1;return[e,"TK_STRING"]}if("#"===t){if(1===G.length&&0===G[0].text.length&&"!"===q.charAt(ot)){for(e=t;ht>ot&&"\n"!==t;)t=q.charAt(ot),e+=t,ot+=1;return[s(e)+"\n","TK_UNKNOWN"]}var E="#";if(ht>ot&&x(q.charAt(ot),at)){do t=q.charAt(ot),E+=t,ot+=1;while(ht>ot&&"#"!==t&&"="!==t);return"#"===t||("["===q.charAt(ot)&&"]"===q.charAt(ot+1)?(E+="[]",ot+=2):"{"===q.charAt(ot)&&"}"===q.charAt(ot+1)&&(E+="{}",ot+=2)),[E,"TK_WORD"]}}if("<"===t&&"<!--"===q.substring(ot-1,ot+3)){for(ot+=3,t="<!--";"\n"!==q.charAt(ot)&&ht>ot;)t+=q.charAt(ot),ot++;return Z.in_html_comment=!0,[t,"TK_COMMENT"]}if("-"===t&&Z.in_html_comment&&"-->"===q.substring(ot-1,ot+2))return Z.in_html_comment=!1,ot+=2,["-->","TK_COMMENT"];if("."===t)return[t,"TK_DOT"];if(x(t,rt)){for(;ht>ot&&x(t+q.charAt(ot),rt)&&(t+=q.charAt(ot),ot+=1,!(ot>=ht)););return","===t?[t,"TK_COMMA"]:"="===t?[t,"TK_EQUALS"]:[t,"TK_OPERATOR"]}return[t,"TK_UNKNOWN"]}function N(){A();var e=mt.Expression;if("["===K){if("TK_WORD"===X||")"===Z.last_text)return x(Z.last_text,st)&&(dt=!0),b(e),g(),m(),vt.space_in_paren&&(dt=!0),void 0;e=mt.ArrayLiteral,E(Z.mode)&&("["===Z.last_text||","===Z.last_text&&("]"===Q||"}"===Q))&&(vt.keep_array_indentation||d())}else"for"===Z.last_text?e=mt.ForInitializer:x(Z.last_text,["if","while"])&&(e=mt.Conditional);";"===Z.last_text||"TK_START_BLOCK"===X?d():"TK_END_EXPR"===X||"TK_START_EXPR"===X||"TK_END_BLOCK"===X||"."===Z.last_text?(u(ct),ut=!1):"TK_WORD"!==X&&"TK_OPERATOR"!==X?dt=!0:"function"===Z.last_word||"typeof"===Z.last_word?vt.jslint_happy&&(dt=!0):(x(Z.last_text,st)||"catch"===Z.last_text)&&vt.space_before_conditional&&(dt=!0),"("===K&&("TK_EQUALS"===X||"TK_OPERATOR"===X)&&(w()||u()),b(e),g(),vt.space_in_paren&&(dt=!0),m()}function M(){for(;Z.mode===mt.Statement;)_();"]"===K&&E(Z.mode)&&Z.multiline_frame&&!vt.keep_array_indentation&&d(),Z.multiline_frame&&u(),vt.space_in_paren&&("TK_START_EXPR"===X?(r(),dt=!1):dt=!0),"]"===K&&vt.keep_array_indentation?(g(),_()):(_(),g()),y(et),Z.do_while&&et.mode===mt.Conditional&&(et.mode=mt.Expression,Z.do_block=!1,Z.do_while=!1)}function R(){b(mt.BlockStatement);var e=k("}"),t=e&&"function"===Z.last_word&&"TK_END_EXPR"===X;"expand"===vt.brace_style?"TK_OPERATOR"!==X&&(t||"TK_EQUALS"===X||D(Z.last_text)&&"else"!==Z.last_text)?dt=!0:d():"TK_OPERATOR"!==X&&"TK_START_EXPR"!==X?"TK_START_BLOCK"===X?d():dt=!0:E(et.mode)&&","===Z.last_text&&("}"===Q?dt=!0:d()),g(),m()}function L(){for(;Z.mode===mt.Statement;)_();var e="TK_START_BLOCK"===X;"expand"===vt.brace_style?e||d():e||(E(Z.mode)&&vt.keep_array_indentation?(vt.keep_array_indentation=!1,d(),vt.keep_array_indentation=!0):d()),_(),g()}function I(){if(A()||!ct||C(Z.mode)||"TK_OPERATOR"===X&&"--"!==Z.last_text&&"++"!==Z.last_text||"TK_EQUALS"===X||!vt.preserve_newlines&&"var"===Z.last_text||d(),Z.do_block&&!Z.do_while){if("while"===K)return dt=!0,g(),dt=!0,Z.do_while=!0,void 0;d(),Z.do_block=!1}if(Z.if_block&&"else"!==K){for(;Z.mode===mt.Statement;)_();Z.if_block=!1}if("case"===K||"default"===K&&Z.in_case_statement)return d(),(Z.case_body||vt.jslint_happy)&&(v(),Z.case_body=!1),g(),Z.in_case=!0,Z.in_case_statement=!0,void 0;if("function"===K&&(Z.var_line&&"TK_EQUALS"!==X&&(Z.var_line_reindented=!0),(x(Z.last_text,["}",";"])||l()&&!x(Z.last_text,["{",":","=",","]))&&(c()||Z.had_comment||(d(),d(!0))),"TK_WORD"===X?"get"===Z.last_text||"set"===Z.last_text||"new"===Z.last_text||"return"===Z.last_text?dt=!0:d():"TK_OPERATOR"===X||"="===Z.last_text?dt=!0:C(Z.mode)||d()),("TK_COMMA"===X||"TK_START_EXPR"===X||"TK_EQUALS"===X||"TK_OPERATOR"===X)&&(w()||u()),"function"===K)return g(),Z.last_word=K,void 0;if(lt="NONE","TK_END_BLOCK"===X?x(K,["else","catch","finally"])?"expand"===vt.brace_style||"end-expand"===vt.brace_style?lt="NEWLINE":(lt="SPACE",dt=!0):lt="NEWLINE":"TK_SEMICOLON"===X&&Z.mode===mt.BlockStatement?lt="NEWLINE":"TK_SEMICOLON"===X&&C(Z.mode)?lt="SPACE":"TK_STRING"===X?lt="NEWLINE":"TK_WORD"===X?lt="SPACE":"TK_START_BLOCK"===X?lt="NEWLINE":"TK_END_EXPR"===X&&(dt=!0,lt="NEWLINE"),x(K,st)&&")"!==Z.last_text&&(lt="else"===Z.last_text?"SPACE":"NEWLINE"),x(K,["else","catch","finally"]))if("TK_END_BLOCK"!==X||"expand"===vt.brace_style||"end-expand"===vt.brace_style)d();else{r(!0);var e=G[G.length-1];"}"!==e.text[e.text.length-1]&&d(),dt=!0}else"NEWLINE"===lt?D(Z.last_text)?dt=!0:"TK_END_EXPR"!==X?"TK_START_EXPR"===X&&"var"===K||":"===Z.last_text||("if"===K&&"else"===Z.last_word&&"{"!==Z.last_text?dt=!0:(Z.var_line=!1,Z.var_line_reindented=!1,d())):x(K,st)&&")"!==Z.last_text&&(Z.var_line=!1,Z.var_line_reindented=!1,d()):E(Z.mode)&&","===Z.last_text&&"}"===Q?d():"SPACE"===lt&&(dt=!0);g(),Z.last_word=K,"var"===K&&(Z.var_line=!0,Z.var_line_reindented=!1,Z.var_line_tainted=!1),"do"===K&&(Z.do_block=!0),"if"===K&&(Z.if_block=!0)}function O(){for(A()&&(dt=!1);Z.mode===mt.Statement&&!Z.if_block&&!Z.do_block;)_();g(),Z.var_line=!1,Z.var_line_reindented=!1,Z.mode===mt.ObjectLiteral&&(Z.mode=mt.BlockStatement)}function B(){A()?dt=!0:"TK_WORD"===X?dt=!0:"TK_COMMA"===X||"TK_START_EXPR"===X||"TK_EQUALS"===X||"TK_OPERATOR"===X?w()||u():d(),g()}function P(){Z.var_line&&(Z.var_line_tainted=!0),dt=!0,g(),dt=!0}function $(){return Z.var_line?((C(Z.mode)||"TK_END_BLOCK"===X)&&(Z.var_line_tainted=!1),Z.var_line&&(Z.var_line_reindented=!0),g(),Z.var_line_tainted?(Z.var_line_tainted=!1,d()):dt=!0,void 0):("TK_END_BLOCK"===X&&Z.mode!==mt.Expression?(g(),Z.mode===mt.ObjectLiteral&&"}"===Z.last_text?d():dt=!0):Z.mode===mt.ObjectLiteral?(g(),d()):(g(),dt=!0),void 0)}function U(){var e=!0,t=!0;return D(Z.last_text)?(dt=!0,g(),void 0):"*"!==K||"TK_DOT"!==X||Q.match(/^\d+$/)?":"===K&&Z.in_case?(Z.case_body=!0,m(),g(),d(),Z.in_case=!1,void 0):"::"===K?(g(),void 0):(!ct||"--"!==K&&"++"!==K||d(),x(K,["--","++","!"])||x(K,["-","+"])&&(x(X,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||x(Z.last_text,st)||","===Z.last_text)?(e=!1,t=!1,";"===Z.last_text&&C(Z.mode)&&(e=!0),"TK_WORD"===X&&x(Z.last_text,st)&&(e=!0),Z.mode!==mt.BlockStatement&&Z.mode!==mt.Statement||"{"!==Z.last_text&&";"!==Z.last_text||d()):":"===K?0===Z.ternary_depth?(Z.mode===mt.BlockStatement&&(Z.mode=mt.ObjectLiteral),e=!1):Z.ternary_depth-=1:"?"===K&&(Z.ternary_depth+=1),dt=dt||e,g(),dt=t,void 0):(g(),void 0)}function V(){var e,t=a(K),n=!1;for(d(!1,!0),t.length>1&&S(t.slice(1),"*")&&(n=!0),g(t[0]),e=1;t.length>e;e++)d(!1,!0),n?g(" "+s(t[e])):G[G.length-1].text.push(t[e]);d(!1,!0)}function j(){dt=!0,g(),dt=!0}function H(){ct?d(!1,!0):r(!0),dt=!0,g(),d(!1,!0)}function W(){D(Z.last_text)?dt=!0:u(")"===Z.last_text&&vt.break_chained_methods),g()}function z(){g(),"\n"===K[K.length-1]&&d()}var q,G,K,Y,X,Q,J,Z,et,tt,nt,it,rt,ot,st,at,lt,ct,ut,dt,ht,pt,ft,gt,mt,vt,yt="";for(nt="\n\r	 ".split(""),it="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split(""),at="0123456789".split(""),rt="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::",rt+=" <%= <% %> <?= <? ?>",rt=rt.split(" "),st="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(","),mt={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},gt={TK_START_EXPR:N,TK_END_EXPR:M,TK_START_BLOCK:R,TK_END_BLOCK:L,TK_WORD:I,TK_SEMICOLON:O,TK_STRING:B,TK_EQUALS:P,TK_OPERATOR:U,TK_COMMA:$,TK_BLOCK_COMMENT:V,TK_INLINE_COMMENT:j,TK_COMMENT:H,TK_DOT:W,TK_UNKNOWN:z},t=t?t:{},vt={},void 0!==t.space_after_anon_function&&void 0===t.jslint_happy&&(t.jslint_happy=t.space_after_anon_function),void 0!==t.braces_on_own_line&&(vt.brace_style=t.braces_on_own_line?"expand":"collapse"),vt.brace_style=t.brace_style?t.brace_style:vt.brace_style?vt.brace_style:"collapse","expand-strict"===vt.brace_style&&(vt.brace_style="expand"),vt.indent_size=t.indent_size?parseInt(t.indent_size,10):4,vt.indent_char=t.indent_char?t.indent_char:" ",vt.preserve_newlines=void 0===t.preserve_newlines?!0:t.preserve_newlines,vt.break_chained_methods=void 0===t.break_chained_methods?!1:t.break_chained_methods,vt.max_preserve_newlines=void 0===t.max_preserve_newlines?0:parseInt(t.max_preserve_newlines,10),vt.space_in_paren=void 0===t.space_in_paren?!1:t.space_in_paren,vt.jslint_happy=void 0===t.jslint_happy?!1:t.jslint_happy,vt.keep_array_indentation=void 0===t.keep_array_indentation?!1:t.keep_array_indentation,vt.space_before_conditional=void 0===t.space_before_conditional?!0:t.space_before_conditional,vt.unescape_strings=void 0===t.unescape_strings?!1:t.unescape_strings,vt.wrap_line_length=void 0===t.wrap_line_length?0:parseInt(t.wrap_line_length,10),vt.e4x=void 0===t.e4x?!1:t.e4x,t.indent_with_tabs&&(vt.indent_char="	",vt.indent_size=1),J="";vt.indent_size>0;)J+=vt.indent_char,vt.indent_size-=1;for(;e&&(" "===e.charAt(0)||"	"===e.charAt(0));)yt+=e.charAt(0),e=e.substring(1);q=e,ht=e.length,X="TK_START_BLOCK",Q="",G=[i()],ut=!1,dt=!1,ft=[],tt=[],b(mt.BlockStatement),ot=0,this.beautify=function(){for(var e,t,n,i;;){if(e=F(),K=e[0],Y=e[1],"TK_EOF"===Y)break;if(n=vt.keep_array_indentation&&E(Z.mode),ct=pt>0,n)for(t=0;pt>t;t+=1)d(t>0);else if(vt.max_preserve_newlines&&pt>vt.max_preserve_newlines&&(pt=vt.max_preserve_newlines),vt.preserve_newlines&&pt>1)for(d(),t=1;pt>t;t+=1)d(!0);gt[Y](),"TK_INLINE_COMMENT"!==Y&&"TK_COMMENT"!==Y&&"TK_BLOCK_COMMENT"!==Y&&"TK_UNKNOWN"!==Y&&(Q=Z.last_text,X=Y,Z.last_text=K),Z.had_comment="TK_INLINE_COMMENT"===Y||"TK_COMMENT"===Y||"TK_BLOCK_COMMENT"===Y}i=G[0].text.join("");for(var r=1;G.length>r;r++)i+="\n"+G[r].text.join("");return i=i.replace(/[\r\n ]+$/,"")}}"function"==typeof define&&define.amd?define("plugins/beautify",[],function(){return e}):"undefined"!=typeof exports?exports.js_beautify=e:"undefined"!=typeof window?window.js_beautify=e:"undefined"!=typeof global&&(global.js_beautify=e)}(),define("addons/components/react-components.react",["app","api","react","addons/fauxton/components","ace/ace","plugins/beautify"],function(e,t,n,i,r,o){var s=n.addons.CSSTransitionGroup,a=n.createClass({displayName:"ToggleHeaderButton",render:function(){var e="icon "+this.props.fonticon+" "+this.props.innerClasses,t="button "+this.props.containerClasses;return this.props.setEnabledClass&&(t+=" js-headerbar-togglebutton-selected"),n.createElement("button",{title:this.props.title,disabled:this.props.disabled,onClick:this.props.toggleCallback,className:t},n.createElement("i",{className:e}),n.createElement("span",null,this.props.text))}}),l=n.createClass({displayName:"StyledSelect",render:function(){return n.createElement("div",{className:"styled-select"},n.createElement("label",{htmlFor:this.props.selectId},n.createElement("i",{className:"fonticon-down-dir"}),n.createElement("select",{value:this.props.selectValue,id:this.props.selectId,className:this.props.selectValue,onChange:this.props.selectChange},this.props.selectContent)))
}}),c=n.createClass({displayName:"CodeEditorPanel",getDefaultProps:function(){return{id:"code-editor",defaultCode:"",title:"",docLink:"",allowZenMode:!0,blur:function(){}}},getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{zenModeEnabled:!1,code:this.props.defaultCode}},componentWillReceiveProps:function(e){e.defaultCode!==this.props.defaultCode&&this.setState({code:e.defaultCode})},ignorableErrors:["Missing name in function declaration.","['{a}'] is better written in dot notation."],getZenModeIcon:function(){return this.props.allowZenMode?n.createElement("span",{className:"fonticon fonticon-resize-full zen-editor-icon",title:"Enter Zen mode",onClick:this.enterZenMode}):void 0},getDocIcon:function(){return this.props.docLink?n.createElement("a",{className:"help-link","data-bypass":"true",href:this.props.docLink,target:"_blank"},n.createElement("i",{className:"icon-question-sign"})):void 0},getZenModeOverlay:function(){return this.state.zenModeEnabled?n.createElement(d,{defaultCode:this.state.code,mode:this.props.mode,ignorableErrors:this.ignorableErrors,onExit:this.exitZenMode}):void 0},enterZenMode:function(){this.setState({zenModeEnabled:!0,code:this.refs.codeEditor.getValue()})},exitZenMode:function(e){this.setState({zenModeEnabled:!1,code:e})},getEditor:function(){return this.refs.codeEditor},getValue:function(){return this.getEditor().getValue()},beautify:function(e){this.setState({code:e})},render:function(){return n.createElement("div",{className:"control-group"},n.createElement("label",null,n.createElement("strong",null,this.props.title+" "),this.getDocIcon(),this.getZenModeIcon()),n.createElement(u,{id:this.props.id,ref:"codeEditor",mode:"javascript",defaultCode:this.state.code,showGutter:!0,ignorableErrors:this.ignorableErrors,setHeightToLineCount:!0,blur:this.props.blur}),n.createElement(h,{code:this.state.code,beautifiedCode:this.beautify}),this.getZenModeOverlay())}}),u=n.createClass({displayName:"CodeEditor",getDefaultProps:function(){return{id:"code-editor",mode:"javascript",theme:"idle_fingers",fontSize:13,defaultCode:"",showGutter:!0,highlightActiveLine:!0,showPrintMargin:!1,autoScrollEditorIntoView:!0,autoFocus:!1,setHeightToLineCount:!1,maxLines:10,editorCommands:[],notifyUnsavedChanges:!1,ignorableErrors:[],change:function(){},blur:function(){}}},getInitialState:function(){return{originalCode:this.props.defaultCode}},hasChanged:function(){return!_.isEqual(this.state.originalCode,this.getValue())},clearChanges:function(){this.setState({originalCode:this.getValue()})},setupAce:function(e,t){this.editor=r.edit(this.refs.ace.getDOMNode()),this.editor.$blockScrolling=1/0,t&&this.setEditorValue(e.defaultCode),this.editor.setShowPrintMargin(e.showPrintMargin),this.editor.autoScrollEditorIntoView=e.autoScrollEditorIntoView,this.editor.setOption("highlightActiveLine",this.props.highlightActiveLine),this.props.setHeightToLineCount&&this.setHeightToLineCount(),this.props.ignorableErrors&&this.removeIgnorableAnnotations(),this.addCommands(),this.editor.getSession().setMode("ace/mode/"+e.mode),this.editor.setTheme("ace/theme/"+e.theme),this.editor.setFontSize(e.fontSize),this.editor.getSession().setUseSoftTabs(!0),this.props.autoFocus&&this.editor.focus()},addCommands:function(){_.each(this.props.editorCommands,function(e){this.editor.commands.addCommand(e)},this)},setupEvents:function(){this.editor.on("blur",_.bind(this.onBlur,this)),this.editor.on("change",_.bind(this.onContentChange,this)),this.props.notifyUnsavedChanges&&($(window).on("beforeunload.editor_"+this.props.id,_.bind(this.quitWarningMsg)),t.beforeUnload("editor_"+this.props.id,_.bind(this.quitWarningMsg,this)))},onBlur:function(){this.props.blur(this.getValue())},onContentChange:function(){this.props.setHeightToLineCount&&this.setHeightToLineCount(),this.props.change(this.getValue())},quitWarningMsg:function(){return this.hasChanged()?"Your changes have not been saved. Click cancel to return to the document.":void 0},removeEvents:function(){this.props.notifyUnsavedChanges&&($(window).off("beforeunload.editor_"+this.props.id),t.removeBeforeUnload("editor_"+this.props.id))},setHeightToLineCount:function(){var e=this.editor.getSession().getDocument().getLength(),t=e>this.props.maxLines?this.props.maxLines:e;this.editor.setOptions({maxLines:t})},componentDidMount:function(){this.setupAce(this.props,!0),this.setupEvents()},componentWillUnmount:function(){this.removeEvents(),this.editor.destroy()},componentWillReceiveProps:function(e){var t=!_.isEqual(e.defaultCode,this.getValue());this.setupAce(e,t)},getAnnotations:function(){return this.editor.getSession().getAnnotations()},isIgnorableError:function(e){return _.contains(this.props.ignorableErrors,e)},removeIgnorableAnnotations:function(){var e=this.isIgnorableError;this.editor.getSession().on("changeAnnotation",function(){var t=this.editor.getSession().getAnnotations(),n=_.reduce(t,function(t,n){return e(n.raw)||t.push(n),t},[]);t.length!==n.length&&this.editor.getSession().setAnnotations(n)}.bind(this))},hadValidCode:function(){var e=this.getAnnotations();return _.every(e,function(e){return this.isIgnorableError(e.raw)},this)},setEditorValue:function(e,t){t=t?t:-1,this.editor.setValue(e,t)},getValue:function(){return this.editor.getValue()},getEditor:function(){return this},render:function(){return n.createElement("div",{ref:"ace",className:"js-editor",id:this.props.id})}}),d=n.createClass({displayName:"ZenModeOverlay",getDefaultProps:function(){return{mode:"javascript",defaultCode:"",ignorableErrors:[],onExit:null,highlightActiveLine:!1}},themes:{dark:"idle_fingers",light:"dawn"},getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{theme:this.getZenTheme(),code:this.props.defaultCode}},getZenTheme:function(){var t=e.utils.localStorageGet("zenTheme");return _.isUndefined(t)?"dark":t},onChange:function(){this.setState(this.getStoreState())},componentDidMount:function(){$(this.refs.exit.getDOMNode()).tooltip({placement:"left"}),$(this.refs.theme.getDOMNode()).tooltip({placement:"left"})},exitZenMode:function(){this.props.onExit(this.getValue())},getValue:function(){return this.refs.ace.getValue()},toggleTheme:function(){var t="dark"===this.state.theme?"light":"dark";this.setState({theme:t,code:this.getValue()}),e.utils.localStorageSet("zenTheme",t)},setEditorValue:function(e,t){t=t?t:-1,this.editor.setValue(e,t)},render:function(){var e="full-page-editor-modal-wrapper zen-theme-"+this.state.theme,t=[{name:"close",bindKey:{win:"ESC",mac:"ESC"},exec:this.exitZenMode}];return n.createElement("div",{className:e},n.createElement("div",{className:"zen-mode-controls"},n.createElement("ul",null,n.createElement("li",null,n.createElement("span",{ref:"exit",className:"fonticon fonticon-resize-small js-exit-zen-mode","data-toggle":"tooltip","data-container":".zen-mode-controls .tooltips",title:"Exit zen mode (`esc`)",onClick:this.exitZenMode})),n.createElement("li",null,n.createElement("span",{ref:"theme",className:"fonticon fonticon-picture js-toggle-theme","data-toggle":"tooltip","data-container":".zen-mode-controls .tooltips",title:"Switch zen theme",onClick:this.toggleTheme}))),n.createElement("div",{className:"tooltips"})),n.createElement(u,{ref:"ace",autoFocus:!0,theme:this.themes[this.state.theme],defaultCode:this.props.defaultCode,editorCommands:t,ignorableErrors:this.props.ignorableErrors,highlightActiveLine:this.props.highlightActiveLine}))}}),h=n.createClass({displayName:"Beautify",noOfLines:function(){return this.props.code.split(/\r\n|\r|\n/).length},canBeautify:function(){return 1===this.noOfLines()},addTooltip:function(){this.canBeautify&&$(".beautify-tooltip").tooltip({placement:"right"})},componentDidMount:function(){this.addTooltip()},beautify:function(e){e.preventDefault();var t=o(this.props.code);this.props.beautifiedCode(t),$(".beautify-tooltip").tooltip("hide")},render:function(){return this.canBeautify()?n.createElement("button",{onClick:this.beautify,className:"beautify beautify_map btn btn-primary beautify-tooltip",type:"button","data-toggle":"tooltip",title:"Reformat your minified code to make edits to it."},"beautify this code"):null}}),p=n.createClass({displayName:"PaddedBorderedBox",render:function(){return n.createElement("div",{className:"bordered-box"},n.createElement("div",{className:"padded-box"},this.props.children))}}),f=n.createClass({displayName:"Document",propTypes:{docIdentifier:n.PropTypes.string.isRequired,docChecked:n.PropTypes.func.isRequired},onChange:function(e){e.preventDefault(),this.props.docChecked(this.props.docIdentifier,this.props.doc,e)},getUrlFragment:function(){return this.props.children?n.createElement("div",{className:"doc-edit-symbol pull-right",title:"Edit document"},this.props.children):""},getExtensionIcons:function(){var e=t.getExtensions("DocList:icons");return _.map(e,function(e,t){return n.createElement(e,{doc:this.props.doc,key:t})},this)},getCheckbox:function(){return this.props.isDeletable?n.createElement("div",{className:"checkbox inline"},n.createElement("input",{id:"checkbox-"+this.props.docIdentifier,checked:this.props.checked?'checked="checked"':null,type:"checkbox",onChange:this.onChange,className:"js-row-select"}),n.createElement("label",{onClick:this.onChange,className:"label-checkbox-doclist",htmlFor:"checkbox-"+this.props.docIdentifier})):n.createElement("div",{className:"checkbox-dummy"})},onDoubleClick:function(e){this.props.onDoubleClick(this.props.docIdentifier,this.props.doc,e)},getDocContent:function(){return _.isEmpty(this.props.docContent)?void 0:n.createElement("div",{className:"doc-data"},n.createElement("pre",{className:"prettyprint"},this.props.docContent))},render:function(){return n.createElement("div",{"data-id":this.props.docIdentifier,onDoubleClick:this.onDoubleClick,className:"doc-row"},n.createElement("div",{className:"custom-inputs"},this.getCheckbox()),n.createElement("div",{className:"doc-item"},n.createElement("header",null,n.createElement("span",{className:"header-keylabel"},this.props.keylabel),n.createElement("span",{className:"header-doc-id"},this.props.header?'"'+this.props.header+'"':null),this.getUrlFragment(),n.createElement("div",{className:"doc-item-extension-icons pull-right"},this.getExtensionIcons())),this.getDocContent()),n.createElement("div",{className:"clearfix"}))}}),g=n.createClass({displayName:"LoadLines",render:function(){return n.createElement("div",{className:"loading-lines"},n.createElement("div",{id:"line1"}," "),n.createElement("div",{id:"line2"}," "),n.createElement("div",{id:"line3"}," "),n.createElement("div",{id:"line4"}," "))}}),m=n.createClass({displayName:"ConfirmButton",render:function(){return n.createElement("button",{type:"submit",className:"btn btn-success save",id:this.props.id},n.createElement("i",{className:"icon fonticon-ok-circled"}),this.props.text)}}),v=n.createClass({displayName:"MenuDropDown",getDefaultProps:function(){return{icon:"fonticon-plus-circled"}},createSectionLinks:function(e){return e?e.map(function(e,t){return n.createElement("li",{key:t},n.createElement("a",{className:e.icon?"icon "+e.icon:"","data-bypass":e.external?"true":"",href:e.url,target:e.external?"_blank":""},e.title))}):null},createSectionTitle:function(e){return e?n.createElement("li",{className:"header-label"},e):null},createSection:function(){return this.props.links.map(function(e,t){return n.createElement("ul",{className:"dropdown-menu arrow",key:t,role:"menu","aria-labelledby":"dLabel"},this.createSectionTitle(e.title),this.createSectionLinks(e.links))}.bind(this))},render:function(){return n.createElement("div",{className:"dropdown"},n.createElement("a",{className:"dropdown-toggle icon "+this.props.icon,"data-toggle":"dropdown",href:"#","data-bypass":"true"}),this.createSection())}}),y=n.createClass({displayName:"TrayLink",onClick:function(e){e.preventDefault(),this.props.toggleTray()},render:function(){return n.createElement("a",{onClick:this.onClick,id:this.props.id,"data-bypass":"true","data-toggle":"tab",className:this.props.className},n.createElement("i",{className:this.props.icon}),this.props.text)}}),b=n.createClass({displayName:"TrayContents",getChildren:function(){if(!this.props.trayVisible)return null;var e="tray show-tray "+this.props.className;return n.createElement("div",{key:1,id:this.props.id,className:e},this.props.children)},render:function(){return n.createElement(s,{transitionName:"tray",transitionAppear:!0},this.getChildren())}}),E=n.createClass({displayName:"Tray",propTypes:{id:n.PropTypes.string.isRequired},componentDidMount:function(){$("body").on("click."+this.props.id,_.bind(this.closeIfOpen,this)),t.Events.on(t.constants.EVENTS.TRAY_HIDE,this.closeIfOpen,this)},componentWillUnmount:function(){t.Events.off(t.constants.EVENTS.TRAY_HIDE),$("body").off("click."+this.props.id)},getInitialState:function(){return{trayVisible:!1}},toggleTray:function(){this.setState({trayVisible:!this.state.trayVisible})},renderChildren:function(){return n.Children.map(this.props.children,function(e,t){return n.addons.cloneWithProps(e,{trayVisible:this.state.trayVisible,toggleTray:this.toggleTray,key:t})}.bind(this))},render:function(){return n.createElement("div",null,this.renderChildren())},closeIfOpen:function(e){if(this.state.trayVisible){var t=$(this.getDOMNode());t.is(e.target)||0!==t.has(e.target).length||this.toggleTray()}}});return{ConfirmButton:m,ToggleHeaderButton:a,StyledSelect:l,CodeEditorPanel:c,CodeEditor:u,ZenModeOverlay:d,Beautify:h,PaddedBorderedBox:p,Document:f,LoadLines:g,MenuDropDown:v,Tray:E,TrayContents:b,TrayLink:y}}),define("addons/fauxton/components.react",["app","api","react","plugins/zeroclipboard/ZeroClipboard","velocity.ui"],function(e,t,n,i){var r=n.createClass({displayName:"Clipboard",propTypes:function(){return{text:n.PropTypes.string.isRequired}},componentWillMount:function(){i.config({moviePath:e.zeroClipboardPath})},componentDidMount:function(){var e=this.getDOMNode();this.clipboard=new i(e)},render:function(){return n.createElement("a",{href:"#",ref:"copy","data-clipboard-text":this.props.text,"data-bypass":"true",title:"Copy to clipboard"},n.createElement("i",{className:"fonticon-clipboard"}))}}),o=n.createClass({displayName:"ClipboardWithTextField",componentWillMount:function(){i.config({moviePath:e.zeroClipboardPath})},componentDidUpdate:function(){this.clipboard=new i(document.getElementById("copy-text-"+this.props.uniqueKey))},render:function(){return n.createElement("p",{key:this.props.uniqueKey},n.createElement("input",{type:"text",className:"input-xxlarge text-field-to-copy",readOnly:!0,value:this.props.textToCopy}),n.createElement("a",{id:"copy-text-"+this.props.uniqueKey,className:"fonticon-clipboard icon btn copy-button","data-clipboard-text":this.props.textToCopy,"data-bypass":"true",title:"Copy to clipboard"},"Copy"))}}),s=n.createClass({displayName:"CodeFormat",getDefaultProps:function(){return{lang:"js"}},getClasses:function(){var e={js:"lang-js"},t="prettyprint";return _.has(e,this.props.lang)&&(t+=" "+e[this.props.lang]),t},componentDidMount:function(){prettyPrint()},render:function(){var e=JSON.stringify(this.props.code,null," ");return n.createElement("div",null,n.createElement("pre",{className:this.getClasses()},e))}}),a=0,l=n.createClass({displayName:"Tray",propTypes:{onAutoHide:n.PropTypes.func},getDefaultProps:function(){return{onAutoHide:function(){}}},getInitialState:function(){return{show:!1,internalid:a++}},toggle:function(e){this.state.show?this.hide(e):this.show(e)},setVisible:function(e,t){this.state.show&&!e?this.hide(t):!this.state.show&&e&&this.show(t)},componentDidMount:function(){$("body").on("click.Tray-"+this.state.internalid,function(e){var t=$(e.target);this.state.show&&0===t.closest(".tray").length&&(this.hide(),this.props.onAutoHide())}.bind(this))},componentWillUnmount:function(){$("body").off("click.Tray-"+this.state.internalid)},show:function(e){this.setState({show:!0}),$(this.refs.myself.getDOMNode()).velocity("transition.slideDownIn",t.constants.MISC.TRAY_TOGGLE_SPEED,function(){e&&e(!0)})},hide:function(e){$(this.refs.myself.getDOMNode()).velocity("reverse",t.constants.MISC.TRAY_TOGGLE_SPEED,function(){this.setState({show:!1}),e&&e(!1)}.bind(this))},render:function(){var e=this.state.show?{display:"block",opacity:1}:{display:"none",opacity:0},t=this.props.className||"";return t+=" tray",n.createElement("div",{ref:"myself",style:e,className:t},this.props.children)}}),c=n.createClass({displayName:"Pagination",getInitialState:function(){return{}},getDefaultProps:function(){return{perPage:t.constants.MISC.DEFAULT_PAGE_SIZE,page:1,total:0}},getVisiblePages:function(e,t){var n,i;return 10>t?(n=1,i=t+1):(n=e-5,i=e+5,1>=n&&(n=1,i=11),i>t+1&&(n=t-9,i=t+1)),{from:n,to:i}},createItemsForPage:function(e,t,i,r){return _.range(e.from,e.to).map(function(e){return n.createElement("li",{key:e,className:t===e?"active":null},n.createElement("a",{href:i+e+r},e))})},render:function(){var e=this.state.page||this.props.page,t=this.state.total||this.props.total,i=this.props.perPage,r=this.props.urlPrefix||"",o=this.props.urlSuffix||"",s=0===t?1:Math.ceil(t/i),a=this.getVisiblePages(e,s),l=this.createItemsForPage(a,e,r,o);return n.createElement("ul",{className:"pagination"},n.createElement("li",{className:1===e?"disabled":null},n.createElement("a",{href:r+Math.max(e-1,1)+o},"")),l,n.createElement("li",{className:s>e?null:"disabled"},n.createElement("a",{href:r+Math.min(e+1,s)+o},"")))}});return{Clipboard:r,ClipboardWithTextField:o,CodeFormat:s,Tray:l,Pagination:c}}),define("addons/databases/components.react",["app","api","react","addons/components/react-components.react","addons/fauxton/components.react","addons/databases/stores","addons/databases/resources","addons/databases/actions","helpers"],function(e,t,n,i,r,o,s,a,l){var c=o.databasesStore,u=n.createClass({displayName:"DatabasesController",getStoreState:function(){return{collection:c.getCollection(),loading:c.isLoading()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){c.on("change",this.onChange,this)},componentWillUnmount:function(){c.off("change",this.onChange,this)},onChange:function(){this.setState(this.getStoreState())},render:function(){var e=this.state.collection,t=this.state.loading;return n.createElement(d,{body:e,loading:t})}}),d=n.createClass({displayName:"DatabaseTable",createRows:function(){return _.map(this.props.body,function(e,t){return n.createElement(h,{row:e,key:t})})},getExtensionColumns:function(){var e=t.getExtensions("DatabaseTable:head");return _.map(e,function(e,t){return n.createElement(e,{key:t})})},render:function(){if(this.props.loading)return n.createElement("div",{className:"view"},n.createElement(i.LoadLines,null));var e=this.createRows();return n.createElement("div",{className:"view"},n.createElement("table",{className:"databases table table-striped"},n.createElement("thead",null,n.createElement("th",null,"Name"),n.createElement("th",null,"Size"),n.createElement("th",null,"# of Docs"),n.createElement("th",null,"Update Seq"),this.getExtensionColumns(),n.createElement("th",null,"Actions")),n.createElement("tbody",null,e)))}}),h=n.createClass({displayName:"DatabaseRow",renderGraveyard:function(e){return e.status.isGraveYard()?n.createElement(p,{row:e}):null},getExtensionColumns:function(e){var i=t.getExtensions("DatabaseTable:databaseRow");return _.map(i,function(t,i){return n.createElement(t,{row:e,key:i})})},render:function(){var t=this.props.row,i=t.get("name"),r=e.utils.safeURLName(i),o=l.formatSize(t.status.dataSize());return n.createElement("tr",null,n.createElement("td",null,n.createElement("a",{href:"#/database/"+r+"/_all_docs"},i)),n.createElement("td",null,o),n.createElement("td",null,t.status.numDocs()," ",this.renderGraveyard(t)),n.createElement("td",null,t.status.updateSeq()),this.getExtensionColumns(t),n.createElement("td",null,n.createElement("a",{className:"db-actions btn fonticon-replicate set-replication-start",title:"Replicate "+i,href:"#/replication/"+r}),"",n.createElement("a",{className:"db-actions btn icon-lock set-permissions",title:"Set permissions for "+i,href:"#/database/"+r+"/permissions"})))}}),p=n.createClass({displayName:"GraveyardInfo",componentDidMount:function(){$(this.refs.myself.getDOMNode()).tooltip()},render:function(){var e=this.props.row,t="This database has just "+e.status.numDocs()+" docs and "+e.status.numDeletedDocs()+" deleted docs";return n.createElement("i",{className:"js-db-graveyard icon icon-exclamation-sign",ref:"myself",title:t})}}),f=n.createClass({displayName:"RightDatabasesHeader",render:function(){return n.createElement("div",{className:"header-right"},n.createElement(g,null),n.createElement(m,null))}}),g=n.createClass({displayName:"AddDatabaseWidget",onTrayToggle:function(e){e.preventDefault(),this.refs.newDbTray.toggle(function(e){e&&this.refs.newDbName.getDOMNode().focus()}.bind(this))},onKeyUpInInput:function(e){13===e.which&&this.onAddDatabase()},componentDidMount:function(){c.on("change",this.onChange,this)},componentWillUnmount:function(){c.off("change",this.onChange,this)},onChange:function(){this.isMounted()&&this.refs.newDbTray.setVisible(c.isPromptVisible())},onAddDatabase:function(){var e=this.refs.newDbName.getDOMNode().value;a.createNewDatabase(e)},render:function(){return n.createElement("div",{className:"button",id:"add-db-button"},n.createElement("a",{id:"add-new-database",href:"#",className:"add-new-database-btn",onClick:this.onTrayToggle,"data-bypass":"true"},n.createElement("i",{className:"header-icon fonticon-new-database"}),"Add New Database"),n.createElement(r.Tray,{ref:"newDbTray",className:"new-database-tray"},n.createElement("span",{className:"add-on"},"Add New Database"),n.createElement("input",{id:"js-new-database-name",type:"text",onKeyUp:this.onKeyUpInInput,ref:"newDbName",className:"input-xxlarge",placeholder:"Name of database"}),n.createElement("a",{className:"btn",id:"js-create-database",onClick:this.onAddDatabase},"Create")))}}),m=n.createClass({displayName:"JumpToDatabaseWidget",getStoreState:function(){return{databaseNames:c.getDatabaseNames()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){c.on("change",this.onChange,this)},componentDidUpdate:function(){$(this.refs.searchDbName.getDOMNode()).typeahead({source:this.state.databaseNames,updater:function(e){this.jumpToDb(e)}.bind(this)})},componentWillUnmount:function(){c.off("change",this.onChange,this)},onChange:function(){this.setState(this.getStoreState())},jumpToDb:function(e){e=e||this.refs.searchDbName.getDOMNode().value,a.jumpToDatabase(e)},jumpToDbHandler:function(e){e.preventDefault(),this.jumpToDb()},render:function(){return n.createElement("div",{className:"searchbox-wrapper"},n.createElement("div",{id:"header-search",className:"js-search searchbox-container"},n.createElement("form",{onSubmit:this.jumpToDbHandler,id:"jump-to-db",className:"navbar-form pull-right database-search"},n.createElement("div",{className:"input-append"},n.createElement("input",{type:"text",className:"search-autocomplete",ref:"searchDbName",name:"search-query",placeholder:"Database name",autoComplete:"off"}),n.createElement("button",{className:"btn btn-primary",type:"submit"},n.createElement("i",{className:"icon icon-search"}))))))}}),v=n.createClass({displayName:"DatabasePagination",getDefaultProps:function(){return{linkPath:"_all_dbs"}},getStoreState:function(){return{databaseNames:c.getDatabaseNames(),page:c.getPage()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){c.on("change",this.onChange,this)},componentWillUnmount:function(){c.off("change",this.onChange,this)},onChange:function(){this.setState(this.getStoreState())},render:function(){var e=this.state.page,t=this.props.total||this.state.databaseNames.length,i="#/"+this.props.linkPath+"?page=";return n.createElement("footer",{className:"all-db-footer pagination-footer"},n.createElement("div",{id:"database-pagination"},n.createElement(r.Pagination,{page:e,total:t,urlPrefix:i})))}});return{DatabasesController:u,DatabaseTable:d,DatabaseRow:h,RightDatabasesHeader:f,GraveyardInfo:p,AddDatabaseWidget:g,JumpToDatabaseWidget:m,DatabasePagination:v}}),define("addons/databases/routes",["app","api","addons/databases/resources","addons/databases/actions","addons/databases/components.react"],function(e,t,n,i,r){var o=t.RouteObject.extend({layout:"one_pane",crumbs:[{name:"Databases",link:"/_all_dbs"}],routes:{"":"allDatabases","index.html":"allDatabases","_all_dbs(:params)":"allDatabases"},roles:["fx_loggedIn"],selectedHeader:"Databases",disableLoader:!0,initialize:function(){this.databases=new n.List},allDatabases:function(){i.init(this.databases),this.setComponent("#right-header",r.RightDatabasesHeader),this.setComponent("#dashboard-content",r.DatabasesController),this.setComponent("#footer",r.DatabasePagination)},apiUrl:function(){return[this.databases.url("apiurl"),this.databases.documentation()]}});return n.RouteObjects=[o],n}),define("addons/databases/base",["app","api","addons/databases/routes"],function(e,t,n){return n.initialize=function(){t.addHeaderLink({href:"#/_all_dbs",title:"Databases",icon:"fonticon-database",className:"databases"})},n.databaseUrl=function(t){var i=_.isObject(t)?t.id:t,r=e.utils.safeURLName(i);return["/database/",r,"/_all_docs?limit="+n.DocLimit].join("")},t.registerUrls("changes",{server:function(t,n){return e.host+"/"+t+"/_changes"+n},app:function(e,t){return"/database/"+e+"/_changes"+t},apiurl:function(e,t){return window.location.origin+"/"+e+"/_changes"+t}}),t.registerUrls("allDBs",{app:function(){return"_all_dbs"}}),t.registerUrls("databaseBaseURL",{server:function(e){return window.location.origin+"/"+e},app:function(e){return"/database/"+e}}),t.registerUrls("permissions",{server:function(t){return e.host+"/"+t+"/permissions"},app:function(e){return"/database/"+e+"/permissions"},apiurl:function(e){return window.location.origin+"/_api/v2/db/"+e+"/_security"}}),n}),define("addons/documents/queryoptions/actiontypes",[],function(){return{QUERY_TOGGLE_INCLUDE_DOCS:"QUERY_TOGGLE_INCLUDE_DOCS",QUERY_TOGGLE_BY_KEYS:"QUERY_TOGGLE_BY_KEYS",QUERY_TOGGLE_BETWEEN_KEYS:"QUERY_TOGGLE_BETWEEN_KEYS",QUERY_UPDATE_BETWEEN_KEYS:"QUERY_UPDATE_BETWEEN_KEYS",QUERY_UPDATE_BY_KEYS:"QUERY_UPDATE_BY_KEYS",QUERY_TOGGLE_UPDATE_SEQ:"QUERY_TOGGLE_UPDATE_SEQ",QUERY_TOGGLE_DESCENDING:"QUERY_TOGGLE_DESCENDING",QUERY_UPDATE_SKIP:"QUERY_UPDATE_SKIP",QUERY_UPDATE_LIMIT:"QUERY_UPDATE_LIMIT",QUERY_RESET:"QUERY_RESET",QUERY_SHOW_REDUCE:"QUERY_SHOW_REDUCE",QUERY_SHOW_STALE:"QUERY_SHOW_STALE",QUERY_UPDATE_GROUP_LEVEL:"QUERY_UPDATE_GROUP_LEVEL"}}),define("addons/documents/queryoptions/stores",["app","api","addons/documents/queryoptions/actiontypes"],function(e,t,n){var i={};return i.QueryOptionsStore=t.Store.extend({initialize:function(){this.reset()},reset:function(){this._loading=!0,this._showByKeys=!1,this._showBetweenKeys=!1,this._includeDocs=!1,this._betweenKeys={include:!0},this._byKeys="",this._updateSeq=!1,this._descending=!1,this._skip="",this._limit="none",this._reduce=!1,this._groupLevel="exact",this._showReduce=!1,this._showStale=!1},isLoading:function(){return this._loading},isVisible:function(){return!0},showReduce:function(){return this._showReduce},reduce:function(){return this._reduce},showStale:function(){return this._showStale},betweenKeys:function(){return this._betweenKeys},updateBetweenKeys:function(e){this._betweenKeys=e},updateSkip:function(e){this._skip=e},skip:function(){return this._skip},limit:function(){return this._limit},updateLimit:function(e){this._limit=e},byKeys:function(){return this._byKeys},updateByKeys:function(e){this._byKeys=e},includeDocs:function(){return this._includeDocs},updateSeq:function(){return this._updateSeq},descending:function(){return this._descending},groupLevel:function(){return this._groupLevel},toggleByKeys:function(){this._showByKeys=!this._showByKeys,this._showByKeys&&(this._showBetweenKeys=!1)},toggleBetweenKeys:function(){this._showBetweenKeys=!this._showBetweenKeys,this._showBetweenKeys&&(this._showByKeys=!1)},showByKeys:function(){return this._showByKeys},showBetweenKeys:function(){return this._showBetweenKeys},updateGroupLevel:function(e){this._groupLevel=e},setQueryParams:function(e){if(this.reset(),e.include_docs&&(this._includeDocs=!0),e.start_key){var t=!0;e.inclusive_end&&(t="true"===e.inclusive_end?!0:!1),this._betweenKeys={startkey:JSON.parse(e.start_key),endkey:JSON.parse(e.end_key),include:t},this._showBetweenKeys=!0}else e.keys&&(this._byKeys=e.keys,this._showByKeys=!0);e.update_seq&&(this._updateSeq=e.update_seq),e.limit&&"none"!==e.limit&&(this._limit=e.limit),e.skip&&(this._skip=e.skip),e.descending&&(this._descending=e.descending),e.reduce&&(this._groupLevel=e.group?"exact":e.group_level,this._reduce=!0)},getQueryParams:function(){var e={};if(this._includeDocs&&(e.include_docs=this._includeDocs),this._showBetweenKeys){var t=this._betweenKeys;_.extend(e,{inclusive_end:t.include,start_key:JSON.stringify(t.startkey),end_key:JSON.stringify(t.endkey)})}else this._showByKeys&&(e.keys=this._byKeys);return this._updateSeq&&(e.update_seq=this._updateSeq),"none"!==this._limit&&(e.limit=parseInt(this._limit,10)),this._skip&&(e.skip=parseInt(this._skip,10)),this._descending&&(e.descending=this._descending),this._reduce&&(e.reduce=!0,"exact"===this._groupLevel?e.group=!0:e.group_level=this._groupLevel),e},dispatch:function(e){switch(e.type){case n.QUERY_RESET:this.setQueryParams(e.params),this.triggerChange();break;case n.QUERY_TOGGLE_INCLUDE_DOCS:this._includeDocs=!this._includeDocs,this.triggerChange();break;case n.QUERY_TOGGLE_UPDATE_SEQ:this._updateSeq=!this._updateSeq,this.triggerChange();break;case n.QUERY_TOGGLE_DESCENDING:this._descending=!this._descending,this.triggerChange();break;case n.QUERY_TOGGLE_BY_KEYS:this.toggleByKeys(),this.triggerChange();break;case n.QUERY_TOGGLE_BETWEEN_KEYS:this.toggleBetweenKeys(),this.triggerChange();break;case n.QUERY_UPDATE_BETWEEN_KEYS:this.updateBetweenKeys(e.betweenKeys),this.triggerChange();break;case n.QUERY_UPDATE_BY_KEYS:this.updateByKeys(e.byKeys),this.triggerChange();break;case n.QUERY_UPDATE_SKIP:this.updateSkip(e.skip),this.triggerChange();break;case n.QUERY_UPDATE_LIMIT:this.updateLimit(e.limit),this.triggerChange();break;case n.QUERY_SHOW_REDUCE:this._showReduce=!0,this.triggerChange();break;case n.QUERY_TOGGLE_REDUCE:this._reduce=!this._reduce,this.triggerChange();break;case n.QUERY_SHOW_STALE:this._showStale=!0,this.triggerChange();break;case n.QUERY_UPDATE_GROUP_LEVEL:this.updateGroupLevel(e.groupLevel),this.triggerChange();break;default:return}}}),i.queryOptionsStore=new i.QueryOptionsStore,i.queryOptionsStore.dispatchToken=t.dispatcher.register(i.queryOptionsStore.dispatch),i}),define("addons/documents/queryoptions/actions",["app","api","addons/documents/queryoptions/actiontypes","addons/documents/queryoptions/stores"],function(e,t,n,i){return i.queryOptionsStore,{toggleIncludeDocs:function(){t.dispatch({type:n.QUERY_TOGGLE_INCLUDE_DOCS})},toggleByKeys:function(){t.dispatch({type:n.QUERY_TOGGLE_BY_KEYS})},toggleBetweenKeys:function(){t.dispatch({type:n.QUERY_TOGGLE_BETWEEN_KEYS})},toggleUpdateSeq:function(){t.dispatch({type:n.QUERY_TOGGLE_UPDATE_SEQ})},toggleDescending:function(){t.dispatch({type:n.QUERY_TOGGLE_DESCENDING})},toggleReduce:function(){t.dispatch({type:n.QUERY_TOGGLE_REDUCE})},updateBetweenKeys:function(e){t.dispatch({type:n.QUERY_UPDATE_BETWEEN_KEYS,betweenKeys:e})},updateByKeys:function(e){t.dispatch({type:n.QUERY_UPDATE_BY_KEYS,byKeys:e})},updateSkip:function(e){t.dispatch({type:n.QUERY_UPDATE_SKIP,skip:e})},updateLimit:function(e){t.dispatch({type:n.QUERY_UPDATE_LIMIT,limit:e})},runQuery:function(n){var i=e.utils.replaceQueryParams(n);t.navigate(i)},updateGroupLevel:function(e){t.dispatch({type:n.QUERY_UPDATE_GROUP_LEVEL,groupLevel:e})},reset:function(e){t.dispatch({type:n.QUERY_RESET,params:e.queryParams}),e.showReduce&&t.dispatch({type:n.QUERY_SHOW_REDUCE}),e.showStale&&t.dispatch({type:n.QUERY_SHOW_STALE})
}}}),define("addons/documents/queryoptions/queryoptions.react",["app","api","react","addons/documents/queryoptions/stores","addons/documents/queryoptions/actions","addons/components/react-components.react"],function(e,t,n,i,r,o){var s=i.queryOptionsStore;o.LoadLines;var a=o.Tray,l=o.TrayContents,c=o.TrayLink,u=n.createClass({displayName:"MainFieldsView",toggleIncludeDocs:function(){this.props.toggleIncludeDocs()},groupLevelChange:function(e){this.props.updateGroupLevel(e.target.value)},groupLevel:function(){return this.props.reduce?n.createElement("label",{className:"drop-down inline",id:"qoGroupLevelGroup"},"Group Level",n.createElement("select",{onChange:this.groupLevelChange,id:"qoGroupLevel",value:this.props.groupLevel,name:"group_level",className:"input-small"},n.createElement("option",{value:"0"},"None"),n.createElement("option",{value:"1"},"1"),n.createElement("option",{value:"2"},"2"),n.createElement("option",{value:"3"},"3"),n.createElement("option",{value:"4"},"4"),n.createElement("option",{value:"5"},"5"),n.createElement("option",{value:"6"},"6"),n.createElement("option",{value:"7"},"7"),n.createElement("option",{value:"8"},"8"),n.createElement("option",{value:"9"},"9"),n.createElement("option",{value:"exact"},"Exact"))):null},reduce:function(){return this.props.showReduce?n.createElement("span",null,n.createElement("div",{className:"checkbox inline"},n.createElement("input",{id:"qoReduce",name:"reduce",onChange:this.props.toggleReduce,type:"checkbox",checked:this.props.reduce}),n.createElement("label",{htmlFor:"qoReduce"},"Reduce")),this.groupLevel()):null},render:function(){var e=this.props.includeDocs;return n.createElement("div",{className:"query-group",id:"query-options-main-fields"},n.createElement("span",{className:"add-on"},"Query Options",n.createElement("a",{className:"help-link",href:t.constants.DOC_URLS.GENERAL,target:"_blank","data-bypass":"true"},n.createElement("i",{className:"icon-question-sign"}))),n.createElement("div",{className:"controls-group qo-main-fields-row"},n.createElement("div",{className:"row-fluid fieldsets"},n.createElement("div",{className:"checkbox inline"},n.createElement("input",{disabled:this.props.reduce,onChange:this.toggleIncludeDocs,className:"boom",id:"qoIncludeDocs",name:"include_docs",type:"checkbox",checked:e}),n.createElement("label",{className:this.props.reduce?"disabled":"",htmlFor:"qoIncludeDocs",id:"qoIncludeDocsLabel"},"Include Docs")),this.reduce())))}}),d=n.createClass({displayName:"KeySearchFields",toggleByKeys:function(){this.props.toggleByKeys()},toggleBetweenKeys:function(){this.props.toggleBetweenKeys()},updateBetweenKeys:function(){this.props.updateBetweenKeys({startkey:this.refs.startkey.getDOMNode().value,endkey:this.refs.endkey.getDOMNode().value,include:this.props.betweenKeys.include})},updateInclusiveEnd:function(){this.props.updateBetweenKeys({include:!this.props.betweenKeys.include,startkey:this.props.betweenKeys.startkey,endkey:this.props.betweenKeys.endkey})},updateByKeys:function(e){this.props.updateByKeys(e.target.value)},render:function(){var e="controls-group well js-query-keys-wrapper ",t="row-fluid js-keys-section ",i=t,r="drop-down btn ",o=r;return this.props.showByKeys||this.props.showBetweenKeys||(e+="hide"),this.props.showByKeys?r+="active":t+="hide",this.props.showBetweenKeys?o+="active":i+="hide",n.createElement("div",{className:"query-group",id:"query-options-key-search"},n.createElement("div",{className:"add-on"},"Keys"),n.createElement("div",{className:"btn-group toggle-btns row-fluid"},n.createElement("label",{id:"byKeys",onClick:this.toggleByKeys,className:r},"By Key(s)"),n.createElement("label",{id:"betweenKeys",onClick:this.toggleBetweenKeys,className:o},"Between Keys")),n.createElement("div",{className:e},n.createElement("div",{className:t,id:"js-showKeys"},n.createElement("div",{className:"controls controls-row"},n.createElement("label",{htmlFor:"keys-input",className:"drop-down"},"A key, or an array of keys."),n.createElement("textarea",{value:this.props.byKeys,onChange:this.updateByKeys,id:"keys-input",className:"input-xxlarge",rows:"5",type:"text",placeholder:'Enter either a single key ["123"] or an array of keys ["123", "456"]. A key value is the first parameter emitted in a map function. For example emit("123", 1) the key is "123".'}),n.createElement("div",{id:"keys-error",className:"inline-block js-keys-error"}))),n.createElement("div",{className:i,id:"js-showStartEnd"},n.createElement("div",{className:"controls controls-row"},n.createElement("div",null,n.createElement("label",{htmlFor:"startkey",className:"drop-down"},"Start key"),n.createElement("input",{id:"startkey",ref:"startkey",type:"text",onChange:this.updateBetweenKeys,value:this.props.betweenKeys.startkey,placeholder:'e.g., "1234"'})),n.createElement("div",null,n.createElement("label",{htmlFor:"endkey",className:"drop-down"},"End key"),n.createElement("input",{id:"endkey",ref:"endkey",onChange:this.updateBetweenKeys,value:this.props.betweenKeys.endkey,type:"text",placeholder:'e.g., "1234"'}),n.createElement("div",{className:"controls include-end-key-row checkbox controls-row inline"},n.createElement("input",{id:"qoIncludeEndKeyInResults",ref:"inclusive_end",type:"checkbox",onChange:this.updateInclusiveEnd,checked:this.props.betweenKeys.include}),n.createElement("label",{htmlFor:"qoIncludeEndKeyInResults"},"Include End Key in results")))))))}}),h=n.createClass({displayName:"AdditionalParams",showStale:function(){return this.props.showStale?n.createElement("div",{className:"checkbox inline"},n.createElement("input",{id:"qoStale",name:"stale",type:"checkbox",defaultValue:"ok"}),n.createElement("label",{htmlFor:"qoStale"},"Stale")):null},updateSkip:function(e){e.preventDefault();var n=e.target.value;/^\d*$/.test(n)||(t.addNotification({msg:"Skip can only be a number",type:"error"}),n=this.props.skip),this.props.updateSkip(n)},updateLimit:function(e){e.preventDefault(),this.props.updateLimit(e.target.value)},render:function(){return n.createElement("div",{className:"query-group",id:"query-options-additional-params"},n.createElement("div",{className:"add-on additionalParams"},"Additional Parameters"),n.createElement("div",{className:"row-fluid fieldsets"},this.showStale(),n.createElement("div",{className:"checkbox inline"},n.createElement("input",{id:"qoUpdateSeq",type:"checkbox",onChange:this.props.toggleUpdateSeq,checked:this.props.updateSeq}),n.createElement("label",{htmlFor:"qoUpdateSeq"},"Update Sequence")),n.createElement("div",{className:"dropdown inline"},n.createElement("label",{className:"drop-down"},"Limit",n.createElement("select",{id:"qoLimit",onChange:this.updateLimit,name:"limit",value:this.props.limit,className:"input-small"},n.createElement("option",{value:"none"},"None"),n.createElement("option",{value:5},"5"),n.createElement("option",{value:10},"10"),n.createElement("option",{value:20},"20"),n.createElement("option",{value:30},"30"),n.createElement("option",{value:50},"50"),n.createElement("option",{value:100},"100"),n.createElement("option",{value:500},"500"))))),n.createElement("div",{className:"row-fluid fieldsets"},n.createElement("div",{className:"checkbox inline"},n.createElement("input",{id:"qoDescending",type:"checkbox",onChange:this.props.toggleDescending,checked:this.props.descending}),n.createElement("label",{htmlFor:"qoDescending"},"Descending")),n.createElement("div",{className:"dropdown inline"},n.createElement("label",{htmlFor:"qoSkip",className:"drop-down"},"Skip",n.createElement("input",{value:this.props.skip,onChange:this.updateSkip,className:"input-small",type:"text",id:"qoSkip",placeholder:"# of rows"})))))}}),p=n.createClass({displayName:"QueryButtons",hideTray:function(){t.Events.trigger(t.constants.EVENTS.TRAY_HIDE,{})},render:function(){return n.createElement("div",{className:"controls-group query-group"},n.createElement("div",{id:"button-options",className:"controls controls-row"},n.createElement("button",{type:"submit",className:"btn btn-success"},n.createElement("i",{className:"fonticon-play icon"}),"Query"),n.createElement("a",{onClick:this.hideTray,className:"btn btn-cancel"},"Cancel")))}}),f=n.createClass({displayName:"QueryOptionsController",getStoreState:function(){return{isVisible:s.isVisible(),includeDocs:s.includeDocs(),showBetweenKeys:s.showBetweenKeys(),showByKeys:s.showByKeys(),betweenKeys:s.betweenKeys(),byKeys:s.byKeys(),updateSeq:s.updateSeq(),descending:s.descending(),skip:s.skip(),limit:s.limit(),showReduce:s.showReduce(),showStale:s.showStale(),reduce:s.reduce(),groupLevel:s.groupLevel()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){s.on("change",this.onChange,this)},componentWillUnmount:function(){s.off("change",this.onChange)},onChange:function(){this.setState(this.getStoreState())},runQuery:function(e){e.preventDefault(),r.runQuery(s.getQueryParams())},render:function(){return n.createElement(a,{id:"query-options-tray"},n.createElement(c,{id:"toggle-query",className:"btn btn-primary pull-right query-options-btn",text:"Query Options",icon:"icon header-icon fonticon-gears"}),n.createElement(l,{className:"query-options",id:"query-options-tray"},n.createElement("form",{onSubmit:this.runQuery,className:"js-view-query-update custom-inputs"},n.createElement(u,{includeDocs:this.state.includeDocs,toggleIncludeDocs:r.toggleIncludeDocs,showReduce:this.state.showReduce,reduce:this.state.reduce,toggleReduce:r.toggleReduce,groupLevel:this.state.groupLevel,updateGroupLevel:r.updateGroupLevel}),n.createElement(d,{key:1,showByKeys:this.state.showByKeys,showBetweenKeys:this.state.showBetweenKeys,toggleByKeys:r.toggleByKeys,toggleBetweenKeys:r.toggleBetweenKeys,betweenKeys:this.state.betweenKeys,updateBetweenKeys:r.updateBetweenKeys,byKeys:this.state.byKeys,updateByKeys:r.updateByKeys}),n.createElement(h,{updateSeq:this.state.updateSeq,toggleUpdateSeq:r.toggleUpdateSeq,descending:this.state.descending,toggleDescending:r.toggleDescending,skip:this.state.skip,updateSkip:r.updateSkip,updateLimit:r.updateLimit,limit:this.state.limit}),n.createElement(p,null))))}});return{QueryOptionsController:f,MainFieldsView:u,KeySearchFields:d,AdditionalParams:h,render:function(e){n.render(n.createElement(f,null),$(e)[0])}}});var q=null;window.PR_SHOULD_USE_CONTINUATION=!0,function(){function e(e){function t(e){var t=e.charCodeAt(0);if(92!==t)return t;var n=e.charAt(1);return(t=d[n])?t:n>="0"&&"7">=n?parseInt(e.substring(1),8):"u"===n||"x"===n?parseInt(e.substring(2),16):e.charCodeAt(1)}function n(e){return 32>e?(16>e?"\\x0":"\\x")+e.toString(16):(e=String.fromCharCode(e),("\\"===e||"-"===e||"["===e||"]"===e)&&(e="\\"+e),e)}function i(e){for(var i=e.substring(1,e.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),e=[],r=[],o="^"===i[0],s=o?1:0,a=i.length;a>s;++s){var l=i[s];if(/\\[bdsw]/i.test(l))e.push(l);else{var c,l=t(l);a>s+2&&"-"===i[s+1]?(c=t(i[s+2]),s+=2):c=l,r.push([l,c]),65>c||l>122||(65>c||l>90||r.push([32|Math.max(65,l),32|Math.min(c,90)]),97>c||l>122||r.push([-33&Math.max(97,l),-33&Math.min(c,122)]))}}for(r.sort(function(e,t){return e[0]-t[0]||t[1]-e[1]}),i=[],l=[0/0,0/0],s=0;r.length>s;++s)a=r[s],a[0]<=l[1]+1?l[1]=Math.max(l[1],a[1]):i.push(l=a);for(r=["["],o&&r.push("^"),r.push.apply(r,e),s=0;i.length>s;++s)a=i[s],r.push(n(a[0])),a[1]>a[0]&&(a[1]+1>a[0]&&r.push("-"),r.push(n(a[1])));return r.push("]"),r.join("")}function r(e){for(var t=e.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),n=t.length,r=[],a=0,l=0;n>a;++a){var c=t[a];"("===c?++l:"\\"===c.charAt(0)&&(c=+c.substring(1))&&l>=c&&(r[c]=-1)}for(a=1;r.length>a;++a)-1===r[a]&&(r[a]=++o);for(l=a=0;n>a;++a)c=t[a],"("===c?(++l,void 0===r[l]&&(t[a]="(?:")):"\\"===c.charAt(0)&&(c=+c.substring(1))&&l>=c&&(t[a]="\\"+r[l]);for(l=a=0;n>a;++a)"^"===t[a]&&"^"!==t[a+1]&&(t[a]="");if(e.ignoreCase&&s)for(a=0;n>a;++a)c=t[a],e=c.charAt(0),c.length>=2&&"["===e?t[a]=i(c):"\\"!==e&&(t[a]=c.replace(/[A-Za-z]/g,function(e){return e=e.charCodeAt(0),"["+String.fromCharCode(-33&e,32|e)+"]"}));return t.join("")}for(var o=0,s=!1,a=!1,l=0,c=e.length;c>l;++l){var u=e[l];if(u.ignoreCase)a=!0;else if(/[a-z]/i.test(u.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){s=!0,a=!1;break}}for(var d={b:8,t:9,n:10,v:11,f:12,r:13},h=[],l=0,c=e.length;c>l;++l){if(u=e[l],u.global||u.multiline)throw Error(""+u);h.push("(?:"+r(u)+")")}return RegExp(h.join("|"),a?"gi":"g")}function t(e){function t(e){switch(e.nodeType){case 1:if(i.test(e.className))break;for(var n=e.firstChild;n;n=n.nextSibling)t(n);n=e.nodeName,("BR"===n||"LI"===n)&&(r[a]="\n",s[a<<1]=o++,s[1|a++<<1]=e);break;case 3:case 4:n=e.nodeValue,n.length&&(n=l?n.replace(/\r\n?/g,"\n"):n.replace(/[\t\n\r ]+/g," "),r[a]=n,s[a<<1]=o,o+=n.length,s[1|a++<<1]=e)}}var n,i=/(?:^|\s)nocode(?:\s|$)/,r=[],o=0,s=[],a=0;e.currentStyle?n=e.currentStyle.whiteSpace:window.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,q).getPropertyValue("white-space"));var l=n&&"pre"===n.substring(0,3);return t(e),{a:r.join("").replace(/\n$/,""),c:s}}function n(e,t,n,i){t&&(e={a:t,d:e},n(e),i.push.apply(i,e.e))}function i(t,i){function r(e){for(var t=e.d,c=[t,"pln"],u=0,d=e.a.match(o)||[],h={},p=0,f=d.length;f>p;++p){var g,m=d[p],v=h[m],y=void 0;if("string"==typeof v)g=!1;else{var b=s[m.charAt(0)];if(b)y=m.match(b[1]),v=b[0];else{for(g=0;l>g;++g)if(b=i[g],y=m.match(b[1])){v=b[0];break}y||(v="pln")}!(g=v.length>=5&&"lang-"===v.substring(0,5))||y&&"string"==typeof y[1]||(g=!1,v="src"),g||(h[m]=v)}if(b=u,u+=m.length,g){g=y[1];var E=m.indexOf(g),C=E+g.length;y[2]&&(C=m.length-y[2].length,E=C-g.length),v=v.substring(5),n(t+b,m.substring(0,E),r,c),n(t+b+E,g,a(v,g),c),n(t+b+C,m.substring(C),r,c)}else c.push(t+b,v)}e.e=c}var o,s={};(function(){for(var n=t.concat(i),r=[],a={},l=0,c=n.length;c>l;++l){var u=n[l],d=u[3];if(d)for(var h=d.length;--h>=0;)s[d.charAt(h)]=u;u=u[1],d=""+u,a.hasOwnProperty(d)||(r.push(u),a[d]=q)}r.push(/[\S\s]/),o=e(r)})();var l=i.length;return r}function r(e){var t=[],n=[];e.tripleQuotedStrings?t.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,q,"'\""]):e.multiLineStrings?t.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,q,"'\"`"]):t.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,q,"\"'"]),e.verbatimStrings&&n.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,q]);var r=e.hashComments;return r&&(e.cStyleComments?(r>1?t.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,q,"#"]):t.push(["com",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\n\r]*)/,q,"#"]),n.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,q])):t.push(["com",/^#[^\n\r]*/,q,"#"])),e.cStyleComments&&(n.push(["com",/^\/\/[^\n\r]*/,q]),n.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,q])),e.regexLiterals&&n.push(["lang-regex",/^(?:^^\.?|[!+-]|!=|!==|#|%|%=|&|&&|&&=|&=|\(|\*|\*=|\+=|,|-=|->|\/|\/=|:|::|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|[?@[^]|\^=|\^\^|\^\^=|{|\||\|=|\|\||\|\|=|~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\s*(\/(?=[^*/])(?:[^/[\\]|\\[\S\s]|\[(?:[^\\\]]|\\[\S\s])*(?:]|$))+\/)/]),(r=e.types)&&n.push(["typ",r]),e=(""+e.keywords).replace(/^ | $/g,""),e.length&&n.push(["kwd",RegExp("^(?:"+e.replace(/[\s,]+/g,"|")+")\\b"),q]),t.push(["pln",/^\s+/,q," \r\n	"]),n.push(["lit",/^@[$_a-z][\w$@]*/i,q],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,q],["pln",/^[$_a-z][\w$@]*/i,q],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,q,"0123456789"],["pln",/^\\[\S\s]?/,q],["pun",/^.[^\s\w"-$'./@\\`]*/,q]),i(t,n)}function o(e,t){function n(e){switch(e.nodeType){case 1:if(o.test(e.className))break;if("BR"===e.nodeName)i(e),e.parentNode&&e.parentNode.removeChild(e);else for(e=e.firstChild;e;e=e.nextSibling)n(e);break;case 3:case 4:if(l){var t=e.nodeValue,r=t.match(s);if(r){var c=t.substring(0,r.index);e.nodeValue=c,(t=t.substring(r.index+r[0].length))&&e.parentNode.insertBefore(a.createTextNode(t),e.nextSibling),i(e),c||e.parentNode.removeChild(e)}}}}function i(e){function t(e,n){var i=n?e.cloneNode(!1):e,r=e.parentNode;if(r){var r=t(r,1),o=e.nextSibling;r.appendChild(i);for(var s=o;s;s=o)o=s.nextSibling,r.appendChild(s)}return i}for(;!e.nextSibling;)if(e=e.parentNode,!e)return;for(var n,e=t(e.nextSibling,0);(n=e.parentNode)&&1===n.nodeType;)e=n;c.push(e)}var r,o=/(?:^|\s)nocode(?:\s|$)/,s=/\r\n?|\n/,a=e.ownerDocument;e.currentStyle?r=e.currentStyle.whiteSpace:window.getComputedStyle&&(r=a.defaultView.getComputedStyle(e,q).getPropertyValue("white-space"));var l=r&&"pre"===r.substring(0,3);for(r=a.createElement("LI");e.firstChild;)r.appendChild(e.firstChild);for(var c=[r],u=0;c.length>u;++u)n(c[u]);t===(0|t)&&c[0].setAttribute("value",t);var d=a.createElement("OL");d.className="linenums";for(var h=Math.max(0,0|t-1)||0,u=0,p=c.length;p>u;++u)r=c[u],r.className="L"+(u+h)%10,r.firstChild||r.appendChild(a.createTextNode("")),d.appendChild(r);e.appendChild(d)}function s(e,t){for(var n=t.length;--n>=0;){var i=t[n];b.hasOwnProperty(i)?window.console&&console.warn("cannot override language handler %s",i):b[i]=e}}function a(e,t){return e&&b.hasOwnProperty(e)||(e=/^\s*</.test(t)?"default-markup":"default-code"),b[e]}function l(e){var n=e.g;try{var i=t(e.h),r=i.a;e.a=r,e.c=i.c,e.d=0,a(n,r)(e);var o=/\bMSIE\b/.test(navigator.userAgent),n=/\n/g,s=e.a,l=s.length,i=0,c=e.c,u=c.length,r=0,d=e.e,h=d.length,e=0;d[h]=l;var p,f;for(f=p=0;h>f;)d[f]!==d[f+2]?(d[p++]=d[f++],d[p++]=d[f++]):f+=2;for(h=p,f=p=0;h>f;){for(var g=d[f],m=d[f+1],v=f+2;h>=v+2&&d[v+1]===m;)v+=2;d[p++]=g,d[p++]=m,f=v}for(d.length=p;u>r;){var y,b=c[r+2]||l,E=d[e+2]||l,v=Math.min(b,E),C=c[r+1];if(1!==C.nodeType&&(y=s.substring(i,v))){o&&(y=y.replace(n,"\r")),C.nodeValue=y;var _=C.ownerDocument,w=_.createElement("SPAN");w.className=d[e+1];var A=C.parentNode;A.replaceChild(w,C),w.appendChild(C),b>i&&(c[r+1]=C=_.createTextNode(s.substring(v,b)),A.insertBefore(C,w.nextSibling))}i=v,i>=b&&(r+=2),i>=E&&(e+=2)}}catch(S){"console"in window&&console.log(S&&S.stack?S.stack:S)}}var c=["break,continue,do,else,for,if,return,while"],u=[[c,"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],d=[u,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],h=[u,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"],p=[h,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"],u=[u,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],f=[c,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],g=[c,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],c=[c,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],m=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/,v=/\S/,y=r({keywords:[d,p,u,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END"+f,g,c],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),b={};s(y,["default-code"]),s(i([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),s(i([["pln",/^\s+/,q," 	\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,q,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]),s(i([],[["atv",/^[\S\s]+/]]),["uq.val"]),s(r({keywords:d,hashComments:!0,cStyleComments:!0,types:m}),["c","cc","cpp","cxx","cyc","m"]),s(r({keywords:"null,true,false"}),["json"]),s(r({keywords:p,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:m}),["cs"]),s(r({keywords:h,cStyleComments:!0}),["java"]),s(r({keywords:c,hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]),s(r({keywords:f,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py"]),s(r({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]),s(r({keywords:g,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]),s(r({keywords:u,cStyleComments:!0,regexLiterals:!0}),["js"]),s(r({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),s(i([],[["str",/^[\S\s]+/]]),["regex"]),window.prettyPrintOne=function(e,t,n){var i=document.createElement("PRE");return i.innerHTML=e,n&&o(i,n),l({g:t,i:n,h:i}),i.innerHTML},window.prettyPrint=function(e){function t(){for(var n=window.PR_SHOULD_USE_CONTINUATION?c.now()+250:1/0;i.length>d&&n>c.now();d++){var r=i[d],s=r.className;if(s.indexOf("prettyprint")>=0){var a,p,s=s.match(h);if(p=!s){p=r;for(var f=void 0,g=p.firstChild;g;g=g.nextSibling)var m=g.nodeType,f=1===m?f?p:g:3===m?v.test(g.nodeValue)?p:f:f;p=(a=f===p?void 0:f)&&"CODE"===a.tagName}for(p&&(s=a.className.match(h)),s&&(s=s[1]),p=!1,f=r.parentNode;f;f=f.parentNode)if(("pre"===f.tagName||"code"===f.tagName||"xmp"===f.tagName)&&f.className&&f.className.indexOf("prettyprint")>=0){p=!0;break}p||((p=(p=r.className.match(/\blinenums\b(?::(\d+))?/))?p[1]&&p[1].length?+p[1]:!0:!1)&&o(r,p),u={g:s,h:r,i:p},l(u))}}i.length>d?setTimeout(t,250):e&&e()}for(var n=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],i=[],r=0;n.length>r;++r)for(var s=0,a=n[r].length;a>s;++s)i.push(n[r][s]);var n=q,c=Date;c.now||(c={now:function(){return+new Date}});var u,d=0,h=/\blang(?:uage)?-([\w.]+)(?!\S)/;t()},window.PR={createSimpleLexer:i,registerLangHandler:s,sourceDecorator:r,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ"}}(),define("plugins/prettify",function(){}),define("addons/documents/views",["app","api","addons/fauxton/components","addons/documents/resources","addons/databases/resources","addons/documents/queryoptions/queryoptions.react","addons/documents/queryoptions/actions","plugins/prettify"],function(e,t,n,i,r,o,s){var a={};return a.RightAllDocsHeader=t.View.extend({className:"header-right",template:"addons/documents/templates/all_docs_header",events:{"click .toggle-select-menu":"selectAllMenu"},initialize:function(e){this.database=e.database,this.params=e.params,_.bindAll(this),this.selectVisible=!1,t.Events.on("success:bulkDelete",this.selectAllMenu),this.headerSearch=this.insertView("#header-search",new a.JumpToDoc({database:this.database,collection:this.database.allDocs}))},afterRender:function(){o.render("#query-options"),this.toggleQueryOptionsHeader(this.isHidden)},cleanup:function(){t.Events.unbind("success:bulkDelete")},selectAllMenu:function(){t.triggerRouteEvent("toggleSelectHeader"),t.Events.trigger("documents:showSelectAll",this.selectVisible)},updateApiUrl:function(e){this.apiBar&&this.apiBar.update(e)},resetQueryOptions:function(e){s.reset(e)},hideQueryOptions:function(){this.isHidden=!0,this.hasRendered&&this.toggleQueryOptionsHeader(this.isHidden)},showQueryOptions:function(){this.isHidden=!1,this.hasRendered&&this.toggleQueryOptionsHeader(this.isHidden)},toggleQueryOptionsHeader:function(e){$("#header-query-options").toggleClass("hide",e)},serialize:function(){return{database:this.database.get("id")}}}),a.DeleteDBModal=n.ModalView.extend({template:"addons/documents/templates/delete_database_modal",initialize:function(e){this.database=e.database,this.isSystemDatabase=e.isSystemDatabase,t.Events.on("database:delete",this.showDeleteDatabase,this)},serialize:function(){return{isSystemDatabase:this.isSystemDatabase,database:this.database}},showDeleteDatabase:function(){this.showModal()},cleanup:function(){t.Events.off("database:delete",this.showDeleteDatabase)},events:{"click #delete-db-btn":"deleteDatabase","submit #delete-db-check":"deleteDatabase"},deleteDatabase:function(e){e.preventDefault();var n=$("#db-name").val();if(this.database.id!=n)return this.set_error_msg(n+" does not match the database name."),void 0;this.hideModal();var i=this.database.id;t.addNotification({msg:"Deleting your database...",type:"error",clear:!0}),this.database.url=t.urls("databaseBaseURL","server",this.database.safeID(),""),this.database.destroy().then(function(){t.navigate(t.urls("allDBs","app")),t.addNotification({msg:"The database <code>"+_.escape(i)+"</code> has been deleted.",clear:!0,escape:!1})}).fail(function(e,n,i){t.addNotification({msg:"Could not delete the database, reason "+i+".",type:"error",clear:!0})})}}),a.JumpToDoc=t.View.extend({template:"addons/documents/templates/jumpdoc",initialize:function(e){this.database=e.database},events:{"submit #jump-to-doc":"jumpToDoc"},jumpToDoc:function(n){n.preventDefault();var i=this.$("#jump-to-doc-id").val().trim(),r=t.urls("document","app",e.utils.safeURLName(this.database.id),e.utils.safeURLName(i));t.navigate(r,{trigger:!0})},afterRender:function(){this.typeAhead=new n.DocSearchTypeahead({el:"#jump-to-doc-id",database:this.database}),this.typeAhead.render()}}),i.Views=a,i}),define("addons/documents/pagination/actiontypes",[],function(){return{COLLECTION_CHANGED:"COLLECTION_CHANGED",PER_PAGE_CHANGE:"PER_PAGE_CHANGE",PAGINATE_NEXT:"PAGINATE_NEXT",PAGINATE_PREVIOUS:"PAGINATE_PREVIOUS",SET_PAGINATION_DOCUMENT_LIMIT:"SET_PAGINATION_DOCUMENT_LIMIT"}}),define("addons/documents/index-results/actiontypes",[],function(){return{INDEX_RESULTS_NEW_RESULTS:"INDEX_RESULTS_NEW_RESULTS",INDEX_RESULTS_RESET:"INDEX_RESULTS_RESET",INDEX_RESULTS_SELECT_DOC:"INDEX_RESULTS_SELECT_DOC",INDEX_RESULTS_SELECT_LIST_OF_DOCS:"INDEX_RESULTS_SELECT_LIST_OF_DOCS",INDEX_RESULTS_CLEAR_RESULTS:"INDEX_RESULTS_CLEAR_RESULTS"}}),define("addons/documents/pagination/stores",["app","api","addons/documents/pagination/actiontypes","addons/documents/index-results/actiontypes"],function(e,t,n,i){var r={},o=1e4;return r.IndexPaginationStore=t.Store.extend({initialize:function(){this.reset()},reset:function(){this._pageStart=1,this._enabled=!0,this._currentPage=1,this._pageStart=1,this._newView=!1,this._docLimit=_.isUndefined(this._docLimit)?o:this._docLimit,this.initPerPage()},setDocumentLimit:function(e){this._docLimit=e?e:o,this.initPerPage()},newPagination:function(e){this._collection=e,this.reset()},getCollection:function(){return this._collection},canShowPrevious:function(){return this._enabled?this._collection.hasPrevious?this._collection.hasPrevious():!1:!1},canShowNext:function(){return this._enabled?this._pageStart+this._perPage>=this._docLimit?!1:this._collection.hasNext?this._collection.hasNext():!1:this._enabled},paginateNext:function(){this._currentPage+=1,this._pageStart+=this.getPerPage(),this._collection.paging.pageSize=this.documentsLeftToFetch()},paginatePrevious:function(){this._currentPage-=1,this._pageStart=this._pageStart-this.getPerPage(),1>this._pageStart&&(this._pageStart=1),this._collection.paging.pageSize=this.getPerPage()},getCurrentPage:function(){return this._currentPage},totalDocsViewed:function(){return this._perPage*this._currentPage},documentsLeftToFetch:function(){var e=this._docLimit-this.totalDocsViewed();return this.getPerPage()>e?e:this._perPage},getPerPage:function(){return this._perPage},initPerPage:function(){var n=t.constants.MISC.DEFAULT_PAGE_SIZE;if(window.localStorage){var i=e.utils.localStorageGet("fauxton:perpage");i&&(n=parseInt(i,10))}n>this._docLimit&&(n=this._docLimit),this.setPerPage(n)},setPerPage:function(t){this._perPage=t,e.utils.localStorageSet("fauxton:perpage",t),this._collection&&this._collection.pageSizeReset&&this._collection.pageSizeReset(t,{fetch:!1})},getTotalRows:function(){return this._collection.length},getPageStart:function(){return this._pageStart},getPageEnd:function(){return this._pageStart+this._collection.length-1},getUpdateSeq:function(){return this._collection.updateSeq?this._collection.updateSeq():!1},dispatch:function(e){switch(e.type){case i.INDEX_RESULTS_NEW_RESULTS:this.newPagination(e.options.collection),this.triggerChange();break;case n.SET_PAGINATION_DOCUMENT_LIMIT:this.setDocumentLimit(e.docLimit),this.triggerChange();break;case i.INDEX_RESULTS_RESET:this.triggerChange();break;case n.PAGINATE_NEXT:this.paginateNext(),this.triggerChange();break;case n.PAGINATE_PREVIOUS:this.paginatePrevious(),this.triggerChange();break;case n.PER_PAGE_CHANGE:this.reset(),this.setPerPage(e.perPage),this.triggerChange();break;default:return}}}),r.indexPaginationStore=new r.IndexPaginationStore,r.indexPaginationStore.dispatchToken=t.dispatcher.register(r.indexPaginationStore.dispatch),r}),define("addons/documents/header/header.actiontypes",[],function(){return{UPDATE_DOCUMENT_COUNT:"UPDATE_DOCUMENT_COUNT",COLLAPSE_DOCUMENTS:"COLLAPSE_DOCUMENTS",EXPAND_DOCUMENTS:"UNCOLLAPSE_DOCUMENTS",TOGGLE_HEADER_CONTROLS:"TOGGLE_HEADER_CONTROLS",RESET_HEADER_BAR:"RESET_HEADER_BAR",DELETE_SELECTED_DOCUMENTS:"DELETE_SELECTED_DOCUMENTS",SELECT_ALL_DOCUMENTS:"SELECT_ALL_DOCUMENTS",DESELECT_ALL_DOCUMENTS:"DESELECT_ALL_DOCUMENTS"}}),define("addons/documents/mango/mango.helper",["api"],function(e){function t(t){var n,i=[];return i=t.get("def").fields.reduce(function(e,n,i){return 0===i?e.push(t.get("type")+": "+Object.keys(n)[0]):e.push(Object.keys(n)[0]),e},[]),i.length||(n=e.getExtensions("mango:additionalIndexes")[0],i=n.createHeader(t)),i.join(", ")}return{getIndexName:t}}),define("addons/documents/index-results/stores",["api","addons/documents/index-results/actiontypes","addons/documents/header/header.actiontypes","addons/documents/resources","addons/documents/mango/mango.helper"],function(e,t,n,i,r){var o={};return o.IndexResultsStore=e.Store.extend({initialize:function(){this._isListDeletable=!1,this._collection=[],this.clearSelectedItems(),this.clearCollapsedDocs(),this._isLoading=!1,this._textEmptyIndex="No Index Created Yet!",this._typeOfIndex="view",this._lastQuery=null,this._bulkDeleteDocCollection=null},clearSelectedItems:function(){this._selectedItems={}},clearCollapsedDocs:function(){this._collapsedDocs={}
},newResults:function(e){this._collection=e.collection,this._isListDeletable=e.isListDeletable,this.clearSelectedItems(),this.clearCollapsedDocs(),this._bulkDeleteDocCollection=e.bulkCollection,e.textEmptyIndex&&(this._textEmptyIndex=e.textEmptyIndex),e.typeOfIndex&&(this._typeOfIndex=e.typeOfIndex),e.query&&(this._lastQuery=e.query)},getTypeOfIndex:function(){return this._typeOfIndex},getLastQuery:function(){return this._lastQuery},isEditable:function(e){return this._collection?e&&this.isGhostDoc(e)?!1:e&&!e.get("_id")?!1:this._collection.isEditable?this._collection.isEditable():!1:!1},isGhostDoc:function(e){return!e||!e.attributes||!Object.keys(e.attributes).length},isDeletable:function(e){return this.isGhostDoc(e)?!1:e.isDeletable()},isListDeletable:function(){return this._isListDeletable},getCollection:function(){return this._collection},getDocContent:function(e){var t=e.toJSON();return this.isCollapsed(t._id)?"":JSON.stringify(t,null," ")},getDocId:function(e){return _.isUndefined(e.id)?e.get("key")?""+e.get("key"):"":e.id},getMangoDocContent:function(e){var t=e.toJSON();return delete t.ddoc,delete t.name,this.isCollapsed(e.id)?"":JSON.stringify(t,null," ")},getMangoDoc:function(e,t){var n;return e.get("def")&&e.get("def").fields?(n=r.getIndexName(e),{content:this.getMangoDocContent(e),header:n,id:e.getId(),keylabel:"",url:e.isFromView()?e.url("app"):e.url("web-index"),isDeletable:this.isDeletable(e),isEditable:this.isEditable(e)}):{content:" ",header:n,id:this.getDocId(e)+t,keylabel:"",url:this.isEditable(e)?e.url("app"):null,isDeletable:this.isDeletable(e),isEditable:this.isEditable(e)}},getResults:function(){function e(e){return"query"!==e.get("language")}return this._collection.filter(e).map(function(e,t){return e.get("def")||this.isGhostDoc(e)?this.getMangoDoc(e,t):{content:this.getDocContent(e),id:this.getDocId(e),header:this.getDocId(e),keylabel:e.isFromView()?"key":"id",url:this.getDocId(e)?e.url("app"):null,isDeletable:this.isDeletable(e),isEditable:this.isEditable(e)}},this)},hasResults:function(){return this.isLoading()?this.isLoading():this._collection.length>0},isLoading:function(){return this._isLoading},selectDoc:function(e){e&&"_all_docs"!==e&&(this._selectedItems[e]?delete this._selectedItems[e]:this._selectedItems[e]=!0)},selectListOfDocs:function(e){this.clearSelectedItems(),_.each(e,function(e){this.selectDoc(e)},this)},selectAllDocuments:function(){this.clearSelectedItems(),this._collection.each(function(e){this.selectDoc(e.id)},this)},deSelectAllDocuments:function(){this.clearSelectedItems()},getSelectedItemsLength:function(){return _.keys(this._selectedItems).length},getCollapsedDocsLength:function(){return _.keys(this._collapsedDocs).length},getCollapsedDocs:function(){return this._collapsedDocs},getDatabase:function(){return this._collection.database},getTextEmptyIndex:function(){return this._textEmptyIndex},setbulkDeleteDocCollection:function(e){this._bulkDeleteDocCollection=e},createBulkDeleteFromSelected:function(){var e=_.map(_.keys(this._selectedItems),function(e){var t=this._collection.get(e);return{_id:t.id,_rev:t.get("_rev"),_deleted:!0}},this),t=new this._bulkDeleteDocCollection(e,{databaseId:this.getDatabase().safeID()});return t},canSelectAll:function(){var e=this._collection.length;return this._collection.get&&this._collection.get("_all_docs")&&(e-=1),e>this.getSelectedItemsLength()},canDeselectAll:function(){return this.getSelectedItemsLength()>0},getSelectedItems:function(){return this._selectedItems},canCollapseDocs:function(){return this._collection.length>this.getCollapsedDocsLength()},canUncollapseDocs:function(){return this.getCollapsedDocsLength()>0},isSelected:function(e){return!!this._selectedItems[e]},isCollapsed:function(e){return!!this._collapsedDocs[e]},collapseSelectedDocs:function(){_.each(this._selectedItems,function(e,t){this._collapsedDocs[t]=!0},this)},unCollapseSelectedDocs:function(){_.each(this._selectedItems,function(e,t){delete this._collapsedDocs[t]},this)},clearResultsBeforeFetch:function(){this._collection&&this._collection.reset&&this._collection.reset(),this._isLoading=!0},resultsResetFromFetch:function(){this._isLoading=!1},dispatch:function(e){switch(e.type){case t.INDEX_RESULTS_NEW_RESULTS:this.newResults(e.options),this.triggerChange();break;case t.INDEX_RESULTS_RESET:this.resultsResetFromFetch(),this.triggerChange();break;case t.INDEX_RESULTS_SELECT_DOC:this.selectDoc(e.id),this.triggerChange();break;case t.INDEX_RESULTS_SELECT_LIST_OF_DOCS:this.selectListOfDocs(e.ids),this.triggerChange();break;case t.INDEX_RESULTS_CLEAR_RESULTS:this.clearResultsBeforeFetch(),this.triggerChange();break;case n.SELECT_ALL_DOCUMENTS:this.selectAllDocuments(),this.triggerChange();break;case n.DESELECT_ALL_DOCUMENTS:this.deSelectAllDocuments(),this.triggerChange();break;case n.COLLAPSE_DOCUMENTS:this.collapseSelectedDocs(),this.triggerChange();break;case n.EXPAND_DOCUMENTS:this.unCollapseSelectedDocs(),this.triggerChange();break;default:return}}}),o.indexResultsStore=new o.IndexResultsStore,o.indexResultsStore.dispatchToken=e.dispatcher.register(o.indexResultsStore.dispatch),o}),define("addons/documents/header/header.stores",["api","addons/documents/header/header.actiontypes","addons/documents/index-results/actiontypes"],function(e,t){var n={};return n.HeaderBarStore=e.Store.extend({initialize:function(){this.reset()},reset:function(){this._toggleClass="",this._isToggled=!1},toogleStatus:function(){this._isToggled=!this._isToggled},toggleClass:function(){this._toggleClass="",this._isToggled&&(this._toggleClass="js-headerbar-togglebutton-selected")},getToggleStatus:function(){return this._isToggled},getToggleClass:function(){return this._toggleClass},dispatch:function(e){switch(e.type){case t.TOGGLE_HEADER_CONTROLS:this.toogleStatus(),this.toggleClass(),this.triggerChange();break;case t.RESET_HEADER_BAR:this.reset(),this.toggleClass(),this.triggerChange();break;default:return}}}),n.headerBarStore=new n.HeaderBarStore,n.headerBarStore.dispatchToken=e.dispatcher.register(n.headerBarStore.dispatch),n}),define("addons/documents/header/header.actions",["app","api","addons/documents/header/header.actiontypes"],function(e,t,n){return{collapseDocuments:function(){t.dispatch({type:n.COLLAPSE_DOCUMENTS})},unCollapseDocuments:function(){t.dispatch({type:n.EXPAND_DOCUMENTS})},selectAllDocuments:function(){t.dispatch({type:n.SELECT_ALL_DOCUMENTS})},deSelectAllDocuments:function(){t.dispatch({type:n.DESELECT_ALL_DOCUMENTS})},updateDocumentCount:function(e){t.dispatch({type:n.UPDATE_DOCUMENT_COUNT,options:e})},toggleHeaderControls:function(){t.dispatch({type:n.TOGGLE_HEADER_CONTROLS})},resetHeaderController:function(){t.dispatch({type:n.RESET_HEADER_BAR})}}}),define("addons/documents/index-results/actions",["app","api","addons/documents/index-results/actiontypes","addons/documents/index-results/stores","addons/documents/header/header.stores","addons/documents/header/header.actions","addons/documents/resources"],function(e,t,n,i,r,o,s){var a=i.indexResultsStore,l=r.headerBarStore,c=function(e){var n="Failed to delete your document!";e&&(n="Failed to delete: "+e.join(", ")),t.addNotification({msg:n,type:"error",clear:!0})};return{newResultsList:function(e){return t.dispatch({type:n.INDEX_RESULTS_NEW_RESULTS,options:e}),e.collection.fetch?(this.clearResults(),e.collection.fetch({reset:!0}).then(function(){this.resultsListReset()}.bind(this),function(e,n){var i=e.responseText?e:n,r="Bad Request";try{var o=JSON.parse(i.responseText);o.reason&&(r=o.reason)}catch(s){console.log(s)}t.addNotification({msg:r,type:"error",clear:!0})})):void 0},newMangoResultsList:function(e){t.dispatch({type:n.INDEX_RESULTS_NEW_RESULTS,options:e})},runMangoFindQuery:function(e){var n=JSON.parse(e.queryCode),i=a.getCollection();return this.clearResults(),i.setQuery(n).fetch().then(function(){this.resultsListReset(),this.newMangoResultsList({collection:i,isListDeletable:a.isListDeletable(),query:e.queryCode,textEmptyIndex:"No Results Found!",bulkCollection:s.BulkDeleteDocCollection})}.bind(this),function(e){t.addNotification({msg:e.reason,clear:!0,type:"error"}),this.resultsListReset()}.bind(this))},reloadResultsList:function(){return"mango"===a.getTypeOfIndex()?this.newResultsList({collection:a.getCollection(),isListDeletable:!0,bulkCollection:s.MangoBulkDeleteDocCollection,typeOfIndex:"mango"}):this.newResultsList({collection:a.getCollection(),isListDeletable:a.isListDeletable(),bulkCollection:s.BulkDeleteDocCollection})},resultsListReset:function(){t.dispatch({type:n.INDEX_RESULTS_RESET})},selectDoc:function(e){return t.dispatch({type:n.INDEX_RESULTS_SELECT_DOC,id:e}),l.getToggleStatus()?(l.getToggleStatus()&&0===a.getSelectedItemsLength()&&o.toggleHeaderControls(),void 0):(o.toggleHeaderControls(),void 0)},selectListOfDocs:function(e){t.dispatch({type:n.INDEX_RESULTS_SELECT_LIST_OF_DOCS,ids:e})},clearResults:function(){t.dispatch({type:n.INDEX_RESULTS_CLEAR_RESULTS})},deleteSelected:function(){var e=a.getSelectedItemsLength(),n=1===e?"Are you sure you want to delete this doc?":"Are you sure you want to delete these "+e+" docs?";if(0===e)return window.alert("Please select the document rows you want to delete."),!1;if(!window.confirm(n))return!1;var i=_.bind(this.reloadResultsList,this),r=_.bind(this.selectListOfDocs,this),o=[];a.createBulkDeleteFromSelected().bulkDelete().then(function(e){t.addNotification({msg:"Successfully deleted your docs",clear:!0}),_.isEmpty(e.errorIds)||(c(e.errorIds),o=e.errorIds)},function(e){c(e),o=e}).always(function(){i().then(function(){r(o)})})}}}),define("addons/documents/pagination/actions",["app","api","addons/documents/pagination/actiontypes","addons/documents/pagination/stores","addons/documents/index-results/actions"],function(e,t,n,i,r){var o=i.indexPaginationStore;return{updatePerPage:function(e){t.dispatch({type:n.PER_PAGE_CHANGE,perPage:e}),r.clearResults(),o.getCollection().fetch().then(function(){r.resultsListReset()})},setDocumentLimit:function(e){t.dispatch({type:n.SET_PAGINATION_DOCUMENT_LIMIT,docLimit:e})},paginateNext:function(){t.dispatch({type:n.PAGINATE_NEXT}),r.clearResults(),o.getCollection().next().then(function(){r.resultsListReset()})},paginatePrevious:function(){t.dispatch({type:n.PAGINATE_PREVIOUS}),r.clearResults(),o.getCollection().previous().then(function(){r.resultsListReset()})}}}),define("addons/documents/sidebar/actiontypes",[],function(){return{SIDEBAR_SET_SELECTED_TAB:"SIDEBAR_SET_SELECTED_TAB",SIDEBAR_NEW_OPTIONS:"SIDEBAR_NEW_OPTIONS",SIDEBAR_TOGGLE_DESIGN_DOC:"SIDEBAR_TOGGLE_CONTENT",SIDEBAR_FETCHING:"SIDEBAR_FETCHING"}}),define("addons/documents/sidebar/stores",["app","api","addons/documents/sidebar/actiontypes"],function(e,t,n){var i={};return i.SidebarStore=t.Store.extend({initialize:function(){this._selectedTab="all-docs",this._loading=!0,this._toggledSections={}},newOptions:function(e){this._database=e.database,this._designDocs=e.designDocs,this._loading=!1,e.selectedTab&&this.setSelectedTab(e.selectedTab)},isLoading:function(){return this._loading},getDatabase:function(){return this.isLoading()?{}:this._database},toggleContent:function(e,t){return this._toggledSections[e]?t?this.toggleIndex(e,t):(this._toggledSections[e].visible=!this._toggledSections[e].visible,void 0):(this._toggledSections[e]={visible:!0,indexes:{}},void 0)},toggleIndex:function(e,t){var n=this._toggledSections[e].indexes[t];return _.isUndefined(n)?(this._toggledSections[e].indexes[t]=!0,void 0):(this._toggledSections[e].indexes[t]=!n,void 0)},isVisible:function(e,t){return this._toggledSections[e]?t?this._toggledSections[e].indexes[t]:this._toggledSections[e].visible:!1},setSelectedTab:function(e){this._selectedTab=e},getDatabaseName:function(){return this.isLoading()?"":this._database.safeID()},getDesignDocs:function(){if(this.isLoading())return{};var t=this._designDocs.toJSON();return t=_.filter(t,function(e){return _.has(e.doc,"language")?"query"!==e.doc.language:!0}),t.map(function(t){return t.safeId=e.utils.safeURLName(t._id.replace(/^_design\//,"")),_.extend(t,t.doc)})},getSelectedTab:function(){return this._selectedTab},dispatch:function(e){switch(e.type){case n.SIDEBAR_SET_SELECTED_TAB:this.setSelectedTab(e.tab),this.triggerChange();break;case n.SIDEBAR_NEW_OPTIONS:this.newOptions(e.options),this.triggerChange();break;case n.SIDEBAR_TOGGLE_CONTENT:this.toggleContent(e.designDoc,e.index),this.triggerChange();break;case n.SIDEBAR_FETCHING:this._loading=!0,this.triggerChange();break;default:return}}}),i.sidebarStore=new i.SidebarStore,i.sidebarStore.dispatchToken=t.dispatcher.register(i.sidebarStore.dispatch),i}),define("addons/documents/sidebar/actions",["app","api","addons/documents/sidebar/actiontypes","addons/documents/sidebar/stores"],function(e,t,n,i){var r=i.sidebarStore;return{newOptions:function(e){e.database.safeID()!==r.getDatabaseName()&&t.dispatch({type:n.SIDEBAR_FETCHING}),e.designDocs.fetch().then(function(){t.dispatch({type:n.SIDEBAR_NEW_OPTIONS,options:e})})},toggleContent:function(e,i){t.dispatch({type:n.SIDEBAR_TOGGLE_CONTENT,designDoc:e,index:i})},setSelectedTab:function(e){t.dispatch({type:n.SIDEBAR_SET_SELECTED_TAB,tab:e})}}}),define("addons/documents/sidebar/sidebar.react",["app","api","react","addons/documents/sidebar/stores","addons/documents/sidebar/actions","addons/components/react-components.react","addons/documents/views","plugins/prettify"],function(e,t,n,i,r,o,s){var a=s.Views.DeleteDBModal,l=i.sidebarStore,c=o.LoadLines,u=n.createClass({displayName:"MainSidebar",getNewButtonLinks:function(){var e=t.getExtensions("sidebar:links"),n=this.props.databaseName,i="#"+t.urls("databaseBaseURL","app",n),r=_.reduce(e,function(e,t){return e.push({title:t.title,url:i+"/"+t.url,icon:"fonticon-plus-circled"}),e},[{title:"New Doc",url:i+"/new",icon:"fonticon-plus-circled"},{title:"New View",url:i+"/new_view",icon:"fonticon-plus-circled"},this.getMangoLink()]);return[{title:"Add new",links:r}]},getMangoLink:function(){var n=this.props.databaseName,i="#"+t.urls("databaseBaseURL","app",n);return{title:e.i18n.en_US["new-mango-index"],url:i+"/_index",icon:"fonticon-plus-circled"}},buildDocLinks:function(){var e=t.urls("base","app",this.props.databaseName),i=this.props.isActive;return t.getExtensions("docLinks").map(function(t){return n.createElement("li",{key:t.url,className:i(t.url)},n.createElement("a",{id:t.url,href:e+t.url},t.title))})},render:function(){var i=this.props.isActive,r=this.buildDocLinks(),s="#"+t.urls("changes","app",this.props.databaseName,""),a="#"+t.urls("permissions","app",this.props.databaseName),l=t.urls("allDocs","app",this.props.databaseName,""),c=t.urls("mango","query-app",this.props.databaseName),u=e.i18n.en_US["run-query-with-mango"],d=this.getNewButtonLinks();return n.createElement("ul",{className:"nav nav-list"},n.createElement("li",{className:i("permissions")},n.createElement("a",{id:"permissions",href:a},"Permissions")),n.createElement("li",{className:i("changes")},n.createElement("a",{id:"changes",href:s},"Changes")),r,n.createElement("li",{className:i("all-docs")},n.createElement("a",{id:"all-docs",href:"#/"+l,className:"toggle-view"},"All Documents"),n.createElement("div",{id:"new-all-docs-button",className:"add-dropdown"},n.createElement(o.MenuDropDown,{links:d}))),n.createElement("li",{className:i("mango-query")},n.createElement("a",{id:"mango-query",href:"#/"+c,className:"toggle-view"},u),n.createElement("div",{id:"mango-query-button",className:"add-dropdown"},n.createElement(o.MenuDropDown,{links:d}))),n.createElement("li",{className:i("design-docs")},n.createElement("a",{id:"design-docs",href:"#/"+l+'?startkey="_design"&endkey="_design0"',className:"toggle-view"},"All Design Docs"),n.createElement("div",{id:"new-design-docs-button",className:"add-dropdown"},n.createElement(o.MenuDropDown,{links:d}))))}}),d=n.createClass({displayName:"IndexSection",getDefaultProps:function(){return{indexTypeMap:{views:{icon:"fonticon-sidenav-map-reduce",urlFolder:"_view",type:"view"},indexes:{icon:"fonticon-sidenav-search",urlFolder:"_indexes",type:"search"}}}},createItems:function(){return _.map(this.props.items,function(e,i){var r=t.urls(this.props.indexTypeMap[this.props.selector].type,"app",this.props.databaseName,this.props.designDocName);return n.createElement("li",{key:i},n.createElement("a",{id:this.props.designDocName+"_"+e,href:"#/"+r+e,className:"toggle-view"},e))},this)},toggle:function(e){e.preventDefault();var t=!this.props.contentVisible,n=t?"show":"hide";$(this.getDOMNode()).find(".accordion-body").collapse(n),this.props.toggle(this.props.designDocName,this.props.title)},render:function(){var e="accordion-header",t="accordion-body collapse";this.props.contentVisible&&(e+=" down",t+=" in");var i=this.props.title,r=this.props.indexTypeMap[this.props.selector].icon,o=this.props.designDocName,s="nav-design-function-"+o+this.props.selector;return n.createElement("li",{id:s},n.createElement("a",{className:e,"data-toggle":"collapse",onClick:this.toggle},n.createElement("div",{className:"fonticon-play"}),n.createElement("span",{className:r+" fonticon"}),i),n.createElement("ul",{className:t},this.createItems()))}}),h=n.createClass({displayName:"DesignDoc",createIndexList:function(){var e=t.getExtensions("sidebar:list");return(_.isEmpty(e)||_.has(e[0],"selector")&&"views"!==e[0].selector)&&e.unshift({selector:"views",name:"Views"}),_.map(e,function(e,t){return n.createElement(d,{contentVisible:this.props.isVisible(this.props.designDocName,e.name),toggle:this.props.toggle,databaseName:this.props.databaseName,designDocName:this.props.designDocName,key:t,title:e.name,selector:e.selector,items:_.keys(this.props.designDoc[e.selector])})}.bind(this))},toggle:function(e){e.preventDefault();var t=!this.props.contentVisible,n=t?"show":"hide";$(this.getDOMNode()).find("#"+this.props.designDocName).collapse(n),this.props.toggle(this.props.designDocName)},getNewButtonLinks:function(){var e=this.props.databaseName,n=t.urls("databaseBaseURL","app",e),i=this.props.designDocName,r=_.reduce(t.getExtensions("sidebar:links"),function(e,t){return e.push({title:t.title,url:"#"+n+"/"+t.url+"/"+i,icon:"fonticon-plus-circled"}),e},[{title:"New View",url:"#"+t.urls("new","addView",e,i),icon:"fonticon-plus-circled"}]);return[{title:"Add new",links:r}]},render:function(){var e=this.getNewButtonLinks(),i="accordion-header",r="accordion-body collapse";this.props.contentVisible&&(i+=" down",r+=" in");var s=this.props.designDocName,a=t.urls("designDocs","app",this.props.databaseName,s);return n.createElement("li",{className:"nav-header"},n.createElement("div",{id:"sidebar-tab-"+s,className:i},n.createElement("div",{id:"nav-header-"+s,onClick:this.toggle,className:"accordion-list-item"},n.createElement("div",{className:"fonticon-play"}),n.createElement("p",{className:"design-doc-name"},n.createElement("span",{title:"_design/"+s},"_design/"+s))),n.createElement("div",{className:"new-button add-dropdown"},n.createElement(o.MenuDropDown,{links:e}))),n.createElement("ul",{className:r,id:this.props.designDocName},n.createElement("li",null,n.createElement("a",{href:"#/"+a,className:"toggle-view accordion-header"},n.createElement("span",{className:"fonticon-sidenav-info fonticon"}),"Design Doc Metadata")),this.createIndexList()))}}),p=n.createClass({displayName:"DesignDocList",createDesignDocs:function(){return _.map(this.props.designDocs,function(e,t){return n.createElement(h,{toggle:this.props.toggle,contentVisible:this.props.isVisible(e.safeId),isVisible:this.props.isVisible,key:t,designDoc:e,designDocName:e.safeId,databaseName:this.props.databaseName})}.bind(this))},render:function(){var e=this.props.designDocName;return t.urls("designDocs","app",this.props.databaseName,e),n.createElement("ul",{className:"nav nav-list"},this.createDesignDocs())}}),f=n.createClass({displayName:"DeleteDBModalWrapper",componentDidMount:function(){this.dbModal=new a({database:this.props.database,isSystemDatabase:/^_/.test(this.props.database.id),el:this.getDOMNode()}),this.dbModal.render()},componentWillUnmount:function(){this.dbModal.remove()},componentWillReceiveProps:function(e){this.dbModal.database=e.database,this.dbModal.isSystemDatabase=e.database.isSystemDatabase()},render:function(){return n.createElement("div",{id:"delete-db-modal"}," ")}}),g=n.createClass({displayName:"SidebarController",getStoreState:function(){return{databaseName:l.getDatabaseName(),selectedTab:l.getSelectedTab(),designDocs:l.getDesignDocs(),isVisible:_.bind(l.isVisible,l),isLoading:l.isLoading(),database:l.getDatabase()}},isActive:function(e){return e===this.state.selectedTab?"active":""},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){l.on("change",this.onChange,this)},componentWillUnmount:function(){l.off("change",this.onChange)},onChange:function(){this.setState(this.getStoreState())},render:function(){return this.state.isLoading?n.createElement(c,null):n.createElement("nav",{className:"sidenav"},n.createElement(u,{isActive:this.isActive,databaseName:this.state.databaseName}),n.createElement(p,{toggle:r.toggleContent,isVisible:this.state.isVisible,designDocs:this.state.designDocs,databaseName:this.state.databaseName}),n.createElement(f,{database:this.state.database}))}}),m={SidebarController:g};return m}),define("addons/documents/shared-routes",["app","api","addons/documents/shared-resources","addons/databases/base","addons/fauxton/components","addons/documents/pagination/actions","addons/documents/pagination/stores","addons/documents/sidebar/sidebar.react","addons/documents/sidebar/actions"],function(e,t,n,i,r,o,s,a,l){var c=t.RouteObject.extend({layout:"with_tabs_sidebar",selectedHeader:"Databases",overrideBreadcrumbs:!0,createDesignDocsCollection:function(){this.designDocs=new n.AllDocs(null,{database:this.database,paging:{pageSize:500},params:{startkey:"_design/",endkey:"_design0",include_docs:!0,limit:500}})},onSelectDatabase:function(n){this.cleanup(),this.initViews(n);var i=t.urls("allDocs","app",e.utils.safeURLName(n),"");t.navigate(i,{trigger:!0}),this.listenToLookaheadTray()},listenToLookaheadTray:function(){this.listenTo(t.Events,"lookaheadTray:update",this.onSelectDatabase)},getAllDatabases:function(){return new i.List},showQueryOptions:function(e,t,n){var i,r=this.designDocs.fetch({reset:!0}),o=this;r.then(function(){var r=_.findWhere(o.designDocs.models,{id:"_design/"+t});!_.isUndefined(i=r.attributes.doc.views[n].reduce),o.rightHeader.showQueryOptions(),o.rightHeader.resetQueryOptions({queryParams:e,showStale:!0,hasReduce:i,showReduce:!_.isUndefined(i),viewName:n,ddocName:t})})},addLeftHeader:function(){this.leftheader=this.setView("#breadcrumbs",new r.LeftHeader({crumbs:this.getCrumbs(this.database),dropdownMenu:n.setUpDropdown(this.database),lookaheadTrayOptions:{databaseCollection:this.allDatabases,toggleEventName:"lookaheadTray:toggle",onUpdateEventName:"lookaheadTray:update",placeholder:"Enter database name"}}))},addSidebar:function(e){var t={designDocs:this.designDocs,database:this.database};e&&(t.selectedTab=e),l.newOptions(t),this.setComponent("#sidebar-content",a.SidebarController)},getCrumbs:function(n){var r=_.isObject(n)?n.id:n,o=e.utils.safeURLName(r);return[{type:"back",link:t.urls("allDBs","app")},{name:n.id,link:t.urls("allDocs","app",o,"?limit="+i.DocLimit),className:"lookahead-tray-link"}]},ddocInfo:function(e,t,n){return{id:"_design/"+e,currView:n,designDocs:t}},createParams:function(t){var i=e.getParams(t),r=n.QueryParams.parse(i);o.setDocumentLimit(parseInt(i.limit,10));var a=s.indexPaginationStore.getPerPage();return{urlParams:i,docParams:_.extend(r,{limit:a})}}});return c}),define("addons/documents/changes/actiontypes",[],function(){return{INIT_CHANGES:"INIT_CHANGES",UPDATE_CHANGES:"UPDATE_CHANGES",TOGGLE_CHANGES_TAB_VISIBILITY:"TOGGLE_CHANGES_TAB_VISIBILITY",ADD_CHANGES_FILTER_ITEM:"ADD_CHANGES_FILTER_ITEM",REMOVE_CHANGES_FILTER_ITEM:"REMOVE_CHANGES_FILTER_ITEM",UPDATE_CHANGES_FILTER:"UPDATE_CHANGES_FILTER",TOGGLE_CHANGES_CODE_VISIBILITY:"TOGGLE_CHANGES_CODE_VISIBILITY",TOGGLE_CHANGES_POLLING:"TOGGLE_CHANGES_POLLING"}}),define("addons/documents/helpers",["api"],function(e){var t={};return t.getPreviousPageForDoc=function(t,n){var i=t.url("index"),r=e.router.lastPages;return!n&&r.length>=2&&(i=/(new|new_view)$/.test(r[1])?r[0]:r[1]),i},t.getPreviousPage=function(e){return e.url("index")},t.getSeqNum=function(e){return _.isArray(e)?e[1]:e},t}),define("addons/documents/changes/stores",["api","addons/documents/changes/actiontypes","addons/documents/helpers"],function(e,t,n){var i=e.Store.extend({initialize:function(){this.reset()},reset:function(){this._tabVisible=!1,this._filters=[],this._changes=[],this._databaseName="",this._maxChangesListed=100,this._showingSubset=!1,this._pollingEnabled=!1,this._lastSequenceNum=null},initChanges:function(e){this.reset(),this._databaseName=e.databaseName},updateChanges:function(e,t){this._lastSequenceNum=e;var i=0===this._changes.length;_.each(this._changes,function(e){e.isNew=!1});var r=_.map(t,function(e){var t=n.getSeqNum(e.seq);return{id:e.id,seq:t,deleted:_.has(e,"deleted")?e.deleted:!1,changes:e.changes,doc:e.doc,isNew:!i}});this._changes=r.concat(this._changes)},getChanges:function(){this._showingSubset=!1;var e=0;return _.filter(this._changes,function(t){if(e>=this._maxChangesListed)return this._showingSubset=!0,!1;var n=JSON.stringify(t),i=_.every(this._filters,function(e){return RegExp(e,"i").test(n)});return i&&e++,i},this)},toggleTabVisibility:function(){this._tabVisible=!this._tabVisible},isTabVisible:function(){return this._tabVisible},addFilter:function(e){this._filters.push(e)},removeFilter:function(e){this._filters=_.without(this._filters,e)},getFilters:function(){return this._filters},hasFilter:function(e){return _.contains(this._filters,e)},getDatabaseName:function(){return this._databaseName},isShowingSubset:function(){return this._showingSubset},setMaxChanges:function(e){this._maxChangesListed=e},togglePolling:function(){this._pollingEnabled=!this._pollingEnabled,this._lastSequenceNum="now"},pollingEnabled:function(){return this._pollingEnabled},getLastSeqNum:function(){return this._lastSequenceNum},dispatch:function(e){switch(e.type){case t.INIT_CHANGES:this.initChanges(e.options),this.triggerChange();break;case t.UPDATE_CHANGES:this.updateChanges(e.seqNum,e.changes),this.triggerChange();break;case t.TOGGLE_CHANGES_TAB_VISIBILITY:this.toggleTabVisibility(),this.triggerChange();break;case t.ADD_CHANGES_FILTER_ITEM:this.addFilter(e.filter),this.triggerChange();break;case t.REMOVE_CHANGES_FILTER_ITEM:this.removeFilter(e.filter),this.triggerChange();break;case t.TOGGLE_CHANGES_POLLING:this.togglePolling(),this.triggerChange()}}}),r={};return r.changesStore=new i,r.changesStore.dispatchToken=e.dispatcher.register(r.changesStore.dispatch),r}),define("addons/documents/changes/actions",["app","api","addons/documents/changes/actiontypes","addons/documents/changes/stores","addons/documents/helpers"],function(e,t,n,i,r){var o,s=i.changesStore,a=6e4;return{toggleTabVisibility:function(){t.dispatch({type:n.TOGGLE_CHANGES_TAB_VISIBILITY})},addFilter:function(e){t.dispatch({type:n.ADD_CHANGES_FILTER_ITEM,filter:e})},removeFilter:function(e){t.dispatch({type:n.REMOVE_CHANGES_FILTER_ITEM,filter:e})},initChanges:function(e){t.dispatch({type:n.INIT_CHANGES,options:e}),o=null,this.getLatestChanges()},getLatestChanges:function(){var n={limit:100};o&&(n.since=s.getLastSeqNum(),n.timeout=a,n.feed="longpoll"),$.param(n);var i=e.utils.safeURLName(s.getDatabaseName()),r=t.urls("changes","apiurl",i,"");o=$.get(r),o.then(_.bind(this.updateChanges,this))},updateChanges:function(e){var i=JSON.parse(e),o=r.getSeqNum(i.last_seq);o!==s.getLastSeqNum()&&t.dispatch({type:n.UPDATE_CHANGES,changes:i.results,seqNum:o}),s.pollingEnabled()&&this.getLatestChanges()},togglePolling:function(){t.dispatch({type:n.TOGGLE_CHANGES_POLLING}),s.pollingEnabled()?this.getLatestChanges():o.abort()}}}),define("addons/documents/changes/components.react",["app","api","react","addons/documents/changes/actions","addons/documents/changes/stores","addons/fauxton/components.react","plugins/prettify"],function(e,t,n,i,r,o){var s=r.changesStore,a=n.addons.CSSTransitionGroup,l=n.createClass({displayName:"ChangesHeaderController",getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{showTabContent:s.isTabVisible()}},onChange:function(){this.setState(this.getStoreState())},componentDidMount:function(){s.on("change",this.onChange,this)},componentWillUnmount:function(){s.off("change",this.onChange)},toggleFilterSection:function(){i.toggleTabVisibility()},render:function(){var e="";return this.state.showTabContent&&(e=n.createElement(u,{key:"changesFilterSection"})),n.createElement("div",{className:"changes-header-section"},n.createElement(c,{onToggle:this.toggleFilterSection}),n.createElement(a,{transitionName:"toggle-changes-filter",component:"div",className:"changes-tab-content"},e))}}),c=n.createClass({displayName:"ChangesHeaderTab",propTypes:{onToggle:n.PropTypes.func.isRequired},render:function(){return n.createElement("div",{className:"dashboard-upper-menu"},n.createElement("ul",{className:"nav nav-tabs",id:"db-views-tabs-nav"},n.createElement("li",null,n.createElement("a",{href:"#filter",onClick:this.props.onToggle,"data-bypass":"true","data-toggle":"tab"},n.createElement("i",{className:"fonticon fonticon-plus"})," Filter"))))}}),u=n.createClass({displayName:"ChangesTabContent",getStoreState:function(){return{filters:s.getFilters(),pollingEnabled:s.pollingEnabled()}},onChange:function(){this.setState(this.getStoreState())},componentDidMount:function(){s.on("change",this.onChange,this)},componentWillUnmount:function(){s.off("change",this.onChange)},getInitialState:function(){return this.getStoreState()},removeFilter:function(e){i.removeFilter(e)},getFilters:function(){return _.map(this.state.filters,function(e){return n.createElement(p,{key:e,label:e,removeFilter:this.removeFilter})},this)},addFilter:function(e){_.isEmpty(e)||i.addFilter(e)},hasFilter:function(e){return s.hasFilter(e)},togglePolling:function(){i.togglePolling()},render:function(){return n.createElement("div",{className:"tab-content"},n.createElement("div",{className:"tab-pane active",ref:"filterTab"},n.createElement("div",{className:"changes-header js-filter"},n.createElement("div",{className:"changes-polling"},n.createElement("input",{type:"checkbox",id:"changes-toggle-polling",checked:this.state.pollingEnabled,onChange:this.togglePolling}),n.createElement("label",{htmlFor:"changes-toggle-polling"},"Auto-update changes list")),n.createElement(d,{tooltip:this.props.tooltip,filter:this.state.filter,addFilter:this.addFilter,hasFilter:this.hasFilter}),n.createElement("ul",{className:"filter-list"},this.getFilters())),n.createElement("div",{className:"changes-auto-update"})))}}),d=n.createClass({displayName:"AddFilterForm",propTypes:{addFilter:n.PropTypes.func.isRequired,hasFilter:n.PropTypes.func.isRequired},getInitialState:function(){return{filter:"",error:!1}},getDefaultProps:function(){return{tooltip:""}},submitForm:function(e){if(e.preventDefault(),e.stopPropagation(),this.props.hasFilter(this.state.filter)){this.setState({error:!0});var t=this;setTimeout(function(){t.setState({error:!1})},1e3)}else this.props.addFilter(this.state.filter),this.setState({filter:"",error:!1})},componentDidMount:function(){this.focusFilterField()},componentDidUpdate:function(){this.focusFilterField()},focusFilterField:function(){this.refs.addItem.getDOMNode().focus()},onChangeFilter:function(e){this.setState({filter:e.target.value})},inputClassNames:function(){var e="js-changes-filter-field";return this.state.error&&(e+=" errorHighlight"),e},render:function(){return n.createElement("form",{className:"form-inline js-filter-form",onSubmit:this.submitForm},n.createElement("fieldset",null,n.createElement("input",{type:"text",ref:"addItem",className:this.inputClassNames(),placeholder:"Type a filter",onChange:this.onChangeFilter,value:this.state.filter}),n.createElement("button",{type:"submit",className:"btn btn-primary"},"Filter"),n.createElement("div",{className:"help-block"},n.createElement("strong",{ref:"helpText"},"e.g. _design or document ID")," ",n.createElement(h,{tooltip:this.props.tooltip}))))
}}),h=n.createClass({displayName:"FilterTooltip",componentDidMount:function(){this.props.tooltip&&$(this.refs.tooltip.getDOMNode()).tooltip()},render:function(){return this.props.tooltip?n.createElement("i",{ref:"tooltip",className:"icon icon-question-sign js-filter-tooltip","data-toggle":"tooltip","data-original-title":this.props.tooltip}):!1}}),p=n.createClass({displayName:"Filter",propTypes:{label:n.PropTypes.string.isRequired,removeFilter:n.PropTypes.func.isRequired},removeFilter:function(e){e.preventDefault(),this.props.removeFilter(this.props.label)},render:function(){return n.createElement("li",null,n.createElement("span",{className:"label label-info"},this.props.label),n.createElement("a",{href:"#",className:"label label-info js-remove-filter",onClick:this.removeFilter,"data-bypass":"true"},""))}}),f=n.createClass({displayName:"ChangesController",getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{changes:s.getChanges(),databaseName:s.getDatabaseName(),isShowingSubset:s.isShowingSubset()}},onChange:function(){this.setState(this.getStoreState())},componentDidMount:function(){s.on("change",this.onChange,this)},componentWillUnmount:function(){s.off("change",this.onChange)},showingSubsetMsg:function(){var e="";if(this.state.isShowingSubset){var t=this.state.changes.length;e=n.createElement("p",{className:"changes-result-limit"},"Limiting results to latest ",n.createElement("b",null,t)," changes.")}return e},getRows:function(){return _.map(this.state.changes,function(e){var t=e.id+"-"+e.seq;return n.createElement(g,{change:e,key:t,databaseName:this.state.databaseName})},this)},render:function(){return n.createElement("div",{className:"js-changes-view"},this.showingSubsetMsg(),this.getRows())}}),g=n.createClass({displayName:"ChangeRow",propTypes:function(){return{change:n.PropTypes.object,databaseName:n.PropTypes.string.isRequired}},getInitialState:function(){return{codeVisible:!1}},toggleJSON:function(e){e.preventDefault(),this.setState({codeVisible:!this.state.codeVisible})},getChangesCode:function(){var e="";return this.state.codeVisible&&(e=n.createElement(o.CodeFormat,{key:"changesCodeSection",code:this.getChangeCode()})),e},getChangeCode:function(){return{changes:this.props.change.changes,doc:this.props.change.doc}},render:function(){var e="btn btn-small"+(this.state.codeVisible?" btn-secondary":" btn-primary"),t="change-wrapper"+(this.props.change.isNew?" new-change-row":"");return n.createElement("div",{className:t},n.createElement("div",{className:"change-box","data-id":this.props.change.id},n.createElement("div",{className:"row-fluid"},n.createElement("div",{className:"span2"},"seq"),n.createElement("div",{className:"span8 change-sequence"},this.props.change.seq),n.createElement("div",{className:"span2 text-right"},n.createElement(o.Clipboard,{text:this.props.change.seq}))),n.createElement("div",{className:"row-fluid"},n.createElement("div",{className:"span2"},"id"),n.createElement("div",{className:"span8"},n.createElement(m,{id:this.props.change.id,deleted:this.props.change.deleted,databaseName:this.props.databaseName})),n.createElement("div",{className:"span2 text-right"},n.createElement(o.Clipboard,{text:this.props.change.id}))),n.createElement("div",{className:"row-fluid"},n.createElement("div",{className:"span2"},"changes"),n.createElement("div",{className:"span10"},n.createElement("button",{type:"button",className:e,onClick:this.toggleJSON},this.state.codeVisible?"Close JSON":"View JSON"))),n.createElement(a,{transitionName:"toggle-changes-code",component:"div",className:"changesCodeSectionWrapper"},this.getChangesCode()),n.createElement("div",{className:"row-fluid"},n.createElement("div",{className:"span2"},"deleted"),n.createElement("div",{className:"span10"},this.props.change.deleted?"True":"False"))))}}),m=n.createClass({displayName:"ChangeID",render:function(){if(this.props.deleted)return n.createElement("span",{className:"js-doc-id"},this.props.id);var e="#"+t.urls("document","app",this.props.databaseName,this.props.id);return n.createElement("a",{href:e,className:"js-doc-link"},this.props.id)}});return{renderHeader:function(e){n.render(n.createElement(l,null),e)},renderChanges:function(e){n.render(n.createElement(f,null),e)},remove:function(e){n.unmountComponentAtNode(e)},ChangesHeaderController:l,ChangesHeaderTab:c,ChangesTabContent:u,ChangesController:f,ChangeRow:g}}),define("addons/documents/views-doceditor",["app","api","addons/fauxton/components","addons/documents/resources","addons/databases/resources","plugins/prettify"],function(e,t,n){var i={};return i.UploadModal=n.ModalView.extend({template:"addons/documents/templates/upload_modal",events:{"click #upload-btn":"uploadFile"},uploadFile:function(e){e.preventDefault();var t=this.model.get("_rev"),n=$("#_attachments")[0].files[0];return t?0===$('input[type="file"]')[0].files.length?this.set_error_msg("Selected a file to be uploaded."):(this.$("#_rev").val(t),$.ajax({url:this.model.url()+"/"+n.name+"?rev="+t,xhrFields:{withCredentials:!0},type:"PUT",data:n,processData:!1,contentType:n.type,success:this.success,error:function(e){this.set_error_msg("Could not upload attachment: "+JSON.parse(e.responseText).reason)}.bind(this)}),void 0):this.set_error_msg("The document needs to be saved before adding an attachment.")},success:function(){var e=this.hideModal,n=this.$("#file-upload");t.triggerRouteEvent("reRenderDoc"),setTimeout(function(){n.clearForm(),e(),$(".modal-backdrop").remove()},1e3)},uploadProgress:function(e,t,n,i){this.$(".bar").css({width:i+"%"})},beforeSend:function(){this.$(".progress").removeClass("hide")},_showModal:function(){this.$(".bar").css({width:"0%"}),this.$(".progress").addClass("hide")}}),i.StringEditModal=n.ModalView.extend({template:"addons/documents/templates/string_edit_modal",initialize:function(){_.bindAll(this)},events:{"click #string-edit-save-btn":"saveString"},saveString:function(e){e.preventDefault();var t=this.subEditor.getValue();this.subEditor.editSaved(),this.editor.replaceCurrentLine(this.indent+this.hashKey+JSON.stringify(t)+this.comma+"\n"),this.hideModal()},_showModal:function(){this.$(".bar").css({width:"0%"}),this.$(".progress").addClass("hide"),this.clear_error_msg()},openWin:function(e,t,n,i,r){this.editor=e,this.indent=t,this.hashKey=n,this.$("#string-edit-header").text(n),this.subEditor.setValue(JSON.parse(i)),this.subEditor.editSaved(),this.comma=r,this.showModal()},afterRender:function(){this.subEditor||(this.subEditor=new n.Editor({editorId:"string-editor-container",mode:"plain"}),this.subEditor.render().promise().then(function(){this.subEditor.configureFixedHeightEditor(35)}.bind(this)))},cleanup:function(){this.subEditor&&this.subEditor.remove()}}),i.DuplicateDocModal=n.ModalView.extend({template:"addons/documents/templates/duplicate_doc_modal",initialize:function(){_.bindAll(this)},events:{"click #duplicate-btn":"duplicate","submit #doc-duplicate":"duplicate"},duplicate:function(n){n.preventDefault();var i=this.$("#dup-id").val(),r=i.match(/^_design\//),o=i.replace(/^_design\//,""),s=r?"_design/"+e.utils.safeURLName(o):e.utils.safeURLName(i);this.hideModal(),t.triggerRouteEvent("duplicateDoc",s)},_showModal:function(){this.$(".bar").css({width:"0%"}),this.$(".progress").addClass("hide"),this.clear_error_msg(),this.$(".modal").modal(),$(".modal-backdrop").css("z-index",1025)},showModal:function(){var e=this._showModal,n=this.setDefaultIdValue,i=new t.UUID;i.fetch().then(function(){n(i.next()),e()})},setDefaultIdValue:function(e){this.$("#dup-id").val(e)}}),i.CodeEditor=t.View.extend({template:"addons/documents/templates/code_editor",className:"editor-content-page",events:{"click button.save-doc":"saveDoc","click button.delete":"destroy","click button.duplicate":"duplicate","click button.upload":"upload","click button.string-edit":"stringEditing","click a.js-back":"onClickGoBack","click .code-region":"focusOnLastLine"},loaderStyles:{color:"#ffffff",opacity:.15},initialize:function(e){this.database=e.database,_.bindAll(this)},onClickGoBack:function(e){e.preventDefault(),e.stopPropagation(),this.goBack()},goBack:function(){t.navigate(t.urls("allDocs","app",this.database.id))},destroy:function(){return this.model.isNewDoc()?(t.addNotification({msg:"This document has not been saved yet.",type:"warning",clear:!0}),void 0):(this.confirmDeleteModal.showModal(),void 0)},deleteDocument:function(){var e=this.model.database;this.model.destroy().then(function(){t.addNotification({msg:"Your document has been successfully deleted.",clear:!0}),t.navigate(t.urls("allDocs","app",e.id,"?limit=20"))},function(){t.addNotification({msg:"Failed to delete your document!",type:"error",clear:!0})})},upload:function(e){return e.preventDefault(),this.model.isNewDoc()?(t.addNotification({msg:"Please save the document before uploading an attachment.",type:"warning",clear:!0}),void 0):(this.uploadModal.showModal(),void 0)},duplicate:function(e){return this.model.isNewDoc()?(t.addNotification({msg:"Please save the document before duplicating it.",type:"warning",clear:!0}),void 0):(e.preventDefault(),this.duplicateModal.showModal(),void 0)},saveDoc:function(){var e=this,n=this.editor,i=this.getDocFromEditor();i?(t.addNotification({msg:"Saving document."}),this.model.save().then(function(){n.editSaved(),t.navigate(t.urls("document","app",e.database.safeID(),e.model.id))}).fail(function(e){var n=JSON.parse(e.responseText).reason;t.addNotification({msg:"Save failed: "+n,type:"error",fade:!1,clear:!0})})):this.model.validationError&&"Cannot change a documents id."===this.model.validationError?(t.addNotification({msg:"Cannot save. Cannot change a documents _id, try Clone Document instead!",type:"error",clear:!0}),delete this.model.validationError):t.addNotification({msg:"Please fix the JSON errors and try saving again.",type:"error",clear:!0})},getDocFromEditor:function(){if(!this.hasValidCode())return!1;var e=JSON.parse(this.editor.getValue());return this.model.clear().set(e,{validate:!0}),this.model.validationError?!1:this.model},beforeRender:function(){this.uploadModal=this.setView("#upload-modal",new i.UploadModal({model:this.model})),this.duplicateModal=this.setView("#duplicate-modal",new i.DuplicateDocModal({model:this.model})),this.confirmDeleteModal=this.setView("#delete-doc-modal",new n.ConfirmationModal({text:"Are you sure you want to delete this document?",action:this.deleteDocument})),this.stringEditModal=this.stringEditModal||this.setView("#string-edit-modal",new i.StringEditModal);var e=t.getExtensions("DocEditor:icons");_.each(e,function(e){this.insertView(".doc-editor-extension-icons",new e({doc:this.model}))},this)},updateValues:function(){this.model.changedAttributes()&&(t.addNotification({msg:"Document saved successfully.",type:"success",clear:!0}),this.editor.setValue(this.model.prettyJSON()))},establish:function(){var e=this.model.fetch(),n=$.Deferred(),i=_.bind(this.goBack,this);return e.then(function(){n.resolve()},function(e){404===e.status&&(t.addNotification({msg:"The document does not exist",type:"error",clear:!0}),i()),n.reject()}),n},hasValidCode:function(){var e=this.editor.getAnnotations();return 0===e.length},afterRender:function(){this.listenTo(this.model,"sync",this.updateValues),this.editor=new n.Editor({editorId:"editor-container",isFullPageEditor:!0,forceMissingId:!0,commands:[{name:"save",bindKey:{win:"Ctrl-S",mac:"Ctrl-S"},exec:function(){this.saveDoc()},readOnly:!0}]}),this.editor.render();var e=this.editor,i=this.model;this.editor.promise().then(function(){this.listenTo(e.editor,"change",function(){var n;try{n=JSON.parse(e.getValue())}catch(r){return}var o=["_id"];i.get("_rev")&&o.push("_rev"),_.isEmpty(_.difference(o,_.keys(n)))||(e.setReadOnly(!0),setTimeout(function(){e.setReadOnly(!1)},400),n=_.extend({_id:i.id,_rev:i.get("_rev")},n),e.setValue(JSON.stringify(n,null,"  ")),t.addNotification({type:"error",msg:"Cannot remove a document's id or revision.",clear:!0}))});var n=_.bind(this.showHideEditDocString,this);this.listenTo(e.editor,"changeSelection",function(e){n(e)}),this.listenTo(e.editor.session,"changeBackMarker",function(e){n(e)}),e.editor.focus()}.bind(this))},focusOnLastLine:function(e){var t=$(e.target).closest("#editor-container");if(0===t.length){this.editor.editor.focus();var n=this.editor.editor.getSession(),i=n.getLength();this.editor.editor.gotoLine(i,n.getLine(i-1).length)}},serialize:function(){return{doc:this.model,attachments:this.getAttachments()}},getAttachments:function(){var t=this.model.get("_attachments");return t?_.map(t,function(t,n){return{fileName:n,size:t.length,contentType:t.content_type,url:this.model.url()+"/"+e.utils.safeURLName(n)}},this):!1},determineStringEditMatch:function(){var e=this.editor.getSelectionStart().row,t=this.editor.getSelectionEnd().row;if(e>=0&&t>=0&&e===t&&this.editor.isRowExpanded(e)){var n=this.editor.getLine(e),i=n.match(/^([ \t]*)(["|'][a-zA-Z0-9_]*["|']: )?(["|'].*["|'],?[ \t]*)$/);if(i)return i}return null},showHideEditDocString:function(e){if(this.$("button.string-edit").attr("disabled","true"),!this.hasValidCode())return!1;var t=this.determineStringEditMatch(e);if(t){this.$("button.string-edit").removeAttr("disabled");var n=this.$("#editor-container").offset().top-2+this.editor.getRowHeight()*this.editor.documentToScreenRow(this.editor.getSelectionStart().row)-62;return this.$("button.string-edit").css("top",n+"px"),!0}return!1},stringEditing:function(e){if(e.preventDefault(),this.hasValidCode()){var t=this.determineStringEditMatch(e);if(t){var n=t[1]||"",i=t[2]||"",r=t[3],o="";","===r.substring(r.length-1)&&(r=r.substring(0,r.length-1),o=","),this.stringEditModal.openWin(this.editor,n,i,r,o)}}},cleanup:function(){this.editor&&this.editor.remove(),$("#dashboard").off("click")}}),i.StringEditModal=n.ModalView.extend({template:"addons/documents/templates/string_edit_modal",events:{"click #string-edit-save-btn":"saveString"},saveString:function(e){e.preventDefault();var t=this.subEditor.getValue();this.subEditor.editSaved(),this.editor.replaceCurrentLine(this.indent+this.hashKey+JSON.stringify(t)+this.comma+"\n"),this.hideModal()},_showModal:function(){this.$(".bar").css({width:"0%"}),this.$(".progress").addClass("hide"),this.clear_error_msg()},openWin:function(e,t,n,i,r){this.editor=e,this.indent=t,this.hashKey=n,this.$("#string-edit-header").text(n),this.subEditor.setValue(JSON.parse(i)),this.subEditor.editSaved(),this.comma=r,this.showModal()},afterRender:function(){var e=this;this.$(".modal").on("hide",function(t){return e.subEditor.edited&&!confirm("Close without saving changes?")?(t.preventDefault(),void 0):(e.subEditor.editSaved(),void 0)}),this.subEditor||(this.subEditor=new n.Editor({editorId:"string-editor-container",mode:"plain"}),this.subEditor.render().promise().then(function(){this.subEditor.configureFixedHeightEditor(35)}.bind(this)))},cleanup:function(){this.subEditor&&this.subEditor.remove()}}),i}),define("addons/documents/index-results/index-results.components.react",["app","api","react","addons/documents/index-results/stores","addons/documents/index-results/actions","addons/components/react-components.react","addons/documents/resources","plugins/prettify"],function(e,t,n,i,r,o){var s=n.addons.CSSTransitionGroup,a=i.indexResultsStore,l=n.createClass({displayName:"NoResultScreen",render:function(){return n.createElement("div",{className:"watermark-logo"},n.createElement("h3",null,this.props.text))}}),c=n.createClass({displayName:"ResultsScreen",onDoubleClick:function(e,n){t.navigate(n.url)},getUrlFragment:function(e){return this.props.isEditable?n.createElement("a",{href:e},n.createElement("i",{className:"fonticon-pencil"})):null},getDocumentList:function(){var e=function(){};return _.map(this.props.results,function(t,i){return n.createElement(o.Document,{key:t.id+i,doc:t,onDoubleClick:this.props.isEditable?this.onDoubleClick:e,keylabel:t.keylabel,docContent:t.content,checked:this.props.isSelected(t.id),header:t.header,docChecked:this.props.docChecked,isDeletable:t.isDeletable,docIdentifier:t.id},t.url?this.getUrlFragment("#"+t.url):t.url)},this)},render:function(){var e="view",t=null;return this.props.isLoading&&(t=n.createElement(o.LoadLines,null)),this.props.isListDeletable&&(e+=" show-select"),n.createElement("div",{className:e},t,n.createElement("div",{id:"doc-list"},n.createElement(s,{transitionName:"slow-fade"},this.getDocumentList())))},componentDidMount:function(){prettyPrint()},componentDidUpdate:function(){prettyPrint()}}),u=n.createClass({displayName:"ViewResultListController",getStoreState:function(){return{hasResults:a.hasResults(),results:a.getResults(),isListDeletable:a.isListDeletable(),isSelected:a.isSelected,isLoading:a.isLoading(),isEditable:a.isEditable(),textEmptyIndex:a.getTextEmptyIndex()}},isSelected:function(e){return this.state.isSelected(e)},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){a.on("change",this.onChange,this)},componentWillUnmount:function(){a.off("change",this.onChange)},onChange:function(){this.setState(this.getStoreState())},docChecked:function(e){r.selectDoc(e)},render:function(){var e=n.createElement(l,{text:this.state.textEmptyIndex});return this.state.hasResults&&(e=n.createElement(c,{isSelected:this.isSelected,isEditable:this.state.isEditable,isListDeletable:this.state.isListDeletable,docChecked:this.docChecked,isLoading:this.state.isLoading,results:this.state.results})),e}}),d={renderViewResultList:function(e){n.render(n.createElement(u,null),e)},removeViewResultList:function(e){n.unmountComponentAtNode(e)},List:u,ResultsScreen:c};return d}),define("addons/documents/pagination/pagination.react",["api","react","addons/documents/pagination/stores","addons/documents/pagination/actions"],function(e,t,n,i){var r=n.indexPaginationStore,o=t.createClass({displayName:"IndexPaginationController",getStoreState:function(){return{canShowPrevious:r.canShowPrevious(),canShowNext:r.canShowNext()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){r.on("change",this.onChange,this)},componentWillUnmount:function(){r.off("change",this.onChange)},onChange:function(){this.setState(this.getStoreState())},nextClicked:function(e){e.preventDefault(),e.stopPropagation(),this.state.canShowNext&&i.paginateNext()},previousClicked:function(e){e.preventDefault(),e.stopPropagation(),this.state.canShowPrevious&&i.paginatePrevious()},render:function(){var e="",n="";return this.state.canShowPrevious||(e="disabled"),this.state.canShowNext||(n="disabled"),t.createElement("ul",{className:"pagination"},t.createElement("li",{className:e},t.createElement("a",{id:"previous",onClick:this.previousClicked,className:"icon fonticon-left-open",href:"#","data-bypass":"true"})),t.createElement("li",{className:n},t.createElement("a",{id:"next",onClick:this.nextClicked,className:"icon fonticon-right-open",href:"#","data-bypass":"true"})))}}),s=t.createClass({displayName:"PerPageSelector",perPageChange:function(e){var t=parseInt(e.target.value,10);this.props.perPageChange(t)},render:function(){return t.createElement("div",{id:"per-page"},t.createElement("label",{htmlFor:"select-per-page",className:"drop-down inline"},"Per page:",t.createElement("select",{id:"select-per-page",onChange:this.perPageChange,value:""+this.props.perPage,className:"input-small"},t.createElement("option",{value:"5"},"5"),t.createElement("option",{value:"10"},"10"),t.createElement("option",{value:"20"},"20"),t.createElement("option",{value:"30"},"30"),t.createElement("option",{value:"50"},"50"),t.createElement("option",{value:"100"},"100"))))}}),a=t.createClass({displayName:"AllDocsNumberController",getStoreState:function(){return{totalRows:r.getTotalRows(),pageStart:r.getPageStart(),pageEnd:r.getPageEnd(),updateSeq:r.getUpdateSeq(),perPage:r.getPerPage()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){r.on("change",this.onChange,this)},componentWillUnmount:function(){r.off("change",this.onChange)},onChange:function(){this.setState(this.getStoreState())},pageNumber:function(){return 0===this.state.totalRows?t.createElement("p",null," Showing 0 documents. "):t.createElement("p",null,"Showing ",this.state.pageStart," - ",this.state.pageEnd)},updateSequence:function(){return this.state.updateSeq?t.createElement("span",null," Update Sequence: ",this.state.updateSeq," "):void 0},perPageChange:function(e){i.updatePerPage(e)},render:function(){return t.createElement("div",null,t.createElement("div",{className:"index-indicator"},this.pageNumber(),this.updateSequence()),t.createElement(s,{perPageChange:this.perPageChange,perPage:this.state.perPage}))}}),l=t.createClass({displayName:"Footer",render:function(){return t.createElement("footer",{className:"index-pagination pagination-footer"},t.createElement("div",{id:"documents-pagination"},t.createElement(o,null)),t.createElement("div",{id:"item-numbers"},t.createElement(a,null)))}});return{AllDocsNumber:a,PerPageSelector:s,Footer:l}}),define("addons/documents/header/header.react",["app","api","react","addons/documents/header/header.stores","addons/documents/header/header.actions","addons/components/react-components.react","addons/documents/index-results/stores","addons/documents/index-results/actions"],function(e,t,n,i,r,o,s,a){var l=n.addons.CSSTransitionGroup,c=i.headerBarStore;i.bulkDocumentHeaderStore;var u=s.indexResultsStore,d=o.ToggleHeaderButton,h=n.createClass({displayName:"BulkDocumentHeaderController",getStoreState:function(){return{canCollapseDocs:u.canCollapseDocs(),canUncollapseDocs:u.canUncollapseDocs(),canDeselectAll:u.canDeselectAll(),canSelectAll:u.canSelectAll()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){u.on("change",this.onChange,this)},componentWillUnmount:function(){u.off("change",this.onChange)},onChange:function(){this.setState(this.getStoreState())},render:function(){var e="header-control-box header-control-square ",t=this.state.canDeselectAll,i=this.state.canSelectAll,r=this.state.canCollapseDocs,o=this.state.canUncollapseDocs;return n.createElement("div",{className:"alternative-header"},n.createElement(d,{fonticon:"fonticon-select-all",toggleCallback:this.selectAllDocuments,innerClasses:"",containerClasses:e+"control-select-all",text:"",setEnabledClass:!i,disabled:!i,title:"Select all Documents"}),n.createElement(d,{fonticon:"fonticon-deselect-all",toggleCallback:this.deSelectAllDocuments,innerClasses:"",containerClasses:e+"control-de-select-all",text:"",setEnabledClass:!t,disabled:!t,title:"Deselect all Documents"}),n.createElement(d,{fonticon:"fonticon-collapse",toggleCallback:this.collapseDocuments,innerClasses:"",containerClasses:e+"control-collapse",text:"",setEnabledClass:!r,disabled:!r,title:"Collapse Selected"}),n.createElement(d,{fonticon:"fonticon-expand",toggleCallback:this.unCollapseDocuments,innerClasses:"",containerClasses:e+"control-expand",text:"",setEnabledClass:!o,disabled:!o,title:"Expand Selected"}),n.createElement(d,{fonticon:"fonticon-trash",toggleCallback:this.deleteSelected,innerClasses:"",containerClasses:e+"control-delete",text:"",title:"Delete selected"}),n.createElement(d,{fonticon:"",toggleCallback:this.cancelView,innerClasses:"",containerClasses:e+"control-cancel",text:"Cancel",title:"Switch to other view"}))},collapseDocuments:function(){r.collapseDocuments()},unCollapseDocuments:function(){r.unCollapseDocuments()},selectAllDocuments:function(){r.selectAllDocuments()},deSelectAllDocuments:function(){r.deSelectAllDocuments()},cancelView:function(){r.toggleHeaderControls()},deleteSelected:function(){a.deleteSelected()}}),p=n.createClass({displayName:"HeaderBarController",getStoreState:function(){return{isToggled:c.getToggleStatus(),toggleClass:c.getToggleClass()}},getInitialState:function(){return this.getStoreState()},onChange:function(){this.setState(this.getStoreState())},componentDidMount:function(){c.on("change",this.onChange,this)},componentWillUnmount:function(){c.off("change",this.onChange)},toggleCallback:function(){r.toggleHeaderControls()},componentDidUpdate:function(){var e=$("#api-navbar, #right-header");return this.state.isToggled?(e.hide(),void 0):(setTimeout(function(){e.velocity("fadeIn",250)},250),void 0)},render:function(){var e="header-control-box control-toggle-alternative-header "+this.state.toggleClass,t="",i=null;return this.state.isToggled&&(i=n.createElement(h,{key:1})),n.createElement("div",null,n.createElement("div",null,n.createElement(d,{fonticon:"fonticon-ok-circled",toggleCallback:this.toggleCallback,containerClasses:e,innerClasses:t,text:"Select"}),n.createElement(l,{transitionName:"fade"},i)))}}),f={BulkDocumentHeaderController:h,HeaderBarController:p,ToggleHeaderButton:d};return f}),define("addons/documents/designdocinfo/actiontypes",[],function(){return{DESIGN_DOC_MONITOR:"DESIGN_DOC_MONITOR",DESIGN_FETCHING:"DESIGN_FETCHING",DESIGN_REFRESH:"DESIGN_REFRESH"}}),define("addons/documents/designdocinfo/stores",["api","addons/documents/designdocinfo/actiontypes"],function(e,t){var n={};return n.DesignDocInfoStore=e.Store.extend({initialize:function(){this._isLoading=!0},isLoading:function(){return this._isLoading},getDdocName:function(){return this._ddocName},getDesignDocInfo:function(){return this._designDocInfo},monitorDesignDoc:function(e){this._isLoading=!1,this._designDocInfo=e.designDocInfo,this._ddocName=e.ddocName,this._intervalId=e.intervalId},getIntervalId:function(){return this._intervalId},getViewIndex:function(){return this._isLoading?{}:this._designDocInfo.get("view_index")},dispatch:function(e){switch(e.type){case t.DESIGN_FETCHING:this._isLoading=!0,this.triggerChange();break;case t.DESIGN_DOC_MONITOR:this.monitorDesignDoc(e.options),this.triggerChange();break;case t.DESIGN_DOC_REFRESH:this.triggerChange();break;default:return}}}),n.designDocInfoStore=new n.DesignDocInfoStore,n.designDocInfoStore.dispatchToken=e.dispatcher.register(n.designDocInfoStore.dispatch),n}),define("addons/documents/designdocinfo/actions",["app","api","addons/documents/designdocinfo/actiontypes","addons/documents/designdocinfo/stores"],function(e,t,n,i){var r=i.designDocInfoStore;return{fetchDesignDocInfo:function(e){var i=e.designDocInfo;t.dispatch({type:n.DESIGN_FETCHING}),i.fetch().then(function(){this.monitorDesignDoc({ddocName:e.ddocName,designDocInfo:i})}.bind(this))},monitorDesignDoc:function(e){e.intervalId=window.setInterval(_.bind(this.refresh,this),5e3),t.dispatch({type:n.DESIGN_DOC_MONITOR,options:e})},refresh:function(){r.getDesignDocInfo().fetch().then(function(){t.dispatch({type:n.DESIGN_REFRESH})})},stopRefresh:function(){window.clearInterval(r.getIntervalId())}}}),define("addons/documents/designdocinfo/components.react",["app","api","react","addons/documents/designdocinfo/stores","addons/documents/designdocinfo/actions","addons/components/react-components.react"],function(e,t,n,i,r,o){var s=i.designDocInfoStore,a=o.LoadLines,l=n.createClass({displayName:"DesignDocInfo",getStoreState:function(){return{viewIndex:s.getViewIndex(),isLoading:s.isLoading(),ddocName:s.getDdocName()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){s.on("change",this.onChange,this)},componentWillUnmount:function(){s.off("change",this.onChange),r.stopRefresh()},onChange:function(){this.setState(this.getStoreState())},render:function(){var t=e.helpers.formatSize,i=e.helpers.getDocUrl,r=this.state.viewIndex;return this.state.isLoading?n.createElement(a,null):n.createElement("div",{className:"metadata-page"},n.createElement("header",{className:"page-header"},n.createElement("h2",null,"Design Document Metadata: _design/",this.state.ddocName," "),n.createElement("p",{className:"help"},"Information about the specified design document, including the index, index size and current status of the design document and associated index information.",n.createElement("a",{href:i("DESIGN_DOC_METADATA"),className:"help-link",target:"_blank","data-bypass":"true"},n.createElement("i",{className:"icon-question-sign"})))),n.createElement("div",{className:"row-fluid"},n.createElement("div",{className:"span6"},n.createElement("header",null,n.createElement("h3",null,"Status")),n.createElement("dl",null,n.createElement("dt",null,"Updater"),n.createElement("dd",null,r.updater_running),n.createElement("dt",null,"Compact"),n.createElement("dd",null,r.compact_running),n.createElement("dt",null,"Waiting Commit"),n.createElement("dd",null,r.waiting_commit),n.createElement("dt",null,"Waiting Clients"),n.createElement("dd",null,r.waiting_clients),n.createElement("dt",null,"Update Sequence"),n.createElement("dd",null,r.update_seq),n.createElement("dt",null,"Purge Sequence"),n.createElement("dd",null,r.purge_seq))),n.createElement("div",{className:"span6"},n.createElement("header",null,n.createElement("h3",null,"Information")),n.createElement("dl",null,n.createElement("dt",null,"Language"),n.createElement("dd",null,r.language),n.createElement("dt",null,"Signature"),n.createElement("dd",null,r.signature)),n.createElement("header",null,n.createElement("h3",null,"Storage")),n.createElement("dl",null,n.createElement("dt",null,"Data Size"),n.createElement("dd",null,t(r.data_size)),n.createElement("dt",null,"Disk Size"),n.createElement("dd",null,t(r.disk_size))))))}});return{DesignDocInfo:l}}),define("addons/documents/routes-documents",["app","api","addons/documents/shared-routes","addons/documents/views","addons/documents/changes/components.react","addons/documents/changes/actions","addons/documents/views-doceditor","addons/databases/base","addons/documents/resources","addons/fauxton/components","addons/documents/pagination/stores","addons/documents/index-results/actions","addons/documents/index-results/index-results.components.react","addons/documents/pagination/pagination.react","addons/documents/header/header.react","addons/documents/header/header.actions","addons/documents/sidebar/actions","addons/documents/designdocinfo/actions","addons/documents/designdocinfo/components.react"],function(e,t,n,i,r,o,s,a,l,c,u,d,h,p,f,g,m,v,y){var b=n.extend({layout:"with_tabs_sidebar",routes:{"database/:database/_all_docs(:extra)":{route:"allDocs",roles:["fx_loggedIn"]},"database/:database/_design/:ddoc/_info":{route:"designDocMetadata",roles:["fx_loggedIn"]},"database/:database/_changes":"changes"},events:{"route:reloadDesignDocs":"reloadDesignDocs"},initialize:function(e,t,n){this.initViews(n[0]),this.listenToLookaheadTray()},establish:function(){return[this.designDocs.fetch({reset:!0}),this.allDatabases.fetchOnce()]},initViews:function(e){this.databaseName=e,this.database=new a.Model({id:this.databaseName}),this.allDatabases=this.getAllDatabases(),this.createDesignDocsCollection(),this.rightHeader=this.setView("#right-header",new i.Views.RightAllDocsHeader({database:this.database})),this.addLeftHeader(),this.addSidebar()},designDocMetadata:function(t,n){this.removeComponent("#footer"),this.removeComponent("#react-headerbar"),this.removeComponent("#dashboard-upper-content");var i=new l.DdocInfo({_id:"_design/"+n},{database:this.database});v.fetchDesignDocInfo({ddocName:n,designDocInfo:i}),this.setComponent("#dashboard-lower-content",y.DesignDocInfo),m.setSelectedTab(e.utils.removeSpecialCharacters(n)+"_metadata"),this.leftheader.updateCrumbs(this.getCrumbs(this.database)),this.rightHeader.hideQueryOptions(),this.apiUrl=[i.url("apiurl"),i.documentation()]},allDocs:function(e,t){var n,r=this.createParams(t),o=r.urlParams,s=r.docParams;g.resetHeaderController(),this.setComponent("#react-headerbar",f.HeaderBarController),this.setComponent("#footer",p.Footer),this.leftheader.updateCrumbs(this.getCrumbs(this.database)),this.database.buildAllDocs(s),n=this.database.allDocs;var a="all-docs";s.startkey&&s.startkey.indexOf("_design")>-1&&(a="design-docs"),m.setSelectedTab(a),this.removeComponent("#dashboard-upper-content"),s||(s={}),d.newResultsList({collection:n,isListDeletable:!0,textEmptyIndex:"No Document Created Yet!",bulkCollection:i.BulkDeleteDocCollection}),this.database.allDocs.paging.pageSize=u.indexPaginationStore.getPerPage(),this.setComponent("#dashboard-lower-content",h.List),this.apiUrl=[this.database.allDocs.urlRef("apiurl",o),this.database.allDocs.documentation()],this.rightHeader.resetQueryOptions({queryParams:o}),this.rightHeader.showQueryOptions()
},reloadDesignDocs:function(e){e&&e.selectedTab&&m.setSelectedTab(e.selectedTab)},changes:function(){o.initChanges({databaseName:this.database.id}),this.setComponent("#dashboard-upper-content",r.ChangesHeaderController),this.setComponent("#dashboard-lower-content",r.ChangesController),this.removeComponent("#footer"),this.removeComponent("#react-headerbar"),this.viewEditor&&this.viewEditor.remove(),m.setSelectedTab("changes"),this.leftheader.updateCrumbs(this.getCrumbs(this.database)),this.rightHeader.hideQueryOptions(),this.apiUrl=function(){return[t.urls("changes","apiurl",this.database.id,""),this.database.documentation()]}},cleanup:function(){this.stopListening(t.Events,"lookaheadTray:update",this.onSelectDatabase),t.RouteObject.prototype.cleanup.apply(this)}});return b}),define("addons/documents/routes-doc-editor",["app","api","addons/documents/helpers","addons/documents/views","addons/documents/views-doceditor","addons/databases/base"],function(e,t,n,i,r,o){var s=t.RouteObject.extend({layout:"doc_editor",disableLoader:!0,selectedHeader:"Databases",initialize:function(e,t,n){this.databaseName=n[0],this.docID=n[1]||"new",this.database=this.database||new o.Model({id:this.databaseName}),this.doc=new i.Doc({_id:this.docID},{database:this.database})},routes:{"database/:database/:doc/code_editor":"code_editor","database/:database/:doc":"code_editor","database/:database/_design/:ddoc":"showDesignDoc"},events:{"route:reRenderDoc":"reRenderDoc","route:duplicateDoc":"duplicateDoc"},crumbs:function(){var e=n.getPreviousPageForDoc(this.database,this.wasCloned);return[{type:"back",link:e},{name:this.docID,link:"#"}]},code_editor:function(e,t){this.databaseName!==e&&(this.databaseName=e,this.database=new o.Model({id:this.databaseName})),this.docID!==t&&(this.docID=t,this.doc=new i.Doc({_id:this.docID},{database:this.database})),this.docView=this.setView("#dashboard-content",new r.CodeEditor({model:this.doc,database:this.database,previousPage:n.getPreviousPageForDoc(this.database)}))},showDesignDoc:function(e,t){this.code_editor(e,"_design/"+t)},reRenderDoc:function(){this.docView.forceRender()},duplicateDoc:function(n){var i=this.doc,r=this.docView,o=this.database;this.docID=n;var s=this;i.copy(n).then(function(){i.set({_id:n}),s.wasCloned=!0,r.forceRender(),t.navigate("/database/"+o.safeID()+"/"+e.utils.safeURLName(n),{trigger:!0}),t.addNotification({msg:"Document has been duplicated."})},function(e){var n="Could not duplicate document, reason: "+e.responseText+".";t.addNotification({msg:n,type:"error"})})},apiUrl:function(){return[this.doc.url("apiurl"),this.doc.documentation()]}}),a=s.extend({initialize:function(e,t,n){var r=n[0];this.database=this.database||new o.Model({id:r}),this.doc=new i.NewDoc(null,{database:this.database})},crumbs:function(){var e=n.getPreviousPageForDoc(this.database);return[{type:"back",link:e},{name:"New Document",link:"#"}]},routes:{"database/:database/new":"code_editor"},selectedHeader:"Databases"});return{NewDocEditorRouteObject:a,DocEditorRouteObject:s}}),define("addons/documents/index-editor/actiontypes",[],function(){return{EDIT_INDEX:"EDIT_INDEX",EDIT_NEW_INDEX:"EDIT_NEW_INDEX",SELECT_REDUCE_CHANGE:"SELECT_REDUCE_CHANGE",VIEW_SAVED:"VIEW_SAVED",VIEW_CREATED:"VIEW_CREATED",DESIGN_DOC_CHANGE:"DESIGN_DOC_CHANGE",NEW_DESIGN_DOC:"NEW_DESIGN_DOC",VIEW_NAME_CHANGE:"VIEW_NAME_CHANGE",VIEW_UPDATE_DESIGN_DOC:"VIEW_UPDATE_DESIGN_DOC",VIEW_UPDATE_MAP_CODE:"VIEW_UPDATE_MAP_CODE",VIEW_UPDATE_REDUCE_CODE:"VIEW_UPDATE_REDUCE_CODE"}}),define("addons/documents/index-editor/stores",["api","addons/documents/index-editor/actiontypes"],function(e,t){var n={};return n.IndexEditorStore=e.Store.extend({defaultMap:"function (doc) {\n  emit(doc._id, 1);\n}",defaultReduce:"function (keys, values, rereduce) {\n  if (rereduce) {\n    return sum(values);\n  } else {\n    return values.length;\n  }\n}",initialize:function(){this._designDocs=[],this._isLoading=!0,this._view={reduce:"",map:this.defaultMap},this._database={id:"0"}},editIndex:function(e){this._database=e.database,this._newView=e.newView,this._newDesignDoc=e.newDesignDoc||!1,this._viewName=e.viewName||"viewName",this._designDocs=e.designDocs,this._designDocId=e.designDocId,this._designDocChanged=!1,this._viewNameChanged=!1,this.setView(),this._isLoading=!1},isLoading:function(){return this._isLoading},setView:function(){this._view=this._newView||this._newDesignDoc?{reduce:"",map:this.defaultMap}:this.getDesignDoc().get("views")[this._viewName]},getDatabase:function(){return this._database},getMap:function(){return this._view.map},setMap:function(e){this._view.map=e},getReduce:function(){return this._view.reduce},setReduce:function(e){this._view.reduce=e},getDesignDoc:function(){return this._designDocs.find(function(e){return this._designDocId==e.id},this).dDocModel()},getDesignDocs:function(){return this._designDocs.filter(function(e){return!e.isMangoDoc()})},getDesignDocId:function(){return this._designDocId},setDesignDocId:function(e,t){this._designDocId=e,this._newDesignDoc=t,this._designDocChanged=!0},hasDesignDocChanged:function(){return this._designDocChanged},isNewDesignDoc:function(){return this._newDesignDoc},isNewView:function(){return this._newView},getViewName:function(){return this._viewName},setViewName:function(e){this._viewName=e,this._viewNameChanged=!0},hasCustomReduce:function(){return this.hasReduce()?!_.contains(this.builtInReduces(),this.getReduce()):!1},hasReduce:function(){return this.getReduce()?!0:!1},hasViewNameChanged:function(){return this._viewNameChanged},builtInReduces:function(){return["_sum","_count","_stats"]},reduceSelectedOption:function(){return this.hasReduce()?this.hasCustomReduce()?"CUSTOM":this.getReduce():"NONE"},reduceOptions:function(){return this.builtInReduces().concat(["CUSTOM","NONE"])},updateReduceFromSelect:function(e){return"NONE"===e?(this.setReduce(null),void 0):"CUSTOM"===e?(this.setReduce(this.defaultReduce),void 0):(this.setReduce(e),void 0)},updateDesignDoc:function(e){this._designDocs.add(e,{merge:!0})},dispatch:function(e){switch(e.type){case t.EDIT_INDEX:this.editIndex(e.options),this.triggerChange();break;case t.VIEW_NAME_CHANGE:this.setViewName(e.name),this.triggerChange();break;case t.EDIT_NEW_INDEX:this.editIndex(e.options),this.triggerChange();break;case t.SELECT_REDUCE_CHANGE:this.updateReduceFromSelect(e.reduceSelectedOption),this.triggerChange();break;case t.DESIGN_DOC_CHANGE:this.setDesignDocId(e.designDocId,e.newDesignDoc),this.triggerChange();break;case t.NEW_DESIGN_DOC:this.setDesignDocId("",!0),this.triggerChange();break;case t.VIEW_SAVED:this.triggerChange();break;case t.VIEW_CREATED:this.triggerChange();break;case t.VIEW_UPDATE_DESIGN_DOC:this.updateDesignDoc(e.designDoc),this.setView(),this.triggerChange();break;case t.VIEW_UPDATE_MAP_CODE:this.setMap(e.code),this.triggerChange();break;case t.VIEW_UPDATE_REDUCE_CODE:this.setReduce(e.code),this.triggerChange();break;default:return}}}),n.indexEditorStore=new n.IndexEditorStore,n.indexEditorStore.dispatchToken=e.dispatcher.register(n.indexEditorStore.dispatch),n}),define("addons/documents/index-editor/actions",["app","api","addons/documents/resources","addons/documents/index-editor/actiontypes","addons/documents/index-results/actions"],function(e,t,n,i,r){var o={createNewDesignDoc:function(e,t){var i={_id:e,views:{}};return new n.Doc(i,{database:t})},findDesignDoc:function(e,t){return _.find(e,function(e){return e.id===t}).dDocModel()}};return{helpers:o,selectReduceChanged:function(e){t.dispatch({type:i.SELECT_REDUCE_CHANGE,reduceSelectedOption:e})},newDesignDoc:function(){t.dispatch({type:i.NEW_DESIGN_DOC})},designDocChange:function(e,n){t.dispatch({type:i.DESIGN_DOC_CHANGE,newDesignDoc:n,designDocId:e})},changeViewName:function(e){t.dispatch({type:i.VIEW_NAME_CHANGE,name:e})},editIndex:function(e){t.dispatch({type:i.EDIT_INDEX,options:e})},fetchDesignDocsBeforeEdit:function(e){e.designDocs.fetch({reset:!0}).then(function(){this.editIndex(e)}.bind(this))},saveView:function(n){var s,a=n.designDocs;if(_.isUndefined(n.designDocId))return t.addNotification({msg:"Please enter a design doc name.",type:"error",clear:!0}),void 0;s=n.newDesignDoc?o.createNewDesignDoc(n.designDocId,n.database):o.findDesignDoc(a,n.designDocId);var l=s.setDdocView(n.viewName,n.map,n.reduce);l&&(t.addNotification({msg:"Saving View...",type:"info",clear:!0}),s.save().then(function(){if(t.addNotification({msg:"View Saved.",type:"success",clear:!0}),_.any([n.designDocChanged,n.hasViewNameChanged,n.newDesignDoc,n.newView])){t.dispatch({type:i.VIEW_SAVED});var o=t.urls("view","showNewlySavedView",n.database.safeID(),s.safeID(),e.utils.safeURLName(n.viewName));t.navigate(o,{trigger:!0})}else this.updateDesignDoc(s);r.reloadResultsList()}.bind(this)))},updateDesignDoc:function(e){t.dispatch({type:i.VIEW_UPDATE_DESIGN_DOC,designDoc:e.toJSON()})},deleteView:function(e){var n,i=e.viewName,r=e.database,s=o.findDesignDoc(e.designDocs,e.designDocId);s.removeDdocView(i),n=s.hasViews()?s.save():s.destroy(),n.then(function(){var e=t.urls("allDocs","app",r.safeID(),"?limit="+t.constants.DATABASES.DOCUMENT_LIMIT);t.navigate(e),t.triggerRouteEvent("reloadDesignDocs")})},updateMapCode:function(e){t.dispatch({type:i.VIEW_UPDATE_MAP_CODE,code:e})},updateReduceCode:function(e){t.dispatch({type:i.VIEW_UPDATE_REDUCE_CODE,code:e})}}}),define("addons/documents/index-editor/components.react",["app","api","react","addons/documents/index-editor/stores","addons/documents/index-editor/actions","addons/fauxton/components","addons/components/react-components.react"],function(e,t,n,i,r,o,s){var a=i.indexEditorStore,l=e.helpers.getDocUrl,c=s.StyledSelect,u=s.CodeEditorPanel,d=s.PaddedBorderedBox,h=s.ConfirmButton,p=s.LoadLines,f=n.createClass({displayName:"DesignDocSelector",getStoreState:function(){return{designDocId:a.getDesignDocId(),designDocs:a.getDesignDocs(),newDesignDoc:a.isNewDesignDoc()}},getInitialState:function(){return this.getStoreState()},getNewDesignDocInput:function(){return n.createElement("div",{className:"new-ddoc-section"},n.createElement("div",{className:"new-ddoc-input"},n.createElement("input",{value:this.state.designDoc,type:"text",id:"new-ddoc",onChange:this.onDesignDocChange,placeholder:"Enter a Design Doc name"})))},onDesignDocChange:function(e){r.designDocChange("_design/"+e.target.value,!0)},getDesignDocOptions:function(){return this.state.designDocs.map(function(e,t){return n.createElement("option",{key:t,value:e.id},e.id)})},getSelectContent:function(){var e=this.getDesignDocOptions();return n.createElement("optgroup",{label:"Select a document"},n.createElement("option",{value:"new"},"New Design Document"),e)},render:function(){var e,t=this.state.designDocId;return this.state.newDesignDoc&&(e=this.getNewDesignDocInput(),t="new"),n.createElement("div",{className:"new-ddoc-section"},n.createElement(d,null,n.createElement("div",{className:"control-group design-doc-group"},n.createElement("div",{className:"pull-left"},n.createElement("label",{htmlFor:"ddoc"},n.createElement("strong",null,"Design Document"),n.createElement("a",{className:"help-link","data-bypass":"true",href:l("DESIGN_DOCS"),target:"_blank"},n.createElement("i",{className:"icon-question-sign"}))),n.createElement(c,{selectContent:this.getSelectContent(),selectChange:this.selectChange,selectId:"ddoc",selectValue:t})),n.createElement("div",{className:"pull-left"},e))))},selectChange:function(e){var t=e.target.value;"new"===t?r.newDesignDoc():r.designDocChange(t,!1)},onChange:function(){this.setState(this.getStoreState())},componentDidMount:function(){a.on("change",this.onChange,this)},componentWillUnmount:function(){a.off("change",this.onChange)}}),g=n.createClass({displayName:"ReduceEditor",getStoreState:function(){return{reduce:a.getReduce(),reduceOptions:a.reduceOptions(),reduceSelectedOption:a.reduceSelectedOption(),hasCustomReduce:a.hasCustomReduce(),hasReduce:a.hasReduce()}},getInitialState:function(){return this.getStoreState()},getOptionsList:function(){return _.map(this.state.reduceOptions,function(e,t){return n.createElement("option",{key:t,value:e},e)},this)},getReduceValue:function(){return this.state.hasReduce?this.state.hasCustomReduce?this.refs.reduceEditor.getValue():this.state.reduce:null},getEditor:function(){return this.refs.reduceEditor.getEditor()},render:function(){var e,t=this.getOptionsList();return this.state.hasCustomReduce&&(e=n.createElement(u,{ref:"reduceEditor",id:"reduce-function",title:"Custom Reduce function",defaultCode:this.state.reduce,blur:this.updateReduceCode})),n.createElement("div",null,n.createElement("div",{className:"control-group"},n.createElement("label",{htmlFor:"reduce-function-selector"},n.createElement("strong",null,"Reduce (optional)"),n.createElement("a",{className:"help-link","data-bypass":"true",href:l("REDUCE_FUNCS"),target:"_blank"},n.createElement("i",{className:"icon-question-sign"}))),n.createElement(c,{selectContent:t,selectChange:this.selectChange,selectId:"reduce-function-selector",selectValue:this.state.reduceSelectedOption})),e)},updateReduceCode:function(e){r.updateReduceCode(e)},selectChange:function(e){r.selectReduceChanged(e.target.value)},onChange:function(){this.setState(this.getStoreState())},componentDidMount:function(){a.on("change",this.onChange,this)},componentWillUnmount:function(){a.off("change",this.onChange)}}),m=n.createClass({displayName:"DeleteView",getStoreState:function(){return{isNewView:a.isNewView(),designDocs:a.getDesignDocs(),viewName:a.getViewName(),designDocId:a.getDesignDocId(),database:a.getDatabase()}},getInitialState:function(){return this.getStoreState()},render:function(){return this.state.isNewView?null:n.createElement("button",{onClick:this.deleteView,className:"btn btn-danger delete"},n.createElement("i",{className:"icon fonticon-cancel-circled"}),"Delete")},deleteView:function(e){e.preventDefault(),confirm("Are you sure you want to delete this view?")&&r.deleteView({designDocs:this.state.designDocs,viewName:this.state.viewName,designDocId:this.state.designDocId,database:this.state.database})}}),v=n.createClass({displayName:"Editor",getStoreState:function(){return{hasViewNameChanged:a.hasViewNameChanged(),database:a.getDatabase(),isNewView:a.isNewView(),viewName:a.getViewName(),designDocs:a.getDesignDocs(),hasDesignDocChanged:a.hasDesignDocChanged(),newDesignDoc:a.isNewDesignDoc(),designDocId:a.getDesignDocId(),map:a.getMap(),isLoading:a.isLoading()}},getInitialState:function(){return this.getStoreState()},onChange:function(){this.setState(this.getStoreState())},componentDidMount:function(){a.on("change",this.onChange,this)},componentWillUnmount:function(){a.off("change",this.onChange)},hasValidCode:function(){return _.every(["mapEditor","reduceEditor"],function(e){if("reduceEditor"===e&&!a.hasCustomReduce())return!0;var t=this.refs[e].getEditor();return t.hadValidCode()},this)},saveView:function(e){return e.preventDefault(),this.hasValidCode()?(r.saveView({database:this.state.database,newView:this.state.isNewView,viewName:this.state.viewName,designDocId:this.state.designDocId,newDesignDoc:this.state.newDesignDoc,designDocChanged:this.state.hasDesignDocChanged,hasViewNameChanged:this.state.hasViewNameChanged,map:this.refs.mapEditor.getValue(),reduce:this.refs.reduceEditor.getReduceValue(),designDocs:this.state.designDocs}),void 0):(t.addNotification({msg:"Please fix the Javascript errors and try again.",type:"error",clear:!0}),void 0)},viewChange:function(e){r.changeViewName(e.target.value)},updateMapCode:function(e){r.updateMapCode(e)},getCompactButton:function(){var e=t.getExtensions("view-editor:compaction-button");if(_.isEmpty(e))return null;var i=e[0];return n.createElement(i,{database:this.state.database,designDoc:this.state.designDocId})},render:function(){if(this.state.isLoading)return n.createElement("div",{className:"define-view"},n.createElement(p,null));var e="#/"+t.urls("allDocs","app",this.state.database.id,"");return n.createElement("div",{className:"define-view"},n.createElement(d,null,"Views are the primary tools for querying and reporting."),n.createElement(d,null,n.createElement("strong",null,"Database"),n.createElement("div",{className:"db-title"},n.createElement("a",{href:e},this.state.database.id))),n.createElement("form",{className:"form-horizontal view-query-save",onSubmit:this.saveView},n.createElement(f,null),n.createElement("div",{className:"control-group"},n.createElement(d,null,n.createElement("label",{htmlFor:"index-name"},n.createElement("strong",null,"Index name"),n.createElement("a",{className:"help-link","data-bypass":"true",href:l("VIEW_FUNCS"),target:"_blank"},n.createElement("i",{className:"icon-question-sign"}))),n.createElement("input",{type:"text",id:"index-name",value:this.state.viewName,onChange:this.viewChange,placeholder:"Index name"}))),n.createElement("div",{className:"control-group"},n.createElement(d,null,n.createElement(u,{id:"map-function",ref:"mapEditor",title:"Map function",docLink:l("MAP_FUNCS"),blur:this.updateMapCode,defaultCode:this.state.map}))),n.createElement(d,null,n.createElement(g,{ref:"reduceEditor"})),n.createElement("div",{className:"padded-box"},n.createElement("div",{className:"control-group"},n.createElement(h,{id:"save-view",text:"Save & Build Index"}),n.createElement(m,null),this.getCompactButton()))))}}),y=n.createClass({displayName:"EditorController",render:function(){return n.createElement("div",{className:"editor-wrapper span5 scrollable"},n.createElement(v,null))}}),b={EditorController:y,ReduceEditor:g,Editor:v,DesignDocSelector:f,StyledSelect:c};return b}),define("addons/documents/routes-index-editor",["app","api","addons/documents/helpers","addons/documents/shared-routes","addons/documents/views","addons/documents/index-editor/components.react","addons/documents/index-editor/actions","addons/databases/base","addons/fauxton/components","addons/documents/pagination/stores","addons/documents/index-results/actions","addons/documents/index-results/index-results.components.react","addons/documents/pagination/pagination.react"],function(e,t,n,i,r,o,s,a,l,c,u,d,h){var p=i.extend({layout:"two_pane",routes:{"database/:database/new_view":"newViewEditor","database/:database/new_view/:designDoc":"newViewEditor","database/:database/_design/:ddoc/_view/:view":{route:"viewFn",roles:["fx_loggedIn"]}},initialize:function(e,t,n){var i=n[0];this.databaseName=i,this.database=new a.Model({id:i}),this.allDatabases=new a.List,this.createDesignDocsCollection()},establish:function(){return[this.allDatabases.fetchOnce()]},viewFn:function(e,i,a){var p=this.createParams(),f=p.urlParams,g=p.docParams,m=decodeURIComponent(i);this.rightHeader=this.setView("#right-header",new r.Views.RightAllDocsHeader({database:this.database}));var v=t.urls("allDocs","app",this.database.safeID(),"?limit="+t.constants.DATABASES.DOCUMENT_LIMIT);this.breadcrumbs=this.setView("#breadcrumbs",new l.Breadcrumbs({toggleDisabled:!0,crumbs:[{type:"back",link:n.getPreviousPage(this.database)},{name:this.database.id,link:v}]})),a=a.replace(/\?.*$/,""),this.setComponent("#footer",h.Footer),this.indexedDocs=new r.IndexCollection(null,{database:this.database,design:m,view:a,params:g,paging:{pageSize:c.indexPaginationStore.getPerPage()}}),u.newResultsList({collection:this.indexedDocs,isListDeletable:!1,bulkCollection:r.BulkDeleteDocCollection}),s.fetchDesignDocsBeforeEdit({viewName:a,newView:!1,database:this.database,designDocs:this.designDocs,designDocId:"_design/"+m}),this.setComponent("#left-content",o.EditorController),this.setComponent("#dashboard-lower-content",d.List),this.apiUrl=function(){return[this.indexedDocs.urlRef(f),t.constants.DOC_URLS.GENERAL]},this.showQueryOptions(f,i,a)},newViewEditor:function(i,a){e.getParams();var c,h=!0;a&&(c="_design/"+a,h=!1);var p=t.urls("allDocs","app",this.database.safeID(),"?limit="+t.constants.DATABASES.DOCUMENT_LIMIT);this.breadcrumbs=this.setView("#breadcrumbs",new l.Breadcrumbs({toggleDisabled:!0,crumbs:[{type:"back",link:n.getPreviousPage(this.database)},{name:"Create new index",link:p}]})),s.fetchDesignDocsBeforeEdit({viewName:"new-view",newView:!0,database:this.database,designDocs:this.designDocs,designDocId:c,newDesignDoc:h}),this.setComponent("#left-content",o.EditorController),this.setComponent("#dashboard-lower-content",d.List),u.newResultsList({collection:[],isListDeletable:!1,bulkCollection:r.BulkDeleteDocCollection})}});return p}),define("addons/documents/mango/mango.actiontypes",[],function(){return{MANGO_SET_DB:"MANGO_SET_DB",MANGO_NEW_QUERY_FIND_CODE_FROM_FIELDS:"MANGO_NEW_QUERY_FIND_CODE_FROM_FIELDS",MANGO_NEW_QUERY_FIND_CODE:"MANGO_NEW_QUERY_FIND_CODE",MANGO_NEW_QUERY_CREATE_INDEX_CODE:"MANGO_NEW_QUERY_CREATE_INDEX_CODE",MANGO_NEW_AVAILABLE_INDEXES:"MANGO_NEW_AVAILABLE_INDEXES",MANGO_RESET:"MANGO_RESET"}}),define("addons/documents/mango/mango.stores",["api","addons/documents/mango/mango.actiontypes"],function(e,t){var n={index:{fields:["_id"]},type:"json"},i={selector:{_id:{$gt:null}}},r={};return r.MangoStore=e.Store.extend({initialize:function(){this._queryFindCode=i,this._queryIndexCode=n,this._queryFindCodeChanged=!1,this._availableIndexes=[],this._getLoadingIndexes=!0},getQueryIndexCode:function(){return this.formatCode(this._queryIndexCode)},setQueryIndexCode:function(e){this._queryIndexCode=e.code},getQueryFindCode:function(){return this.formatCode(this._queryFindCode)},setQueryFindCode:function(e){this._queryFindCode=e.code},getLoadingIndexes:function(){return this._getLoadingIndexes},setLoadingIndexes:function(e){this._getLoadingIndexes=e.isLoading},formatCode:function(e){return JSON.stringify(e,null,"  ")},newQueryFindCodeFromFields:function(e){var t,n=e.fields,i=JSON.parse(JSON.stringify(this._queryFindCode));n&&(t=n.reduce(function(e,t){return e[t]={$gt:null},e},{}),i.selector=t,this._queryFindCode=i,this._queryFindCodeChanged=!0)},getQueryFindCodeChanged:function(){return this._queryFindCodeChanged},setDatabase:function(e){this._database=e.database},getDatabase:function(){return this._database},setAvailableIndexes:function(e){this._availableIndexes=e.indexList},getAvailableQueryIndexes:function(){return this._availableIndexes.filter(function(e){return-1!==["json","special"].indexOf(e.get("type"))})},getAvailableAdditionalIndexes:function(){var t=e.getExtensions("mango:additionalIndexes")[0];if(t)return this._availableIndexes.filter(function(e){return-1!==e.get("type").indexOf(t.type)})},dispatch:function(e){switch(e.type){case t.MANGO_SET_DB:this.setDatabase(e.options),this.triggerChange();break;case t.MANGO_NEW_QUERY_CREATE_INDEX_CODE:this.setQueryIndexCode(e.options),this.triggerChange();break;case t.MANGO_NEW_QUERY_FIND_CODE_FROM_FIELDS:this.newQueryFindCodeFromFields(e.options),this.triggerChange();break;case t.MANGO_NEW_QUERY_FIND_CODE:this.setQueryFindCode(e.options),this.triggerChange();break;case t.MANGO_NEW_AVAILABLE_INDEXES:this.setAvailableIndexes(e.options),this.triggerChange();break;case t.MANGO_RESET:this.setLoadingIndexes(e.options),this.triggerChange()}}}),r.mangoStore=new r.MangoStore,r.mangoStore.dispatchToken=e.dispatcher.register(r.mangoStore.dispatch),r}),define("addons/documents/mango/mango.actions",["app","api","addons/documents/resources","addons/documents/mango/mango.actiontypes","addons/documents/mango/mango.stores","addons/documents/pagination/stores","addons/documents/index-results/actions"],function(e,t,n,i,r,o,s){return r.mangoStore,{setDatabase:function(e){t.dispatch({type:i.MANGO_SET_DB,options:e})},newQueryFindCode:function(e){t.dispatch({type:i.MANGO_NEW_QUERY_FIND_CODE,options:e})},newQueryCreateIndexCode:function(e){t.dispatch({type:i.MANGO_NEW_QUERY_CREATE_INDEX_CODE,options:e})},saveQuery:function(e){var r=JSON.parse(e.queryCode),a=new n.MangoIndex(r,{database:e.database});t.addNotification({msg:"Saving Index for Query...",type:"info",clear:!0}),a.save().then(function(){var a="#"+t.urls("mango","query-app",e.database.safeID());t.dispatch({type:i.MANGO_NEW_QUERY_FIND_CODE_FROM_FIELDS,options:{fields:r.index.fields}});var l=new n.MangoIndexCollection(null,{database:e.database,params:null,paging:{pageSize:o.indexPaginationStore.getPerPage()}});this.getIndexList({indexList:l}).then(function(){s.reloadResultsList(),t.addNotification({msg:'Index is ready for querying. <a href="'+a+'">Run a Query.</a>',type:"success",clear:!0,escape:!1})}.bind(this))}.bind(this)).fail(function(e){t.addNotification({msg:e.responseJSON.reason,type:"error",clear:!0})})},mangoResetIndexList:function(e){t.dispatch({type:i.MANGO_RESET,options:e})},getIndexList:function(e){return t.dispatch({type:i.MANGO_NEW_AVAILABLE_INDEXES,options:e}),e.indexList.fetch({reset:!0}).then(function(){this.mangoResetIndexList({isLoading:!1})}.bind(this),function(){t.addNotification({msg:"Bad request!",type:"error",clear:!0})})}}}),define("addons/documents/mango/mango.components.react",["app","api","react","addons/documents/mango/mango.stores","addons/documents/mango/mango.actions","addons/components/react-components.react","addons/documents/index-results/actions","addons/documents/mango/mango.helper","plugins/prettify"],function(e,t,n,i,r,o,s,a){var l=i.mangoStore,c=e.helpers.getDocUrl,u=o.PaddedBorderedBox,d=o.CodeEditorPanel,h=o.ConfirmButton,p=n.createClass({displayName:"MangoQueryEditorController",getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{queryCode:l.getQueryFindCode(),database:l.getDatabase(),changedQuery:l.getQueryFindCodeChanged(),availableIndexes:l.getAvailableQueryIndexes(),additionalIndexes:l.getAvailableAdditionalIndexes(),isLoading:l.getLoadingIndexes()}},onChange:function(){this.setState(this.getStoreState())},componentDidUpdate:function(){prettyPrint()},componentDidMount:function(){prettyPrint(),l.on("change",this.onChange,this)},componentWillUnmount:function(){l.off("change",this.onChange)},getMangoEditor:function(){return this.refs.mangoEditor},render:function(){return this.state.isLoading?n.createElement("div",{className:"editor-wrapper span5 scrollable"},n.createElement(o.LoadLines,null)):n.createElement(f,{ref:"mangoEditor",description:this.props.description,dbName:this.state.database.id,onSubmit:this.runQuery,title:this.props.editorTitle,additionalIndexesText:this.props.additionalIndexesText,docs:c("MANGO_SEARCH"),exampleCode:this.state.queryCode,changedQuery:this.state.changedQuery,availableIndexes:this.state.availableIndexes,additionalIndexes:this.state.additionalIndexes,confirmbuttonText:"Run Query"})},runQuery:function(e){return e.preventDefault(),this.getMangoEditor().hasValidCode()?(s.runMangoFindQuery({database:this.state.database,queryCode:this.getMangoEditor().getEditorValue()}),void 0):(t.addNotification({msg:"Please fix the Javascript errors and try again.",type:"error",clear:!0}),void 0)}}),f=n.createClass({displayName:"MangoEditor",getDefaultProps:function(){return{changedQuery:null,availableIndexes:null,additionalIndexes:null}},render:function(){var e="#/"+t.urls("allDocs","app",this.props.dbName,"");return n.createElement("div",{className:"editor-wrapper span5 scrollable"},n.createElement(u,null,n.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.description},className:"editor-description"})),n.createElement(u,null,n.createElement("strong",null,"Database"),n.createElement("div",{className:"db-title"},n.createElement("a",{href:e},this.props.dbName))),n.createElement("form",{className:"form-horizontal",onSubmit:this.props.onSubmit},n.createElement(u,null,n.createElement(d,{id:"query-field",ref:"field",title:this.props.title,docLink:this.props.docs,defaultCode:this.props.exampleCode}),this.getChangedQueryText()),this.getIndexBox(),n.createElement("div",{className:"padded-box"},n.createElement("div",{className:"control-group"},n.createElement(h,{text:this.props.confirmbuttonText})))))},getChangedQueryText:function(){return this.props.changedQuery?n.createElement("div",{className:"info-changed-query"},n.createElement("strong",null,"Info:"),n.createElement("div",null,"We changed the default query based on the last Index you created.")):null},getIndexBox:function(){return this.props.availableIndexes?n.createElement(u,null,n.createElement("strong",null,"Your available Indexes:"),n.createElement("a",{className:"edit-link",href:"#"+t.urls("mango","index-app",this.props.dbName)},"edit"),n.createElement("pre",{className:"mango-available-indexes"},this.getIndexes("index",this.props.availableIndexes),this.getIndexes("additonal",this.props.additionalIndexes))):null},getIndexes:function(e,t){return t?t.map(function(t,i){var r=a.getIndexName(t);return n.createElement("div",{key:e+i},r)}):void 0},getEditorValue:function(){return this.refs.field.getValue()},getEditor:function(){return this.refs.field.getEditor()},hasValidCode:function(){var e=this.getEditor();return e.hadValidCode()}}),g=n.createClass({displayName:"MangoIndexEditorController",getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{queryIndexCode:l.getQueryIndexCode(),database:l.getDatabase()}},onChange:function(){this.setState(this.getStoreState())},componentDidMount:function(){l.on("change",this.onChange,this)},componentWillUnmount:function(){l.off("change",this.onChange)},getMangoEditor:function(){return this.refs.mangoEditor},render:function(){return n.createElement(f,{ref:"mangoEditor",description:this.props.description,dbName:this.state.database.id,onSubmit:this.saveQuery,title:"Index",docs:c("MANGO_INDEX"),exampleCode:this.state.queryIndexCode,confirmbuttonText:"Create Index"})},saveQuery:function(e){return e.preventDefault(),this.getMangoEditor().hasValidCode()?(r.saveQuery({database:this.state.database,queryCode:this.getMangoEditor().getEditorValue()}),void 0):(t.addNotification({msg:"Please fix the Javascript errors and try again.",type:"error",clear:!0}),void 0)}}),m={MangoIndexEditorController:g,MangoQueryEditorController:p};return m}),define("addons/documents/routes-mango",["app","api","addons/documents/helpers","addons/documents/shared-routes","addons/databases/resources","addons/fauxton/components","addons/documents/resources","addons/documents/views","addons/documents/index-results/actions","addons/documents/pagination/stores","addons/documents/header/header.react","addons/documents/header/header.actions","addons/documents/pagination/pagination.react","addons/documents/mango/mango.components.react","addons/documents/mango/mango.actions","addons/documents/mango/mango.stores","addons/documents/index-results/index-results.components.react","addons/documents/sidebar/actions"],function(e,t,n,i,r,o,s,a,l,c,u,d,h,p,f,g,m,v){var y=i.extend({layout:"two_pane",routes:{"database/:database/_index":{route:"createIndex",roles:["fx_loggedIn"]},"database/:database/_find":{route:"findUsingIndex",roles:["fx_loggedIn"]}},initialize:function(e,t,n){var i=n[0];this.databaseName=i,this.database=new r.Model({id:i}),this.allDatabases=this.getAllDatabases(),this.createDesignDocsCollection(),this.addLeftHeader(),f.setDatabase({database:this.database})},findUsingIndex:function(){var n=this.createParams(),i=n.urlParams,r=new s.MangoDocumentCollection(null,{database:this.database,paging:{pageSize:c.indexPaginationStore.getPerPage()}}),g=new s.MangoIndexCollection(null,{database:this.database,params:null,paging:{pageSize:c.indexPaginationStore.getPerPage()}});d.resetHeaderController(),v.setSelectedTab("mango-query"),this.setComponent("#react-headerbar",u.HeaderBarController),this.setComponent("#footer",h.Footer),l.newMangoResultsList({collection:r,isListDeletable:!0,textEmptyIndex:"No Results",bulkCollection:a.BulkDeleteDocCollection}),f.getIndexList({indexList:g});var y=t.urls("allDocs","app",this.database.safeID(),"?limit="+t.constants.DATABASES.DOCUMENT_LIMIT);this.breadcrumbs=this.setView("#breadcrumbs",new o.Breadcrumbs({toggleDisabled:!0,crumbs:[{type:"back",link:y},{name:e.i18n.en_US["mango-title-editor"],link:y}]})),this.setComponent("#left-content",p.MangoQueryEditorController,{description:e.i18n.en_US["mango-descripton"],editorTitle:e.i18n.en_US["mango-title-editor"],additionalIndexesText:e.i18n.en_US["mango-additional-indexes-heading"]}),this.setComponent("#dashboard-lower-content",m.List),this.apiUrl=function(){return[r.urlRef("query-apiurl",i),t.constants.DOC_URLS.MANGO_SEARCH]
}},createIndex:function(){var n=this.createParams(),i=n.urlParams,r=new s.MangoIndexCollection(null,{database:this.database,params:null,paging:{pageSize:c.indexPaginationStore.getPerPage()}});l.newResultsList({collection:r,isListDeletable:!0,bulkCollection:a.MangoBulkDeleteDocCollection,typeOfIndex:"mango"});var f=t.urls("allDocs","app",this.database.safeID(),"?limit="+t.constants.DATABASES.DOCUMENT_LIMIT);this.breadcrumbs=this.setView("#breadcrumbs",new o.Breadcrumbs({toggleDisabled:!0,crumbs:[{type:"back",link:f},{name:e.i18n.en_US["mango-indexeditor-title"],link:f}]})),d.resetHeaderController(),this.setComponent("#react-headerbar",u.HeaderBarController),this.setComponent("#footer",h.Footer),this.setComponent("#dashboard-lower-content",m.List),this.setComponent("#left-content",p.MangoIndexEditorController,{description:e.i18n.en_US["mango-descripton-index-editor"]}),this.apiUrl=function(){return[r.urlRef("index-apiurl",i),t.constants.DOC_URLS.MANGO_INDEX]}}});return{MangoIndexEditorAndQueryEditor:y}}),define("addons/documents/routes",["addons/documents/views","addons/documents/routes-documents","addons/documents/routes-doc-editor","addons/documents/routes-index-editor","addons/documents/routes-mango"],function(e,t,n,i,r){return e.RouteObjects=[n.DocEditorRouteObject,n.NewDocEditorRouteObject,t,i,r.MangoIndexEditorAndQueryEditor],e}),define("addons/documents/base",["app","api","addons/documents/routes"],function(e,t,n){return t.registerUrls("allDocs",{server:function(t,n){return e.host+"/"+t+"/_all_docs"+n},app:function(e,t){return"database/"+e+"/_all_docs"+t},apiurl:function(e,t){return window.location.origin+"/"+e+"/_all_docs"+t}}),t.registerUrls("designDocs",{server:function(t,n){return e.host+"/"+t+"/"+n+"/_info"},app:function(t,n){return"database/"+t+"/_design/"+e.utils.safeURLName(n)+"/_info"},apiurl:function(e,t){return window.location.origin+"/"+e+"/"+t+"/_info"}}),t.registerUrls("view",{server:function(t,n,i){return e.host+"/"+t+"/_design/"+n+"/_view/"+i},app:function(e,t){return"database/"+e+"/_design/"+t+"/_view/"},apiurl:function(e,t,n){return window.location.origin+"/"+e+"/_design/"+t+"/_view/"+n},showNewlySavedView:function(e,t,n){return"/database/"+e+"/"+t+"/_view/"+n},fragment:function(e,t,n){return"database/"+e+t+"/_view/"+n}}),t.registerUrls("document",{server:function(t,n){return e.host+"/"+t+"/"+n},app:function(e,t){return"/database/"+e+"/"+t},apiurl:function(e,t){return window.location.origin+"/"+e+"/"+t},"web-index":function(e,t){return"/database/"+e+"/"+t}}),t.registerUrls("new",{newDocument:function(e){return"/database/"+e+"/new"},newView:function(e){return"/database/"+e+"/new_view"},addView:function(e,t){return"/database/"+e+"/new_view/"+t}}),t.registerUrls("base",{server:function(t){return e.host+"/"+t+"/"},app:function(e){return"/database/"+e+"/"}}),t.registerUrls("mango",{"index-server":function(t,n){return n||(n=""),e.host+"/"+t+"/_index"+n},"index-apiurl":function(e,t){return t||(t=""),window.location.origin+"/"+e+"/_index"+t},"index-app":function(e,t){return t||(t=""),"database/"+e+"/_index"+t},"query-server":function(t,n){return n||(n=""),e.host+"/"+t+"/_find"+n},"query-apiurl":function(e,t){return t||(t=""),window.location.origin+"/"+e+"/_find"+t},"query-app":function(e,t){return t||(t=""),"database/"+e+"/_find"+t}}),n}),define("addons/activetasks/actiontypes",[],function(){return{ACTIVE_TASKS_CHANGE_POLLING_INTERVAL:"ACTIVE_TASKS_CHANGE_POLLING_INTERVAL",ACTIVE_TASKS_SWITCH_TAB:"ACTIVE_TASKS_SWITCH_TAB",ACTIVE_TASKS_SET_COLLECTION:"ACTIVE_TASKS_SET_COLLECTION",ACTIVE_TASKS_SET_SEARCH_TERM:"ACTIVE_TASKS_SET_SEARCH_TERM",ACTIVE_TASKS_SORT_BY_COLUMN_HEADER:"ACTIVE_TASKS_SORT_BY_COLUMN_HEADER",ACTIVE_TASKS_FETCH_AND_SET:"ACTIVE_TASKS_FETCH_AND_SET",ACTIVE_TASKS_SET_IS_LOADING:"ACTIVE_TASKS_SET_IS_LOADING"}}),define("addons/activetasks/actions",["api","addons/activetasks/actiontypes"],function(e,t){return{init:function(t){this.fetchAndSetActiveTasks(t.table,t),e.when(t.fetch()).then(function(){this.fetchAndSetActiveTasks(t.table,t),this.setActiveTaskIsLoading(!1)}.bind(this))},fetchAndSetActiveTasks:function(n,i){e.dispatch({type:t.ACTIVE_TASKS_FETCH_AND_SET,options:{collectionTable:n,backboneCollection:i}})},changePollingInterval:function(n){e.dispatch({type:t.ACTIVE_TASKS_CHANGE_POLLING_INTERVAL,options:n})},switchTab:function(n){e.dispatch({type:t.ACTIVE_TASKS_SWITCH_TAB,options:n})},setCollection:function(n){e.dispatch({type:t.ACTIVE_TASKS_SET_COLLECTION,options:n})},setSearchTerm:function(n){e.dispatch({type:t.ACTIVE_TASKS_SET_SEARCH_TERM,options:n})},sortByColumnHeader:function(n){e.dispatch({type:t.ACTIVE_TASKS_SORT_BY_COLUMN_HEADER,options:{columnName:n}})},setActiveTaskIsLoading:function(n){e.dispatch({type:t.ACTIVE_TASKS_SET_IS_LOADING,options:n})}}}),define("addons/activetasks/resources",["app","api","addons/activetasks/actions"],function(e,t,n){var i={};return i.AllTasks=Backbone.Collection.extend({url:function(){return e.host+"/_active_tasks"},pollingFetch:function(){return this.fetch({reset:!0,parse:!0}),n.setActiveTaskIsLoading(!0),this},parse:function(e){n.setActiveTaskIsLoading(!1);var t=[];return _.each(e,function(e){t.push(e)}),this.table=t,e},table:[]}),i}),define("addons/activetasks/stores",["app","api","addons/activetasks/actiontypes"],function(e,t,n){var i=t.Store.extend({initAfterFetching:function(e,t){this._prevSortbyHeader="started-on",this._headerIsAscending=!0,this._selectedRadio="All Tasks",this._sortByHeader="started-on",this._searchTerm="",this._collection=e,this._pollingIntervalSeconds=5,this.sortCollectionByColumnHeader(this._sortByHeader),this._backboneCollection=t,this.setIsLoading(!0,new Date)},isLoading:function(){return this._isLoading},setIsLoading:function(e,t){if(e)this._startTimeForLoading=t,this._isLoading=!0;else{var n=t,i=n-this._startTimeForLoading;800>i?setTimeout(function(){this._isLoading=!1,this.triggerChange()}.bind(this),800):this._isLoading=!1}},getSelectedRadio:function(){return this._selectedRadio},setSelectedRadio:function(e){this._selectedRadio=e},getPollingInterval:function(){return this._pollingIntervalSeconds},setPollingInterval:function(e){this._pollingIntervalSeconds=e},setPolling:function(){this.clearPolling();var e=setInterval(function(){this._backboneCollection.pollingFetch(),this.setCollection(this._backboneCollection.table),this.sortCollectionByColumnHeader(this._prevSortbyHeader,!1),this.triggerChange()}.bind(this),1e3*this.getPollingInterval());this.setIntervalID(e)},clearPolling:function(){clearInterval(this.getIntervalID())},getIntervalID:function(){return this._intervalID},setIntervalID:function(e){this._intervalID=e},setCollection:function(e){this._collection=e},getCollection:function(){return this._collection},setSearchTerm:function(e){this._searchTerm=e},getSearchTerm:function(){return this._searchTerm},getSortByHeader:function(){return this._sortByHeader},setSortByHeader:function(e){this._sortByHeader=e},getHeaderIsAscending:function(){return this._headerIsAscending},toggleHeaderIsAscending:function(){this._prevSortbyHeader===this._sortByHeader&&(this._headerIsAscending=!this._headerIsAscending)},sortCollectionByColumnHeader:function(e){var t=this._collection,n=_.sortBy(t,function(t){var n=e;return _.isUndefined(t[n])&&(n="source"),t[n]});this._prevSortbyHeader=e,this._collection=n},getFilteredTable:function(){var e=[];return this.sortCollectionByColumnHeader(this._sortByHeader),this._collection.map(function(t){var n=this.passesRadioFilter(t),i=this.passesSearchFilter(t);n&&i&&e.push(t)}.bind(this)),this._headerIsAscending||e.reverse(),e},passesSearchFilter:function(e){var t=this._searchTerm,n=RegExp(t,"g"),i="";return _.has(e,"database")&&(i+=e.database),_.has(e,"source")&&(i+=e.source),_.has(e,"target")&&(i+=e.target),n.test(i)},passesRadioFilter:function(e){var t=this._selectedRadio.toLowerCase().replace(" ","_");return e.type===t||"all_tasks"===t},dispatch:function(e){switch(e.type){case n.ACTIVE_TASKS_FETCH_AND_SET:this.initAfterFetching(e.options.collectionTable,e.options.backboneCollection);break;case n.ACTIVE_TASKS_CHANGE_POLLING_INTERVAL:this.setPollingInterval(e.options),this.setPolling(),this.triggerChange();break;case n.ACTIVE_TASKS_SWITCH_TAB:this.setSelectedRadio(e.options),this.triggerChange();break;case n.ACTIVE_TASKS_SET_COLLECTION:this.setCollection(e.options),this.triggerChange();break;case n.ACTIVE_TASKS_SET_SEARCH_TERM:this.setSearchTerm(e.options),this.triggerChange();break;case n.ACTIVE_TASKS_SORT_BY_COLUMN_HEADER:this.toggleHeaderIsAscending(),this.setSortByHeader(e.options.columnName),this.sortCollectionByColumnHeader(e.options.columnName),this.triggerChange();break;case n.ACTIVE_TASKS_SET_IS_LOADING:this.setIsLoading(e.options,new Date),this.triggerChange();break;default:return}}}),r=new i;return r.dispatchToken=t.dispatcher.register(r.dispatch.bind(r)),{activeTasksStore:r}}),define("addons/activetasks/components.react",["app","api","react","addons/activetasks/stores","addons/activetasks/resources","addons/activetasks/actions","addons/components/react-components.react","addons/fauxton/components.react"],function(e,t,n,i,r,o,s,a){var l=i.activeTasksStore;n.addons.CSSTransitionGroup;var c=n.createClass({displayName:"ActiveTasksController",getStoreState:function(){return{collection:l.getCollection(),searchTerm:l.getSearchTerm(),selectedRadio:l.getSelectedRadio(),sortByHeader:l.getSortByHeader(),headerIsAscending:l.getHeaderIsAscending(),setPolling:l.setPolling,clearPolling:l.clearPolling}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){this.state.setPolling(),l.on("change",this.onChange,this)},componentWillUnmount:function(){this.state.clearPolling(),l.off("change",this.onChange,this)},onChange:function(){this.setState(this.getStoreState())},setNewSearchTerm:function(e){o.setSearchTerm(e)},switchTab:function(e){o.switchTab(e)},tableHeaderOnClick:function(e){o.sortByColumnHeader(e)},render:function(){var e=this.state.collection,t=this.state.searchTerm,i=this.state.selectedRadio,r=this.state.sortByHeader,o=this.state.headerIsAscending,s=this.setNewSearchTerm,a=this.tableHeaderOnClick;return n.createElement("div",{id:"active-tasks-page",className:"scrollable"},n.createElement("div",{className:"inner"},n.createElement(u,{searchTerm:t,selectedRadio:i,onSearch:s,onRadioClick:this.switchTab}),n.createElement(d,{collection:e,searchTerm:t,selectedRadio:i,onTableHeaderClick:a,sortByHeader:r,headerIsAscending:o})))}}),u=n.createClass({displayName:"ActiveTasksFilterTabs",getDefaultProps:function(){return{radioNames:["All Tasks","Replication","Database Compaction","Indexer","View Compaction"]}},checked:function(e){return this.props.selectedRadio===e},onRadioClick:function(e){var t=e.target.value;this.props.onRadioClick(t)},createFilterTabs:function(){return this.props.radioNames.map(function(e){var t=this.checked(e),i=e.replace(" ","-"),r=this.onRadioClick,o=t?"active-tasks-checked":"";return n.createElement("li",{className:"active-tasks-one-checkbox "+o,key:e+"li"},n.createElement("input",{className:"toggle-filter-tab","data-bypass":"true",id:i,type:"radio",key:e,name:"radio-button-active-task-filter-tray",value:e,checked:t,onChange:r}),n.createElement("label",{htmlFor:i,className:"active-tasks-checkbox-label"},e))}.bind(this))},searchTermChange:function(e){var t=e.target.value;this.props.onSearch(t)},render:function(){var e=this.createFilterTabs();return n.createElement("ul",{className:"nav nav-tabs",id:"active-tasks-filter-tabs"},e,n.createElement("li",null,n.createElement("input",{id:"active-tasks-search-box",className:"searchbox",type:"text",name:"search",placeholder:"Search for databases...",value:this.props.searchTerm,onChange:this.searchTermChange})))}}),d=n.createClass({displayName:"ActiveTaskTable",render:function(){var e=this.props.collection,t=this.props.selectedRadio,i=this.props.searchTerm,r=this.props.sortByHeader,o=this.props.onTableHeaderClick,s=this.props.headerIsAscending;return n.createElement("div",{id:"dashboard-lower-content"},n.createElement("table",{id:"active-tasks-table",className:"table table-bordered table-striped active-tasks"},n.createElement(h,{onTableHeaderClick:o,sortByHeader:r,headerIsAscending:s}),n.createElement(f,{collection:e,selectedRadio:t,searchTerm:i})))}}),h=n.createClass({displayName:"ActiveTasksTableHeader",getDefaultProps:function(){return{headerNames:[["type","Type"],["database","Database"],["started-on","Started On"],["updated-on","Updated On"],["pid","PID"],["progress","Status"]]}},createTableHeadingFields:function(){var e=this.props.onTableHeaderClick,t=this.props.sortByHeader,i=this.props.headerIsAscending;return this.props.headerNames.map(function(r){return n.createElement(p,{headerName:r[0],displayName:r[1],key:r[0],onTableHeaderClick:e,sortByHeader:t,headerIsAscending:i})})},render:function(){return n.createElement("thead",null,n.createElement("tr",null,this.createTableHeadingFields()))}}),p=n.createClass({displayName:"TableHeader",arrow:function(){var e=this.props.sortByHeader,t=this.props.headerName,i=this.props.headerIsAscending,r=i?"icon icon-caret-up":"icon icon-caret-down";return e===t?n.createElement("i",{className:r}):void 0},onTableHeaderClick:function(e){var t=e.target.value;this.props.onTableHeaderClick(t)},render:function(){var e=this.arrow(),t="header-field "+this.props.headerName;return n.createElement("input",{type:"radio",name:"header-field",id:this.props.headerName,value:this.props.headerName,className:"header-field radio",onChange:this.onTableHeaderClick},n.createElement("td",{className:t+" tableheader",value:this.props.headerName},n.createElement("label",{className:"header-field label-text active-tasks-header noselect",htmlFor:this.props.headerName},this.props.displayName," ",e)))}}),f=n.createClass({displayName:"ActiveTasksTableBody",getStoreState:function(){return{filteredTable:l.getFilteredTable(this.props.collection)}},getInitialState:function(){return this.getStoreState()},componentWillReceiveProps:function(){this.setState({filteredTable:l.getFilteredTable(this.props.collection)})},createRows:function(){var e=""===this.props.searchTerm.trim();return 0===this.state.filteredTable.length?e?this.noActiveTasks():this.noActiveTasksMatchFilter():_.map(this.state.filteredTable,function(e,t){return n.createElement(g,{key:t,item:e})})},noActiveTasks:function(){var e=this.props.selectedRadio;return"All Tasks"===e&&(e=""),n.createElement("tr",{className:"no-matching-database-on-search"},n.createElement("td",{colSpan:"6"},"No active ",e," tasks."))},noActiveTasksMatchFilter:function(){var e=this.props.selectedRadio;return"All Tasks"===e&&(e=""),n.createElement("tr",{className:"no-matching-database-on-search"},n.createElement("td",{colSpan:"6"},"No active ",e,' tasks match with filter: "',this.props.searchTerm,'"'))},render:function(){return n.createElement("tbody",{className:"js-tasks-go-here"},this.createRows())}}),g=n.createClass({displayName:"ActiveTaskTableBodyContents",getInfo:function(e){return{type:e.type,objectField:y.getDatabaseFieldMessage(e),started_on:y.getTimeInfo(e.started_on),updated_on:y.getTimeInfo(e.updated_on),pid:e.pid.replace(/[<>]/g,""),progress:y.getProgressMessage(e)}},multilineMessage:function(e,t){t||(t="");var i="multiline-active-tasks-message "+t;return e.map(function(e,t){return n.createElement("p",{key:t,className:i},e)})},render:function(){var e=this.getInfo(this.props.item),t=this.multilineMessage(e.objectField,"to-from-database"),i=this.multilineMessage(e.started_on,"time"),r=this.multilineMessage(e.updated_on,"time"),o=this.multilineMessage(e.progress);return n.createElement("tr",null,n.createElement("td",null,e.type),n.createElement("td",null,t),n.createElement("td",null,i),n.createElement("td",null,r),n.createElement("td",null,e.pid),n.createElement("td",null,o,n.createElement(m,{item:this.props.item})))}}),m=n.createClass({displayName:"ActiveTasksViewSourceSequence",onTrayToggle:function(e){e.preventDefault(),this.refs.view_source_sequence_btn.toggle(function(e){e&&this.refs.view_source_sequence_btn.getDOMNode().focus()}.bind(this))},sequences:function(e){return _.isNumber(e)||_.isString(e)?n.createElement(a.ClipboardWithTextField,{textToCopy:e,uniqueKey:e}):_.isArray(e)?_.map(e,function(e,t){return n.createElement(a.ClipboardWithTextField,{textToCopy:e,uniqueKey:t+Math.random(100),key:t})}):n.createElement(a.ClipboardWithTextField,{textToCopy:"???",uniqueKey:"unknownRevision"})},render:function(){if(_.has(this.props.item,"source_seq")){var e=this.sequences(this.props.item.source_seq);return n.createElement("div",null,"Current source sequence:",n.createElement("a",{href:"#",className:"view-source-sequence-btn",onClick:this.onTrayToggle,"data-bypass":"true"},"View"),n.createElement(a.Tray,{ref:"view_source_sequence_btn",className:"view-source-sequence-tray"},n.createElement("span",{className:"add-on"},"Source Sequence"),e))}return null}}),v=n.createClass({displayName:"ActiveTasksPollingWidgetController",getStoreState:function(){return{pollingInterval:l.getPollingInterval(),isLoading:l.isLoading()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){l.on("change",this.onChange,this)},onChange:function(){this.isMounted()&&this.setState(this.getStoreState())},pollingIntervalChange:function(e){o.changePollingInterval(e.target.value)},getPluralForLabel:function(){return"1"===this.state.pollingInterval?"":"s"},createPollingWidget:function(){var e=this.state.pollingInterval,t=this.getPluralForLabel(),i=this.pollingIntervalChange;return n.createElement("ul",{className:"polling-interval-widget"},n.createElement("li",{className:"polling-interval-name"},"Polling interval",n.createElement("label",{className:"polling-interval-time-label",htmlFor:"polling-range"},n.createElement("span",null,e)," second",t)),n.createElement("li",null,n.createElement("input",{id:"polling-range",type:"range",min:"1",max:"30",step:"1",value:e,onChange:i})))},render:function(){var e=this.createPollingWidget(),t=null;return(this.state.isLoading||"1"===this.state.pollingInterval)&&(t=n.createElement(s.LoadLines,null)),n.createElement("div",{className:"active-tasks-loading-lines-container"},n.createElement("span",{className:"active-tasks-loading-lines"},t),e)}}),y={getTimeInfo:function(t){var n=[e.helpers.formatDate(t),e.helpers.getDateFromNow(t)];return n},getDatabaseFieldMessage:function(e){var t=e.type,n=[];return"replication"===t?(n.push("From: "+e.source),n.push("To: "+e.target)):"indexer"===t?(n.push(e.database),n.push("(View: "+e.design_document+")")):n.push(e.database),n},getProgressMessage:function(e){var t=[],n=e.type;return _.has(e,"progress")&&t.push("Progress: "+e.progress+"%"),"indexer"===n?t.push("Processed "+e.changes_done+" of "+e.total_changes+" changes."):"replication"===n&&(t.push(e.docs_written+" docs written."),_.has(e,"changes_pending")&&t.push(e.changes_pending+" pending changes.")),_.has(e,"changes_done")&&t.push(e.changes_done+" Changes done."),t},getSourceSequence:function(e){return e.source_seq}};return{ActiveTasksController:c,ActiveTasksFilterTabs:u,ActiveTaskTable:d,ActiveTasksTableHeader:h,TableHeader:p,ActiveTasksTableBody:f,ActiveTaskTableBodyContents:g,ActiveTasksViewSourceSequence:m,ActiveTasksPollingWidgetController:v}}),define("addons/activetasks/routes",["app","api","addons/activetasks/resources","addons/activetasks/components.react","addons/activetasks/actions"],function(e,t,n,i,r){var o=t.RouteObject.extend({selectedHeader:"Active Tasks",layout:"one_pane",disableLoader:!0,routes:{"activetasks/:id":"showActiveTasks",activetasks:"showActiveTasks"},crumbs:[{name:"Active tasks",link:"activetasks"}],apiUrl:function(){var e=window.location.origin+"/_active_tasks";return[e,t.constants.DOC_URLS.ACTIVE_TASKS]},roles:["_admin"],initialize:function(){this.allTasks=new n.AllTasks},showActiveTasks:function(){r.init(this.allTasks),this.setComponent("#dashboard-content",i.ActiveTasksController),this.setComponent("#right-header",i.ActiveTasksPollingWidgetController)}});return n.RouteObjects=[o],n}),define("addons/activetasks/base",["app","api","addons/activetasks/routes"],function(e,t,n){return n.initialize=function(){t.addHeaderLink({title:"Active Tasks",icon:"fonticon-activetasks",href:"#/activetasks"})},n}),define("addons/cluster/resources",["app","api"],function(e,t){var n=t.addon();return n.ClusterNodes=Backbone.Model.extend({url:function(){return e.host+"/_membership"},parse:function(e){var t;return t=e.all_nodes.reduce(function(t,n){var i=-1!==e.cluster_nodes.indexOf(n);return t.push({node:n,isInCluster:i}),t},[]),e.nodes_mapped=t,e}}),n}),define("addons/cluster/cluster.actiontypes",[],function(){return{CLUSTER_FETCH_NODES:"CLUSTER_FETCH_NODES"}}),define("addons/cluster/cluster.stores",["api","addons/cluster/cluster.actiontypes"],function(e,t){var n=e.Store.extend({initialize:function(){this.reset()},reset:function(){this._nodes=[]},setNodes:function(e){this._nodes=e.nodes},getNodes:function(){return this._nodes},dispatch:function(e){switch(e.type){case t.CLUSTER_FETCH_NODES:this.setNodes(e.options);break;default:return}this.triggerChange()}}),i=new n;return i.dispatchToken=e.dispatcher.register(i.dispatch.bind(i)),{nodesStore:i}}),define("addons/cluster/cluster.react",["app","api","react","addons/cluster/cluster.stores"],function(e,t,n,i){var r=i.nodesStore,o=n.createClass({displayName:"DisabledConfigController",getStoreState:function(){return{nodes:r.getNodes()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){r.on("change",this.onChange,this)},componentWillUnmount:function(){r.off("change",this.onChange)},onChange:function(){this.setState(this.getStoreState())},render:function(){return n.createElement("div",{className:"config-warning-cluster-wrapper"},n.createElement("div",{className:"config-warning-cluster-container"},n.createElement("div",null,n.createElement("div",{className:"config-warning-icon-container pull-left"},n.createElement("i",{className:"fonticon-attention-circled"})),"It seems that you are running a cluster with ",this.state.nodes.length," nodes. For CouchDB 2.0 we recommend using a configuration management tools like Chef, Ansible, Puppet or Salt (in no particular order) to configure your nodes in a cluster.",n.createElement("br",null),n.createElement("br",null),n.createElement("div",{className:"config-warning-other-text"},"We highly recommend against configuring nodes in your cluster using the HTTP API and suggest using a configuration management tool for all configurations."))))}}),s={DisabledConfigController:o};return s}),define("addons/cluster/cluster.actions",["api","addons/cluster/resources","addons/cluster/cluster.actiontypes"],function(e,t,n){return{fetchNodes:function(){var e=new t.ClusterNodes;e.fetch().then(function(){this.updateNodes({nodes:e.get("nodes_mapped")})}.bind(this))},updateNodes:function(t){e.dispatch({type:n.CLUSTER_FETCH_NODES,options:t})},navigateToNodeBasedOnNodeCount:function(n){var i=new t.ClusterNodes;i.fetch().then(function(){var t=i.get("all_nodes");return 1===t.length?e.navigate(n+t[0]):e.navigate("/cluster/disabled",{trigger:!0})})}}}),define("addons/cluster/routes",["app","api","addons/cluster/resources","addons/cluster/cluster.react","addons/cluster/cluster.actions"],function(e,t,n,i,r){var o=t.RouteObject.extend({layout:"one_pane",routes:{"cluster/disabled":"showDisabledFeatureScreen"},crumbs:[{name:"Config disabled",link:"_config"}],apiUrl:function(){return[this.memberships.url(),this.memberships.documentation]},initialize:function(){this.memberships=new n.ClusterNodes},showDisabledFeatureScreen:function(){r.fetchNodes(),this.warning=this.setComponent("#dashboard-content",i.DisabledConfigController)}});return n.RouteObjects=[o],n}),define("addons/cluster/base",["app","api","addons/cluster/routes"],function(e,t,n){return n.initialize=function(){},n}),define("addons/config/resources",["app","api"],function(e,t){var n=t.addon();return n.OptionModel=Backbone.Model.extend({documentation:t.constants.DOC_URLS.CONFIG,initialize:function(e,t){this.node=t.node},url:function(){if(!this.node)throw Error("no node set");return e.host+"/_node/"+this.node+"/_config/"+this.get("section")+"/"+encodeURIComponent(this.get("name"))},isNew:function(){return!1},sync:function(e,t){var n={url:t.url(),contentType:"application/json",dataType:"json",data:JSON.stringify(t.get("value"))};return n.type="delete"===e?"DELETE":"PUT",$.ajax(n)}}),n.Model=Backbone.Model.extend({}),n.Collection=Backbone.Collection.extend({model:n.Model,documentation:t.constants.DOC_URLS.CONFIG,initialize:function(e,t){this.node=t.node},comparator:function(e){return e.get("section")?e.get("section"):void 0},url:function(){if(!this.node)throw Error("no node set");return e.host+"/_node/"+this.node+"/_config"},findEntryInSection:function(e,t){var n,i=_.findWhere(this.toJSON(),{section:e});return i?n=_.findWhere(i.options,{name:t}):!1},parse:function(e){return _.map(e,function(e,t){return{section:t,options:_.map(e,function(e,t){return{name:t,value:e}})}})}}),n}),define("addons/config/views",["app","api","addons/config/resources","addons/fauxton/components"],function(e,t,n,i){var r={};return r.TableRow=t.View.extend({tagName:"tr",className:"config-item",template:"addons/config/templates/item",events:{"dblclick .js-edit-value":"editValue","click .js-delete-value":"deleteValue","click .js-cancel-value":"cancelEdit","click .js-save-value":"saveAndRender","keyup .js-value-input":"processKeyEvents"},deleteValue:function(){var e=this.collection,n=confirm("Are you sure you want to delete this configuration value?");n&&(this.model.destroy().done(function(){e.fetch({reset:!0}).done(function(){t.Events.trigger("config:rerender")})}),this.remove())},editValue:function(e){this.$(e.currentTarget).find(".js-show-value").addClass("js-hidden"),this.$(e.currentTarget).find(".js-edit-value-form").removeClass("js-hidden"),this.$(e.currentTarget).find(".js-value-input").focus()},processKeyEvents:function(e){return 13===e.keyCode?this.saveAndRender(e):27===e.keyCode?this.discardValue(e):void 0},discardValue:function(e){this.$(e.currentTarget).parents("td").find(".js-edit-value-form").addClass("js-hidden"),this.$(e.currentTarget).parents("td").find(".js-show-value").removeClass("js-hidden")},cancelEdit:function(e){this.discardValue(e)},serialize:function(){return{option:this.model.toJSON()}},saveAndRender:function(e){var n,i,r={},o=this.$(e.currentTarget).parents("td").find(".js-value-input");if(r[o.attr("name")]=o.val(),"name"===o.attr("name"))if(n=this.model.get("section"),i=this.collection.findEntryInSection(n,o.val()))t.addNotification({msg:"This config already exists, enter a unique name",type:"error",clear:!0});else{var s=this.model.clone();s.save(r),this.model.destroy(),this.model=s,this.render()}else this.model.save(r),this.render()}}),r.Table=t.View.extend({template:"addons/config/templates/dashboard",initialize:function(){this.listenTo(t.Events,"config:newSection",this.render),this.listenTo(t.Events,"config:rerender",this.render)},beforeRender:function(){var e=this.collection;this.collection.each(function(t){_.each(t.get("options"),function(i,o){this.insertView("table.config tbody",new r.TableRow({collection:e,model:new n.OptionModel({section:t.get("section"),name:i.name,value:i.value,index:o},{node:this.collection.node})}))},this)},this)},establish:function(){return[this.collection.fetch()]}}),r.ConfigHeader=t.View.extend({template:"addons/config/templates/header",className:"header-right",initialize:function(){this.rightHeader=this.setView("#add-section-button",new r.AddConfigOptionsButton({collection:this.collection}))}}),r.AddConfigOptionsButton=i.Tray.extend({template:"addons/config/templates/add_config_option",events:{"click #js-create-config-section":"createConfigOption"},initialize:function(){this.initTray({toggleTrayBtnSelector:"#add-new-section"})},processKey:function(e){13===e.which&&(e.preventDefault(),this.createConfigOption())},afterRender:function(){this.sectionNames=_.map(this.collection.toJSON(),function(e){return e.section}),this.sectionTypeAhead=new i.Typeahead({source:this.sectionNames,el:'input[name="section"]'}),this.sectionTypeAhead.render()},createConfigOption:function(e){e&&e.preventDefault();var t=this.$('input[name="section"]').val(),n=this.$('input[name="name"]').val(),i=this.$('input[name="value"]').val(),r=this.collection;t?n?this.isUniqueEntryInSection(r)?this.showError("The option have a unique name."):i?this.submitForm():this.showError("Please add a value."):this.showError("Please add an option name."):this.showError("Please enter or select a section.")},submitForm:function(){var e=new n.OptionModel({section:this.$('input[name="section"]').val(),name:this.$('input[name="name"]').val(),value:this.$('input[name="value"]').val()},{node:this.collection.node});e.save();var i=this.collection.find(function(t){return t.get("section")===e.get("section")});i?i.get("options").push(e.attributes):this.collection.add({section:e.get("section"),options:[e.attributes]}),this.hideTray(),t.Events.trigger("config:newSection")},isUniqueEntryInSection:function(e){var t=this.$('input[name="section"]').val(),n=this.$('input[name="name"]').val();return e.findEntryInSection(t,n)},showError:function(e){t.addNotification({msg:e,type:"error",clear:!0})}}),r.Tabs=t.View.extend({className:"sidenav",tagName:"nav",template:"addons/config/templates/sidebartabs",initialize:function(e){this.sidebarItems=e.sidebarItems},setSelectedTab:function(e){this.selectedTab=e,this.$("li").removeClass("active"),this.$('a[data-type-select="'+this.selectedTab+'"]').parent("li").addClass("active")},afterRender:function(){this.setSelectedTab(this.selectedTab)},serialize:function(){return{sidebarItems:this.sidebarItems}}}),r}),define("addons/cors/actiontypes",[],function(){return{TOGGLE_ENABLE_CORS:"TOGGLE_ENABLE_CORS",EDIT_CORS:"EDIT_CORS",CORS_ADD_ORIGIN:"CORS_ADD_ORIGIN",CORS_IS_ALL_ORIGINS:"CORS_IS_ALL_ORIGINS",CORS_DELETE_ORIGIN:"CORS_DELETE_ORIGIN",CORS_UPDATE_ORIGIN:"CORS_UPDATE_ORIGIN",CORS_METHOD_CHANGE:"CORS_METHOD_CHANGE",CORS_SAVING:"CORS_SAVING",CORS_SAVED:"CORS_SAVED"}}),define("addons/cors/stores",["api","addons/cors/actiontypes"],function(e,t){var n=e.Store.extend({editCors:function(e){this._isEnabled=e.isEnabled,this._origins=e.origins,this._configChanged=!1,this._shouldSaveChange=!1,this._node=e.node},shouldSaveChange:function(){return this._shouldSaveChange},hasConfigChanged:function(){return this._configChanged},setConfigChanged:function(){this._configChanged=!0},setConfigSaved:function(){this._configChanged=!1},isEnabled:function(){return this._isEnabled},addOrigin:function(e){this._origins.push(e)},deleteOrigin:function(e){var t=_.indexOf(this._origins,e);-1!==t&&this._origins.splice(t,1)},originChange:function(e){return e?(this._origins=["*"],void 0):(this._origins=[],void 0)},getOrigins:function(){return this._origins},getNode:function(){return this._node},isAllOrigins:function(){var e=this.getOrigins();return _.include(e,"*")?!0:!1},toggleEnableCors:function(){this._isEnabled=!this._isEnabled},updateOrigin:function(e,t){this.deleteOrigin(t),this.addOrigin(e)},dispatch:function(e){switch(this._shouldSaveChange=!0,e.type){case t.EDIT_CORS:this.editCors(e.options),this.triggerChange();break;case t.TOGGLE_ENABLE_CORS:this.toggleEnableCors(),this.setConfigChanged(),this.triggerChange();break;case t.CORS_ADD_ORIGIN:this.addOrigin(e.origin),this.setConfigChanged(),this.triggerChange();break;case t.CORS_IS_ALL_ORIGINS:this.originChange(e.isAllOrigins),this.setConfigChanged(),this.triggerChange();break;case t.CORS_DELETE_ORIGIN:this.deleteOrigin(e.origin),this.setConfigChanged(),this.triggerChange();break;case t.CORS_UPDATE_ORIGIN:this.updateOrigin(e.updatedOrigin,e.originalOrigin),this.setConfigChanged(),this.triggerChange();break;case t.CORS_SAVING:this.saving(),this.triggerChange();break;case t.CORS_SAVED:this.setConfigSaved(),this.savingDone(),this.triggerChange();break;default:return
}}}),i=new n;return i.dispatchToken=e.dispatcher.register(i.dispatch.bind(i)),{corsStore:i}}),define("addons/cors/resources",["app","api"],function(e,t){var n=t.addon();return n.Config=t.Model.extend({url:function(){if(!this.get("node"))throw Error("node not set");return window.location.origin+"/_node/"+this.get("node")+"/_config/cors"},parse:function(e){var t=e.origins?e.origins.split(","):[];return{origins:t,methods:e.methods,credentials:e.credentials,headers:e.headers}}}),n.Httpd=t.Model.extend({url:function(){if(!this.get("node"))throw Error("node not set");return window.location.origin+"/_node/"+this.get("node")+"/_config/httpd"},corsEnabled:function(){var e=this.get("enable_cors");return _.isUndefined(e)?!1:"true"===e}}),n.ConfigModel=Backbone.Model.extend({documentation:"cors",url:function(){if(!this.get("node"))throw Error("node not set");return e.host+"/_node/"+this.get("node")+"/_config/"+encodeURIComponent(this.get("section"))+"/"+encodeURIComponent(this.get("attribute"))},isNew:function(){return!1},sync:function(e,t){var n={url:t.url(),contentType:"application/json",dataType:"json",data:JSON.stringify(t.get("value"))};return n.type="delete"===e?"DELETE":"PUT",$.ajax(n)}}),n.validateCORSDomain=function(e){return/^https?:\/\/[a-zA-Z0-9\-]+\.[a-zA-Z0-9\-\.]+(:\d{2,5})?$/.test(e)},n}),define("addons/cors/actions",["api","addons/cors/actiontypes","addons/cors/resources"],function(e,t,n){return{fetchAndEditCors:function(t){var i=new n.Config({node:t}),r=new n.Httpd({node:t});e.when([i.fetch(),r.fetch()]).then(function(){this.editCors({origins:i.get("origins"),isEnabled:r.corsEnabled(),node:t})}.bind(this))},editCors:function(n){e.dispatch({type:t.EDIT_CORS,options:n})},toggleEnableCors:function(){e.dispatch({type:t.TOGGLE_ENABLE_CORS})},addOrigin:function(n){e.dispatch({type:t.CORS_ADD_ORIGIN,origin:n})},originChange:function(n){e.dispatch({type:t.CORS_IS_ALL_ORIGINS,isAllOrigins:n})},deleteOrigin:function(n){e.dispatch({type:t.CORS_DELETE_ORIGIN,origin:n})},updateOrigin:function(n,i){e.dispatch({type:t.CORS_UPDATE_ORIGIN,updatedOrigin:n,originalOrigin:i})},methodChange:function(n){e.dispatch({type:t.CORS_METHOD_CHANGE,httpMethod:n})},saveEnableCorsToHttpd:function(e,t){var i=new n.ConfigModel({section:"httpd",attribute:"enable_cors",value:""+e,node:t});return i.save()},saveCorsOrigins:function(e,t){var i=new n.ConfigModel({section:"cors",attribute:"origins",value:e,node:t});return i.save()},saveCorsCredentials:function(e){var t=new n.ConfigModel({section:"cors",attribute:"credentials",value:"true",node:e});return t.save()},saveCorsHeaders:function(e){var t=new n.ConfigModel({section:"cors",attribute:"headers",value:"accept, authorization, content-type, origin, referer",node:e});return t.save()},saveCorsMethods:function(e){var t=new n.ConfigModel({section:"cors",attribute:"methods",value:"GET, PUT, POST, HEAD, DELETE",node:e});return t.save()},sanitizeOrigins:function(e){return _.isEmpty(e)?"":e.join(",")},saveCors:function(t){var n=[];n.push(this.saveEnableCorsToHttpd(t.enableCors,t.node)),t.enableCors&&(n.push(this.saveCorsOrigins(this.sanitizeOrigins(t.origins),t.node)),n.push(this.saveCorsCredentials(t.node)),n.push(this.saveCorsHeaders(t.node)),n.push(this.saveCorsMethods(t.node))),e.when(n).then(function(){e.addNotification({msg:"Cors settings updated",type:"success",clear:!0})},function(){e.addNotification({msg:"Error! Could not save your CORS settings. Please try again.",type:"error",clear:!0})})}}}),define("addons/cors/components.react",["api","react","addons/cors/stores","addons/cors/resources","addons/cors/actions"],function(e,t,n,i,r){var o=n.corsStore,s=function(t){return i.validateCORSDomain(t)?!0:(e.addNotification({msg:"Please enter a valid domain, starting with http/https and only containing the domain (not a subfolder).",type:"error",clear:!0}),!1)},a=t.createClass({displayName:"OriginRow",getInitialState:function(){return{edit:!1,updatedOrigin:this.props.origin}},editOrigin:function(e){e.preventDefault(),this.setState({edit:!this.state.edit})},updateOrigin:function(e){e.preventDefault(),s(this.state.updatedOrigin)&&(this.props.updateOrigin(this.state.updatedOrigin,this.props.origin),this.setState({edit:!1}))},deleteOrigin:function(e){e.preventDefault(),window.confirm("Are you sure you want to delete "+this.props.origin)&&this.props.deleteOrigin(this.props.origin)},onInputChange:function(e){this.setState({updatedOrigin:e.target.value})},onKeyUp:function(e){return 13===e.keyCode?this.updateOrigin(e):void 0},createOriginDisplay:function(){return this.state.edit?t.createElement("div",{className:"input-append edit-domain-section"},t.createElement("input",{type:"text",name:"update_origin_domain",onChange:this.onInputChange,onKeyUp:this.onKeyUp,value:this.state.updatedOrigin}),t.createElement("button",{onClick:this.updateOrigin,className:"btn btn-primary update-origin"}," Update ")):t.createElement("div",{className:"js-url url-display"},this.props.origin)},render:function(){var e=this.createOriginDisplay();return t.createElement("tr",null,t.createElement("td",null,e),t.createElement("td",{width:"30"},t.createElement("span",{className:"fonticon-pencil",onClick:this.editOrigin,title:"Click to edit"})),t.createElement("td",{width:"30"},t.createElement("span",{className:"fonticon-trash",onClick:this.deleteOrigin,title:"Click to delete"})))}}),l=t.createClass({displayName:"OriginTable",createRows:function(){return _.map(this.props.origins,function(e,n){return t.createElement(a,{updateOrigin:this.props.updateOrigin,deleteOrigin:this.props.deleteOrigin,key:n,origin:e})},this)},render:function(){if(!this.props.origins)return null;if(!this.props.isVisible||0===this.props.origins.length)return null;var e=this.createRows();return t.createElement("table",{id:"origin-domain-table",className:"table table-striped"},t.createElement("tbody",null,e))}}),c=t.createClass({displayName:"OriginInput",getInitialState:function(){return{origin:""}},onInputChange:function(e){this.setState({origin:e.target.value})},addOrigin:function(e){e.preventDefault(),s(this.state.origin)&&(this.props.addOrigin(this.state.origin),this.setState({origin:""}))},onKeyUp:function(e){return 13==e.keyCode?this.addOrigin(e):void 0},render:function(){return this.props.isVisible?t.createElement("div",{id:"origin-domains-container"},t.createElement("div",{className:"origin-domains"},t.createElement("div",{className:"input-append"},t.createElement("input",{type:"text",name:"new_origin_domain",onChange:this.onInputChange,onKeyUp:this.onKeyUp,value:this.state.origin,placeholder:"e.g., https://site.com"}),t.createElement("button",{onClick:this.addOrigin,className:"btn btn-primary add-domain"}," Add ")))):null}}),u=t.createClass({displayName:"Origins",onOriginChange:function(e){"all"===e.target.value&&this.props.isAllOrigins||("selected"!==e.target.value||this.props.isAllOrigins)&&this.props.originChange("all"===e.target.value)},render:function(){return this.props.corsEnabled?t.createElement("div",null,t.createElement("p",null,t.createElement("strong",null," Origin Domains ")," "),t.createElement("p",null,"Databases will accept requests from these domains: "),t.createElement("label",{className:"radio"},t.createElement("input",{type:"radio",checked:this.props.isAllOrigins,value:"all",onChange:this.onOriginChange,name:"all-domains"})," All domains ( * )"),t.createElement("label",{className:"radio"},t.createElement("input",{type:"radio",checked:!this.props.isAllOrigins,value:"selected",onChange:this.onOriginChange,name:"selected-domains"})," Restrict to specific domains")):null}}),d=t.createClass({displayName:"CORSController",getStoreState:function(){return{corsEnabled:o.isEnabled(),origins:o.getOrigins(),isAllOrigins:o.isAllOrigins(),configChanged:o.hasConfigChanged(),shouldSaveChange:o.shouldSaveChange(),node:o.getNode()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){o.on("change",this.onChange,this)},componentWillUnmount:function(){o.off("change",this.onChange)},componentDidUpdate:function(){this.state.shouldSaveChange&&this.save()},onChange:function(){this.setState(this.getStoreState())},enableCorsChange:function(){if(this.state.corsEnabled&&!_.isEmpty(this.state.origins)){var t=e.getExtensions("cors:disableCorsPrompt");t=_.isUndefined(t[0])?"Are you sure? Disabling CORS will overwrite your specific origin domains.":t[0];var n=window.confirm(t);if(!n)return}r.toggleEnableCors()},save:function(){r.saveCors({enableCors:this.state.corsEnabled,origins:this.state.origins,node:this.state.node})},deleteOrigin:function(e){r.deleteOrigin(e)},originChange:function(e){if(e&&!_.isEmpty(this.state.origins)){var t=window.confirm("Are you sure? Switching to all origin domains will overwrite your specific origin domains.");if(!t)return}r.originChange(e)},addOrigin:function(e){r.addOrigin(e)},updateOrigin:function(e,t){r.updateOrigin(e,t)},methodChange:function(e){r.methodChange(e)},getCorsNotice:function(){var t=e.getExtensions("cors:notice");return _.isUndefined(t[0])?"Cross-Origin Resource Sharing (CORS) lets you connect to remote servers directly from the browser, so you can host browser-based apps on static pages and talk directly with CouchDB to load your data.":t[0]},render:function(){var e=_.all([this.state.corsEnabled,!this.state.isAllOrigins]),n=this.state.corsEnabled?"collapsing-container":"";return t.createElement("div",{className:"cors-page"},t.createElement("header",{id:"cors-header"},t.createElement("p",null," ",this.getCorsNotice())),t.createElement("form",{id:"corsForm",onSubmit:this.save},t.createElement("div",{className:"cors-enable"},t.createElement("label",{className:"checkbox"},t.createElement("input",{type:"checkbox",checked:this.state.corsEnabled,onChange:this.enableCorsChange})," Enable CORS")),t.createElement("div",{id:n},t.createElement(u,{corsEnabled:this.state.corsEnabled,originChange:this.originChange,isAllOrigins:this.state.isAllOrigins}),t.createElement(l,{updateOrigin:this.updateOrigin,deleteOrigin:this.deleteOrigin,isVisible:e,origins:this.state.origins}),t.createElement(c,{addOrigin:this.addOrigin,isVisible:e}))))}});return{CORSController:d,OriginInput:c,Origins:u,OriginTable:l,OriginRow:a}}),define("addons/config/routes",["app","api","addons/config/resources","addons/config/views","addons/cors/components.react","addons/cors/actions","addons/cluster/cluster.actions"],function(e,t,n,i,r,o,s){var a=t.RouteObject.extend({layout:"one_pane",routes:{_config:"checkNodes"},crumbs:[{name:"Config disabled",link:"_config"}],checkNodes:function(){s.navigateToNodeBasedOnNodeCount("/_config/")}}),l=t.RouteObject.extend({layout:"with_tabs_sidebar_scroll",roles:["_admin"],selectedHeader:"Config",crumbs:[{name:"Config",link:"_config"}],apiUrl:function(){return[this.configs.url(),this.configs.documentation]},routes:{"_config/:node":"configForNode","_config/:node/cors":"configCorsForNode"},initialize:function(e,t,r){var o=r[0];this.configs=new n.Collection(null,{node:o}),this.sidebar=this.setView("#sidebar-content",new i.Tabs({sidebarItems:[{title:"Main config",typeSelect:"main",link:"_config/"+o},{title:"CORS",typeSelect:"cors",link:"_config/"+o+"/cors"}]}))},configForNode:function(){this.newSection=this.setView("#right-header",new i.ConfigHeader({collection:this.configs})),this.setView("#dashboard-content",new i.Table({collection:this.configs})),this.sidebar.setSelectedTab("main")},configCorsForNode:function(e){this.removeView("#right-header"),this.newSection=this.setComponent("#dashboard-content",r.CORSController),o.fetchAndEditCors(e),this.sidebar.setSelectedTab("cors")}});return n.RouteObjects=[l,a],n}),define("addons/config/base",["app","api","addons/config/routes"],function(e,t,n){return n.initialize=function(){t.addHeaderLink({title:"Config",href:"#_config",icon:"fonticon-cog",className:"config"})},n}),define("addons/replication/resources",["app","api"],function(e,t){var n={};return n.DBModel=Backbone.Model.extend({label:function(){return this.get("name")}}),n.DBList=Backbone.Collection.extend({model:n.DBModel,url:function(){return e.host+"/_all_dbs"},parse:function(e){return _.map(e,function(e){return{id:e,name:e}})}}),n.Task=Backbone.Model.extend({}),n.Tasks=Backbone.Collection.extend({model:n.Task,url:function(){return e.host+"/_active_tasks"},parse:function(e){return _.filter(e,function(e){return"replication"===e.type})}}),n.Replicate=Backbone.Model.extend({documentation:t.constants.DOC_URLS.REPLICATION,url:function(){return window.location.origin+"/_replicate"}}),n}),define("addons/replication/views",["app","api","addons/fauxton/components","addons/replication/resources"],function(e,t,n,i){var r={},o={},s={rate:5,intervalId:null};return _.extend(o,Backbone.Events),r.ReplicationFormForAdmins=t.View.extend({template:"addons/replication/templates/form",events:{"submit #replication":"validate","click .btn-group .btn":"showFields","click .swap":"swapFields","click .options":"toggleAdvancedOptions"},initialize:function(e){this.status=e.status,this.selectedDB=e.selectedDB,this.newRepModel=new i.Replicate({})},afterRender:function(){this.dbSearchTypeahead=new n.DbSearchTypeahead({dbLimit:30,el:"input#to_name"}),this.dbSearchTypeahead.render()},beforeRender:function(){this.insertView("#replicationStatus",new r.ReplicationListForAdmins({collection:this.status}))},cleanup:function(){clearInterval(s.intervalId)},enableFields:function(){this.$el.find("input","select").attr("disabled",!1)},disableFields:function(){this.$el.find("input:hidden","select:hidden").attr("disabled",!0)},showFields:function(e){var t=this.$(e.currentTarget),n=t.val();"local"===n?t.parents(".form_set").addClass("local"):t.parents(".form_set").removeClass("local")},establish:function(){return[this.collection.fetch(),this.status.fetch()]},validate:function(e){if(e.preventDefault(),this.formValidation())return t.addNotification({msg:"Please enter every field.",type:"error",clear:!0}),void 0;if(this.$("input#to_name").is(":visible")&&!this.$("input[name=create_target]").is(":checked")){var n=this.collection.where({name:this.$("input#to_name").val()});if(0===n.length)return t.addNotification({msg:"This database doesn't exist. Check create target if you want to create it.",type:"error",clear:!0}),void 0}this.submit(e)},formValidation:function(){var e=this.$el.find("input:visible"),t=!1;return _.each(e,function(e){("http://"===e.value||""===e.value)&&(t=!0)}),t},serialize:function(){return{databases:this.collection.toJSON(),selectedDB:this.selectedDB}},startReplication:function(e){var n=this;this.newRepModel.save(e,{success:function(e){t.addNotification({msg:"Replication from "+e.get("source")+" to "+e.get("target")+" has begun.",type:"success",clear:!0}),n.updateButtonText(!1),o.trigger("update:tasks")},error:function(e,i){var r=JSON.parse(i.responseText);t.addNotification({msg:r.reason,type:"error",clear:!0}),n.updateButtonText(!1)}}),this.enableFields()},updateButtonText:function(e){var t=this.$("#replication button[type=submit]");e?t.text("Starting replication...").attr("disabled",!0):t.text("Replication").attr("disabled",!1)},submit:function(e){this.disableFields();var t={};_.map(this.$(e.currentTarget).serializeArray(),function(e){""!==e.value&&(t[e.name]="true"===e.value?!0:e.value.replace(/\s/g,"").toLowerCase())}),this.updateButtonText(!0),this.startReplication(t)},swapFields:function(){var e=this.$("#from_name"),t=this.$("#to_name"),n=this.$("#to_url"),i=this.$("#from_url"),r=e.val(),o=i.val(),s=t.val(),a=n.val();return e.val(s),t.val(r),i.val(a),n.val(o),!1}}),r.ReplicationForm=r.ReplicationFormForAdmins.extend({template:"addons/replication/templates/form",events:{"submit #replication":"validate","click .btn-group .btn":"showFields","click .swap":"swapFields","click .options":"toggleAdvancedOptions"},initialize:function(e){this.selectedDB=e.selectedDB,this.newRepModel=new i.Replicate({})},beforeRender:function(){},establish:function(){return[this.collection.fetch()]}}),r.ReplicationListForAdmins=t.View.extend({tagName:"ul",initialize:function(){o.bind("update:tasks",this.establish,this),this.listenTo(this.collection,"reset",this.render),this.$el.prepend('<li class="header"><h4>Active Replication Tasks</h4></li>')},establish:function(){return[this.collection.fetch({reset:!0})]},setPolling:function(){var e=this;this.cleanup(),s.intervalId=setInterval(function(){e.establish()},1e3*s.rate)},cleanup:function(){o.unbind("update:tasks"),clearInterval(s.intervalId)},beforeRender:function(){this.collection.forEach(function(e){this.insertView(new r.replicationItem({model:e}))},this)},showHeader:function(){this.$el.parent().toggleClass("showHeader",this.collection.length>0)},afterRender:function(){this.showHeader(),this.setPolling()}}),r.replicationItem=t.View.extend({tagName:"li",className:"row",template:"addons/replication/templates/progress",events:{"click .cancel":"cancelReplication"},initialize:function(){this.newRepModel=new i.Replicate({})},establish:function(){return[this.model.fetch()]},cancelReplication:function(e){var n=this.$(e.currentTarget),i=n.attr("data-rep-id");this.newRepModel.save({replication_id:i,cancel:!0},{success:function(){t.addNotification({msg:"Replication stopped.",type:"success",clear:!0})},error:function(e,n){var i=JSON.parse(n.responseText);t.addNotification({msg:i.reason,type:"error",clear:!0})}})},afterRender:function(){this.model.get("continuous")&&this.$el.addClass("continuous")},serialize:function(){return{progress:this.model.get("progress"),target:this.model.get("target"),source:this.model.get("source"),continuous:this.model.get("continuous"),repid:this.model.get("replication_id")}}}),r}),define("addons/replication/route",["app","api","addons/replication/resources","addons/replication/views"],function(e,t,n,i){var r=t.RouteObject.extend({layout:"one_pane",routes:{replication:"defaultView","replication/:dbname":"defaultView"},selectedHeader:"Replication",apiUrl:function(){return[this.replication.url(),this.replication.documentation]},crumbs:[{name:"Replicate changes from: ",link:"replication"}],defaultView:function(e){var r=t.session.isAdmin();return this.tasks=[],this.databases=new n.DBList({}),this.replication=new n.Replicate({}),r?(this.tasks=new n.Tasks({id:"ReplicationTasks"}),this.setView("#dashboard-content",new i.ReplicationFormForAdmins({selectedDB:e||"",collection:this.databases,status:this.tasks})),void 0):(this.setView("#dashboard-content",new i.ReplicationForm({selectedDB:e||"",collection:this.databases,status:this.tasks})),void 0)}});return n.RouteObjects=[r],n}),define("addons/replication/base",["app","api","addons/replication/route"],function(e,t,n){return n.initialize=function(){t.addHeaderLink({title:"Replication",href:"#/replication",icon:"fonticon-replicate"})},t.registerUrls("replication",{app:function(e){return"#/replication/"+e}}),n}),define("addons/cors/base",["app","api"],function(e,t){var n=t.addon();return n.initialize=function(){},n}),define("addons/permissions/resources",["app","api"],function(e,t){var n=t.addon();return n.Security=Backbone.Model.extend({defaults:{admins:{names:[],roles:[]},members:{names:[],roles:[]}},isNew:function(){return!1},initialize:function(e,t){this.database=t.database},url:function(){return window.location.origin+"/"+this.database.safeID()+"/_security"},documentation:t.constants.DOC_URLS.DB_PERMISSION,addItem:function(e,t,n){var i=this.get(n),r=this.canAddItem(e,t,n);return r.error?r:(i[t].push(e),this.set(n,i))},canAddItem:function(e,t,n){var i=this.get(n);return i&&i[t]?i[t].indexOf(e)>-1?{error:!0,msg:"Role/Name has already been added"}:{error:!1}:{error:!0,msg:"Section "+n+" does not exist"}},removeItem:function(e,t,n){var i=this.get(n),r=i[t],o=_.indexOf(r,e);return-1!==o?(r.splice(o,1),i[t]=r,this.set(n,i)):void 0}}),n}),define("addons/permissions/actiontypes",[],function(){return{PERMISSIONS_EDIT:"PERMISSIONS_EDIT",PERMISSIONS_FETCHING:"PERMISSIONS_FETCHING",PERMISSIONS_ADD_ITEM:"PERMISSIONS_ADD_ITEM",PERMISSIONS_REMOVE_ITEM:"PERMISSIONS_REMOVE_ITEM"}}),define("addons/permissions/stores",["api","addons/permissions/actiontypes"],function(e,t){var n={};return n.PermissionsStore=e.Store.extend({initialize:function(){this._isLoading=!0},isLoading:function(){return this._isLoading},editPermissions:function(e,t){this._database=e,this._security=t,this._isLoading=!1},getItem:function(e,t){return this._isLoading?[]:this._security.get(e)[t]},getDatabase:function(){return this._database},getSecurity:function(){return this._security},getAdminRoles:function(){return this.getItem("admins","roles")},getAdminNames:function(){return this.getItem("admins","names")},getMemberNames:function(){return this.getItem("members","names")},getMemberRoles:function(){return this.getItem("members","roles")},addItem:function(e){this._security.addItem(e.value,e.type,e.section)},removeItem:function(e){this._security.removeItem(e.value,e.type,e.section)},dispatch:function(e){switch(e.type){case t.PERMISSIONS_FETCHING:this._isLoading=!0,this.triggerChange();break;case t.PERMISSIONS_EDIT:this.editPermissions(e.database,e.security),this.triggerChange();break;case t.PERMISSIONS_ADD_ITEM:this.addItem(e.options),this.triggerChange();break;case t.PERMISSIONS_REMOVE_ITEM:this.removeItem(e.options),this.triggerChange();break;default:return}}}),n.permissionsStore=new n.PermissionsStore,n.permissionsStore.dispatchToken=e.dispatcher.register(n.permissionsStore.dispatch),n}),define("addons/permissions/actions",["api","addons/permissions/actiontypes","addons/permissions/stores"],function(e,t,n){var i=n.permissionsStore;return{fetchPermissions:function(n,i){e.dispatch({type:t.PERMISSIONS_FETCHING,database:n,security:i}),e.when([n.fetch(),i.fetch()]).then(function(){this.editPermissions(n,i)}.bind(this))},editPermissions:function(n,i){e.dispatch({type:t.PERMISSIONS_EDIT,database:n,security:i})},addItem:function(n){var r=i.getSecurity().canAddItem(n.value,n.type,n.section);return r.error?(e.addNotification({msg:r.msg,type:"error"}),void 0):(e.dispatch({type:t.PERMISSIONS_ADD_ITEM,options:n}),this.savePermissions(),void 0)},removeItem:function(n){e.dispatch({type:t.PERMISSIONS_REMOVE_ITEM,options:n}),this.savePermissions()},savePermissions:function(){i.getSecurity().save().then(function(){e.addNotification({msg:"Database permissions has been updated."})},function(t){(t||t.responseJSON)&&e.addNotification({msg:"Could not update permissions - reason: "+t.responseJSON.reason,type:"error"})})}}}),define("addons/permissions/components.react",["app","api","react","addons/components/react-components.react","addons/permissions/stores","addons/permissions/actions"],function(e,t,n,i,r,o){var s=i.LoadLines,a=r.permissionsStore,l=e.helpers.getDocUrl,c=n.createClass({displayName:"PermissionsItem",removeItem:function(){this.props.removeItem({value:this.props.item,type:this.props.type,section:this.props.section})},render:function(){return n.createElement("li",null,n.createElement("span",null,this.props.item),n.createElement("button",{onClick:this.removeItem,type:"button",className:"pull-right close"},""))}}),u=n.createClass({displayName:"PermissionsSection",getInitialState:function(){return{newRole:"",newName:""}},getHelp:function(){return"admins"===this.props.section?"Database members can access the database. If no members are defined, the database is public. ":"Database members can access the database. If no members are defined, the database is public. "},isEmptyValue:function(e,n){return _.isEmpty(e)?(t.addNotification({msg:"Cannot add an empty value for "+n+".",type:"warning"}),!0):!1},addNames:function(e){e.preventDefault(),this.isEmptyValue(this.state.newName,"names")||(this.props.addItem({type:"names",section:this.props.section,value:this.state.newName}),this.setState({newName:""}))},addRoles:function(e){e.preventDefault(),this.isEmptyValue(this.state.newRole,"roles")||(this.props.addItem({type:"roles",section:this.props.section,value:this.state.newRole}),this.setState({newRole:""}))},getItems:function(e,t){return _.map(e,function(e,i){return n.createElement(c,{key:i,item:e,section:this.props.section,type:t,removeItem:this.props.removeItem})},this)},getNames:function(){return this.getItems(this.props.names,"names")},getRoles:function(){return this.getItems(this.props.roles,"roles")},nameChange:function(e){this.setState({newName:e.target.value})},roleChange:function(e){this.setState({newRole:e.target.value})},render:function(){return n.createElement("div",null,n.createElement("header",{className:"page-header"},n.createElement("h3",null,this.props.section),n.createElement("p",{className:"help"},this.getHelp(),n.createElement("a",{className:"help-link","data-bypass":"true",href:l("DB_PERMISSION"),target:"_blank"},n.createElement("i",{className:"icon-question-sign"})))),n.createElement("div",{className:"row-fluid"},n.createElement("div",{className:"span6"},n.createElement("header",null,n.createElement("h4",null,"Users"),n.createElement("p",null,"Specify users who will have ",this.props.section," access to this database.")),n.createElement("form",{onSubmit:this.addNames,className:"permission-item-form form-inline"},n.createElement("input",{onChange:this.nameChange,value:this.state.newName,type:"text",className:"item input-small",placeholder:"Add Name"}),n.createElement("button",{type:"submit",className:"btn btn-success"},n.createElement("i",{className:"icon fonticon-plus-circled"})," Add Name")),n.createElement("ul",{className:"clearfix unstyled permission-items span10"},this.getNames())),n.createElement("div",{className:"span6"},n.createElement("header",null,n.createElement("h4",null,"Roles"),n.createElement("p",null,"Users with any of the following role(s) will have ",this.props.section," access.")),n.createElement("form",{onSubmit:this.addRoles,className:"permission-item-form form-inline"},n.createElement("input",{onChange:this.roleChange,value:this.state.newRole,type:"text",className:"item input-small",placeholder:"Add Role"}),n.createElement("button",{type:"submit",className:"btn btn-success"},n.createElement("i",{className:"icon fonticon-plus-circled"})," Add Role")),n.createElement("ul",{className:"unstyled permission-items span10"},this.getRoles()))))}}),d=n.createClass({displayName:"PermissionsController",getStoreState:function(){return{isLoading:a.isLoading(),adminRoles:a.getAdminRoles(),adminNames:a.getAdminNames(),memberRoles:a.getMemberRoles(),memberNames:a.getMemberNames()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){a.on("change",this.onChange,this)},componentWillUnmount:function(){a.off("change",this.onChange)},onChange:function(){this.setState(this.getStoreState())},addItem:function(e){o.addItem(e)},removeItem:function(e){o.removeItem(e)},render:function(){return this.state.isLoading?n.createElement(s,null):n.createElement("div",{className:"scrollable permissions-page"},n.createElement("div",{id:"sections"},n.createElement(u,{roles:this.state.adminRoles,names:this.state.adminNames,addItem:this.addItem,removeItem:this.removeItem,section:"admins"}),n.createElement(u,{roles:this.state.memberRoles,names:this.state.memberNames,addItem:this.addItem,removeItem:this.removeItem,section:"members"})))}});return{PermissionsController:d,PermissionsSection:u,PermissionsItem:c}}),define("addons/permissions/routes",["app","api","addons/databases/base","addons/permissions/resources","addons/permissions/actions","addons/permissions/components.react","addons/documents/shared-routes"],function(e,t,n,i,r,o,s){var a=s.extend({roles:["fx_loggedIn"],routes:{"database/:database/permissions":"permissions"},initialize:function(t,n,i){var r=e.getParams();r.include_docs=!0,this.initViews(i[0]),this.listenToLookaheadTray()},initViews:function(e){this.database=new n.Model({id:e}),this.security=new i.Security(null,{database:this.database}),this.allDatabases=new n.List,this.createDesignDocsCollection(),this.addLeftHeader(),this.addSidebar("permissions")},apiUrl:function(){return[this.security.url("apiurl"),this.security.documentation]},establish:function(){return[this.designDocs.fetch({reset:!0}),this.allDatabases.fetchOnce()]},listenToLookaheadTray:function(){this.listenTo(t.Events,"lookaheadTray:update",this.onSelectDatabase)},onSelectDatabase:function(n){this.cleanup(),this.initViews(n),t.navigate("/database/"+e.utils.safeURLName(n)+"/permissions",{trigger:!0}),this.listenToLookaheadTray()},permissions:function(){r.fetchPermissions(this.database,this.security),this.setComponent("#dashboard-content",o.PermissionsController)},crumbs:function(){return[{name:this.database.id,link:n.databaseUrl(this.database)},{name:"Permissions",link:"/permissions"}]},cleanup:function(){this.pageContent&&this.removeView("#dashboard-content"),this.leftheader&&this.removeView("#breadcrumbs"),this.sidebar&&this.removeView("#sidebar"),this.stopListening(t.Events,"lookaheadTray:update",this.onSelectDatabase)}});return o.RouteObjects=[a],o}),define("addons/permissions/base",["app","api","addons/permissions/routes"],function(e,t,n){return n.initialize=function(){},n}),define("addons/compaction/actiontypes",[],function(){return{COMPACTION_SET_UP:"COMPACTION_SET_UP",COMPACTION_COMPACTION_STARTING:"COMPACTION_COMPACTION_STARTING",COMPACTION_COMPACTION_FINISHED:"COMPACTION_COMPACTION_FINISHED",COMPACTION_CLEANUP_STARTED:"COMPACTION_CLEANUP_STARTED",COMPACTION_CLEANUP_FINISHED:"COMPACTION_CLEANUP_FINISHED",COMPACTION_VIEW_STARTED:"COMPACTION_VIEW_STARTED",COMPACTION_VIEW_FINISHED:"COMPACTION_VIEW_FINISHED"}}),define("addons/compaction/stores",["api","addons/compaction/actiontypes"],function(e,t){var n={};return n.CompactionStore=e.Store.extend({initialize:function(){this._isCompacting=!1,this._isCleaningView=!1,this._isCompactingView=!1},isCompacting:function(){return this._isCompacting},isCleaningViews:function(){return this._isCleaningViews},isCompactingView:function(){return this._isCompactingView},setDatabase:function(e){this._database=e},getDatabase:function(){return this._database},dispatch:function(e){switch(e.type){case t.COMPACTION_SET_UP:this.setDatabase(e.database),this.triggerChange();break;case t.COMPACTION_COMPACTION_STARTING:this._isCompacting=!0,this.triggerChange();break;case t.COMPACTION_COMPACTION_FINISHED:this._isCompacting=!1,this.triggerChange();break;case t.COMPACTION_CLEANUP_STARTED:this._isCleaningViews=!0,this.triggerChange();break;case t.COMPACTION_CLEANUP_FINISHED:this._isCleaningViews=!1,this.triggerChange();break;case t.COMPACTION_VIEW_STARTED:this._isCompactingView=!0,this.triggerChange();break;case t.COMPACTION_VIEW_FINISHED:this._isCompactingView=!1,this.triggerChange();break;default:return}}}),n.compactionStore=new n.CompactionStore,n.compactionStore.dispatchToken=e.dispatcher.register(n.compactionStore.dispatch),n}),define("addons/compaction/resources",["app","api"],function(e,t){var n=t.addon();return n.compactDB=function(e){return $.ajax({url:e.url()+"/_compact",contentType:"application/json",type:"POST"})},n.cleanupViews=function(e){return $.ajax({url:e.url()+"/_view_cleanup",contentType:"application/json",type:"POST"})},n.compactView=function(e,t){return $.ajax({url:e.url()+"/_compact/"+t.replace("_design/",""),contentType:"application/json",type:"POST"})},n}),define("addons/compaction/actions",["app","api","addons/compaction/actiontypes","addons/compaction/resources"],function(e,t,n,i){return{setCompactionFor:function(e){t.dispatch({type:n.COMPACTION_SET_UP,database:e})},compactionStarted:function(){t.dispatch({type:n.COMPACTION_COMPACTION_STARTING})},compactionFinished:function(){t.dispatch({type:n.COMPACTION_COMPACTION_FINISHED})},cleaningViewsStarted:function(){t.dispatch({type:n.COMPACTION_CLEANUP_STARTED})},cleaningViewsFinished:function(){t.dispatch({type:n.COMPACTION_CLEANUP_FINISHED})},compactViewStarted:function(){t.dispatch({type:n.COMPACTION_VIEW_STARTED})},compactViewFinished:function(){t.dispatch({type:n.COMPACTION_VIEW_FINISHED})},compactDatabase:function(e){this.compactionStarted(),i.compactDB(e).then(function(){t.addNotification({type:"success",msg:'Database compaction has started. Visit <a href="#activetasks">Active Tasks</a> to view the compaction progress.',escape:!1})
},function(e){t.addNotification({type:"error",msg:"Error: "+JSON.parse(e.responseText).reason})}).always(function(){this.compactionFinished()}.bind(this))},cleanupViews:function(e){this.cleaningViewsStarted(),i.cleanupViews(e).then(function(){t.addNotification({type:"success",msg:'View cleanup has started. Visit <a href="#activetasks">Active Tasks</a> to view progress.',escape:!1})},function(e){t.addNotification({type:"error",msg:"Error: "+JSON.parse(e.responseText).reason})}).always(function(){this.cleaningViewsFinished()}.bind(this))},compactView:function(e,n){this.compactViewStarted(),i.compactView(e,n).then(function(){t.addNotification({type:"success",msg:'View compaction has started. Visit <a href="#activetasks">Active Tasks</a> to view progress.',escape:!1})},function(e){t.addNotification({type:"error",msg:"Error: "+JSON.parse(e.responseText).reason})}).always(function(){this.compactViewFinished()}.bind(this))}}}),define("addons/compaction/components.react",["app","api","react","addons/compaction/stores","addons/compaction/actions","addons/components/react-components.react"],function(e,t,n,i,r){var o=i.compactionStore,s=n.createClass({displayName:"CompactDatabase",run:function(){this.props.compactDatabase()},render:function(){var e="Run";return this.props.isCompacting&&(e="Compacting..."),n.createElement("div",{className:"row-fluid"},n.createElement("div",{className:"span12 compaction-option"},n.createElement("h3",null,"Compact Database"),n.createElement("p",null,"Compacting a database removes deleted documents and previous revisions. It is an irreversible operation and may take a while to complete for large databases."),n.createElement("button",{id:"compact-db",disabled:this.props.isCompacting,onClick:this.run,className:"btn btn-large btn-primary"},e)))}}),a=n.createClass({displayName:"CleanView",run:function(){this.props.cleanupView()},render:function(){var e="Run";return this.props.isCleaningView&&(e="Cleaning Views..."),n.createElement("div",{className:"row-fluid"},n.createElement("div",{className:"span12 compaction-option"},n.createElement("h3",null,"Cleanup Views"),n.createElement("p",null,"Cleaning up views in a database removes old view files still stored on the filesystem. It is an irreversible operation."),n.createElement("button",{id:"cleanup-views",onClick:this.run,className:"btn btn-large btn-primary"},e)))}}),l=n.createClass({displayName:"CompactionController",getStoreState:function(){return{database:o.getDatabase(),isCompacting:o.isCompacting(),isCleaningViews:o.isCleaningViews()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){o.on("change",this.onChange,this)},componentWillUnmount:function(){o.off("change",this.onChange)},onChange:function(){this.setState(this.getStoreState())},compactDatabase:function(){r.compactDatabase(this.state.database)},cleanupView:function(){r.cleanupViews(this.state.database)},render:function(){return n.createElement("div",null,n.createElement(s,{isCompacting:this.state.isCompacting,compactDatabase:this.compactDatabase}),n.createElement(a,{isCleaningView:this.state.isCleaningViews,cleanupView:this.cleanupView}))}}),c=n.createClass({displayName:"ViewCompactionButton",onClick:function(e){e.preventDefault(),r.compactView(this.props.database,this.props.designDoc)},getStoreState:function(){return{isCompactingView:o.isCompactingView()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){o.on("change",this.onChange,this)},componentWillUnmount:function(){o.off("change",this.onChange)},onChange:function(){this.setState(this.getStoreState())},render:function(){var e="Compact View";return this.state.isCompactingView&&(e="Compacting View"),n.createElement("button",{disabled:this.state.isCompactingView,className:"btn btn-info pull-right",onClick:this.onClick},e)}});return{CompactDatabase:s,CleanView:a,CompactionController:l,ViewCompactionButton:c}}),define("addons/compaction/routes",["app","api","addons/compaction/components.react","addons/compaction/actions","addons/databases/resources","addons/documents/shared-routes"],function(e,t,n,i,r,o){var s=o.extend({routes:{"database/:database/compact":"compaction"},initialize:function(e,t,n){this.initViews(n[0]),this.listenToLookaheadTray()},initViews:function(e){this.database=new r.Model({id:e}),this.allDatabases=new r.List,this.createDesignDocsCollection(),this.addLeftHeader(),this.addSidebar("compact")},onSelectDatabase:function(n){this.cleanup(),this.initViews(n),t.navigate("/database/"+e.utils.safeURLName(n)+"/compact",{trigger:!0}),this.listenToLookaheadTray()},listenToLookaheadTray:function(){this.listenTo(t.Events,"lookaheadTray:update",this.onSelectDatabase)},compaction:function(){i.setCompactionFor(this.database),this.pageContent=this.setComponent("#dashboard-content",n.CompactionController)},establish:function(){return[this.designDocs.fetch({reset:!0}),this.allDatabases.fetchOnce()]},cleanup:function(){this.pageContent&&this.removeView("#dashboard-content"),this.leftheader&&this.removeView("#breadcrumbs"),this.sidebar&&this.removeView("#sidebar"),this.stopListening(t.Events,"lookaheadTray:update",this.onSelectDatabase)}});return n.RouteObjects=[s],n}),define("addons/compaction/base",["app","api","addons/compaction/routes"],function(e,t,n){return n.initialize=function(){t.registerExtension("docLinks",{title:"Compact & Clean",url:"compact",icon:"icon-cogs"}),t.registerExtension("view-editor:compaction-button",n.ViewCompactionButton)},n}),define("addons/auth/resources",["app","api","core/couchdbSession"],function(e,t,n){var i=new t.addon,r=Backbone.Model.extend({initialize:function(e,t){this.node=t.node},url:function(){if(!this.node)throw Error("no node set");return e.host+"/_node/"+this.node+"/_config/admins/"+this.get("name")},isNew:function(){return!1},sync:function(e,t){var n={url:t.url(),contentType:"application/json",dataType:"json",data:JSON.stringify(t.get("value"))};return n.type="delete"===e?"DELETE":"PUT",$.ajax(n)}});return i.Session=n.Session.extend({url:e.host+"/_session",initialize:function(e){e||(e={}),_.bindAll(this),this.messages=_.extend({},{missingCredentials:"Username or password cannot be blank.",loggedIn:"You have been logged in.",adminCreated:"CouchDB admin created",changePassword:"Your password has been updated.",adminCreationFailedPrefix:"Could not create admin."},e.messages)},isAdminParty:function(){var e=this.get("userCtx");return!e.name&&e.roles.indexOf("_admin")>-1?!0:!1},isLoggedIn:function(){var e=this.get("userCtx");return e?e.name?!0:!1:!1},userRoles:function(){var e=this.user();return e&&e.roles?(-1===e.roles.indexOf("fx_loggedIn")&&e.roles.push("fx_loggedIn"),e.roles):[]},matchesRoles:function(e){if(0===e.length)return!0;var t=_.intersection(this.userRoles(),e).length;return t>0?!0:!1},validateUser:function(e,n,i){if(_.isEmpty(e)||_.isEmpty(n)){var r=t.Deferred();return r.rejectWith(this,[i]),r}},validatePasswords:function(e,n,i){if(_.isEmpty(e)||_.isEmpty(n)||e!==n){var r=t.Deferred();return r.rejectWith(this,[i]),r}},createAdmin:function(e,t,n,i){var o=this.validateUser(e,t,this.messages.missingCredentials);if(o)return o;var s=new r({name:e,value:t},{node:i});return s.save().then(function(){return n?this.login(e,t):this.fetchUser({forceFetch:!0})}.bind(this))},login:function(t,n){var i=this.validateUser(t,n,this.messages.missingCredentials);return i?i:$.ajax({cache:!1,type:"POST",url:e.host+"/_session",dataType:"json",data:{name:t,password:n}}).then(function(){return this.fetchUser({forceFetch:!0})}.bind(this))},logout:function(){var t=this;return $.ajax({type:"DELETE",url:e.host+"/_session",dataType:"json",username:"_",password:"_"}).then(function(){return t.fetchUser({forceFetch:!0})})},changePassword:function(e,t,n){var i="Passwords do not match.",o=this.validatePasswords(e,t,i);if(o)return o;var s=this.get("userCtx").name,a=new r({name:s,value:e},{node:n});return a.save().then(function(){return this.login(s,e)}.bind(this))}}),i}),define("addons/auth/actiontypes",[],function(){return{AUTH_CLEAR_CHANGE_PWD_FIELDS:"AUTH_CLEAR_CHANGE_PWD_FIELDS",AUTH_UPDATE_CHANGE_PWD_FIELD:"AUTH_UPDATE_CHANGE_PWD_FIELD",AUTH_UPDATE_CHANGE_PWD_CONFIRM_FIELD:"AUTH_UPDATE_CHANGE_PWD_CONFIRM_FIELD",AUTH_CLEAR_CREATE_ADMIN_FIELDS:"AUTH_CLEAR_CREATE_ADMIN_FIELDS",AUTH_UPDATE_CREATE_ADMIN_USERNAME_FIELD:"AUTH_UPDATE_CREATE_ADMIN_USERNAME_FIELD",AUTH_UPDATE_CREATE_ADMIN_PWD_FIELD:"AUTH_UPDATE_CREATE_ADMIN_PWD_FIELD",AUTH_SELECT_PAGE:"AUTH_SELECT_PAGE"}}),define("addons/auth/actions",["api","addons/auth/actiontypes","addons/cluster/cluster.stores"],function(e,t,n){var i=n.nodesStore,r=function(t,n,i){i=t,3===arguments.length&&(i=t.responseJSON.reason),e.addNotification({msg:i,type:"error"})};return{login:function(t,n,i){var o=e.session.login(t,n);o.then(function(){return e.addNotification({msg:e.session.messages.loggedIn}),i?e.navigate(i):(e.navigate("/"),void 0)}),o.fail(r)},changePassword:function(n,o){var s=i.getNodes(),a=e.session.changePassword(n,o,s[0].node);a.done(function(){e.addNotification({msg:e.session.messages.changePassword}),e.dispatch({type:t.AUTH_CLEAR_CHANGE_PWD_FIELDS})}),a.fail(r)},updateChangePasswordField:function(n){e.dispatch({type:t.AUTH_UPDATE_CHANGE_PWD_FIELD,value:n})},updateChangePasswordConfirmField:function(n){e.dispatch({type:t.AUTH_UPDATE_CHANGE_PWD_CONFIRM_FIELD,value:n})},createAdmin:function(n,o,s){var a=i.getNodes(),l=e.session.createAdmin(n,o,s,a[0].node);l.then(function(){e.addNotification({msg:e.session.messages.adminCreated}),s?e.navigate("/"):e.dispatch({type:t.AUTH_CLEAR_CREATE_ADMIN_FIELDS})}),l.fail(function(t,n,i){i=t,3===arguments.length&&(i=t.responseJSON.reason),r(e.session.messages.adminCreationFailedPrefix+" "+i)})},updateCreateAdminUsername:function(n){e.dispatch({type:t.AUTH_UPDATE_CREATE_ADMIN_USERNAME_FIELD,value:n})},updateCreateAdminPassword:function(n){e.dispatch({type:t.AUTH_UPDATE_CREATE_ADMIN_PWD_FIELD,value:n})},selectPage:function(n){e.dispatch({type:t.AUTH_SELECT_PAGE,page:n})}}}),define("addons/auth/stores",["app","api","addons/auth/actiontypes"],function(e,t,n){var i=t.Store.extend({initialize:function(){this.reset()},reset:function(){this._changePassword="",this._changePasswordConfirm=""},getChangePassword:function(){return this._changePassword},getChangePasswordConfirm:function(){return this._changePasswordConfirm},setChangePassword:function(e){this._changePassword=e},setChangePasswordConfirm:function(e){this._changePasswordConfirm=e},dispatch:function(e){switch(e.type){case n.AUTH_CLEAR_CHANGE_PWD_FIELDS:this.reset(),this.triggerChange();break;case n.AUTH_UPDATE_CHANGE_PWD_FIELD:this.setChangePassword(e.value),this.triggerChange();break;case n.AUTH_UPDATE_CHANGE_PWD_CONFIRM_FIELD:this.setChangePasswordConfirm(e.value),this.triggerChange();break;default:return}}}),r=new i;r.dispatchToken=t.dispatcher.register(r.dispatch.bind(r));var o=t.Store.extend({initialize:function(){this.reset()},reset:function(){this._username="",this._password=""},getUsername:function(){return this._username},getPassword:function(){return this._password},setUsername:function(e){this._username=e},setPassword:function(e){this._password=e},dispatch:function(e){switch(e.type){case n.AUTH_CLEAR_CREATE_ADMIN_FIELDS:this.reset(),this.triggerChange();break;case n.AUTH_UPDATE_CREATE_ADMIN_USERNAME_FIELD:this.setUsername(e.value),this.triggerChange();break;case n.AUTH_UPDATE_CREATE_ADMIN_PWD_FIELD:this.setPassword(e.value),this.triggerChange();break;default:return}}}),s=new o;s.dispatchToken=t.dispatcher.register(s.dispatch.bind(s));var a=t.Store.extend({initialize:function(){this.reset()},reset:function(){this._selectedPage="changePassword"},getSelectedPage:function(){return this._selectedPage},setSelectedPage:function(e){this._selectedPage=e},dispatch:function(e){switch(e.type){case n.AUTH_SELECT_PAGE:this.setSelectedPage(e.page),this.triggerChange();break;default:return}}}),l=new a;return l.dispatchToken=t.dispatcher.register(l.dispatch.bind(l)),{changePasswordStore:r,createAdminStore:s,createAdminSidebarStore:l}}),define("addons/auth/components.react",["app","api","react","addons/auth/stores","addons/auth/actions"],function(e,t,n,i,r){var o=i.changePasswordStore,s=i.createAdminStore,a=i.createAdminSidebarStore,l=n.createClass({displayName:"LoginForm",propTypes:{urlBack:n.PropTypes.string.isRequired},getInitialState:function(){return{username:"",password:""}},getDefaultProps:function(){return{urlBack:""}},onInputChange:function(e){var t="name"===e.target.name?{username:e.target.value}:{password:e.target.value};this.setState(t)},login:function(e){e.preventDefault(),r.login(this.state.username,this.state.password,this.props.urlBack)},componentDidMount:function(){this.refs.username.getDOMNode().focus()},render:function(){return n.createElement("div",{className:"row-fluid"},n.createElement("div",{className:"span12"},n.createElement("form",{id:"login",onSubmit:this.login},n.createElement("p",{className:"help-block"},"Login with your username and password"),n.createElement("input",{id:"username",type:"text",name:"name",ref:"username",placeholder:"Username",size:"24",onChange:this.onInputChange,value:this.state.username}),n.createElement("br",null),n.createElement("input",{id:"password",type:"password",name:"password",placeholder:"Password",size:"24",onChange:this.onInputChange,value:this.state.password}),n.createElement("br",null),n.createElement("button",{id:"submit",className:"btn",type:"submit"},"Login"))))}}),c=n.createClass({displayName:"ChangePasswordForm",getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{password:o.getChangePassword(),passwordConfirm:o.getChangePasswordConfirm()}},onChange:function(){this.setState(this.getStoreState())},onChangePassword:function(e){r.updateChangePasswordField(e.target.value)},onChangePasswordConfirm:function(e){r.updateChangePasswordConfirmField(e.target.value)},componentDidMount:function(){this.refs.password.getDOMNode().focus(),o.on("change",this.onChange,this)},componentWillUnmount:function(){o.off("change",this.onChange)},changePassword:function(e){e.preventDefault(),r.changePassword(this.state.password,this.state.passwordConfirm)},render:function(){return n.createElement("div",{className:"auth-page"},n.createElement("h3",null,"Change Password"),n.createElement("form",{id:"change-password",onSubmit:this.changePassword},n.createElement("p",null,"Enter your new password."),n.createElement("input",{id:"password",type:"password",ref:"password",name:"password",placeholder:"Password",size:"24",onChange:this.onChangePassword,value:this.state.password}),n.createElement("br",null),n.createElement("input",{id:"password-confirm",type:"password",name:"password_confirm",placeholder:"Verify Password",size:"24",onChange:this.onChangePasswordConfirm,value:this.state.passwordConfirm}),n.createElement("br",null),n.createElement("p",null,n.createElement("button",{type:"submit",className:"btn btn-primary"},"Change"))))}}),u=n.createClass({displayName:"CreateAdminForm",propTypes:{loginAfter:n.PropTypes.bool.isRequired},getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{username:s.getUsername(),password:s.getPassword()}},onChange:function(){this.setState(this.getStoreState())},getDefaultProps:function(){return{loginAfter:""}},onChangeUsername:function(e){r.updateCreateAdminUsername(e.target.value)},onChangePassword:function(e){r.updateCreateAdminPassword(e.target.value)},componentDidMount:function(){this.refs.username.getDOMNode().focus(),s.on("change",this.onChange,this)},componentWillUnmount:function(){s.off("change",this.onChange)},createAdmin:function(e){e.preventDefault(),r.createAdmin(this.state.username,this.state.password,this.props.loginAfter)},render:function(){return n.createElement("div",{className:"auth-page"},n.createElement("h3",null,"Create Admins"),n.createElement("p",null,"Before a server admin is configured, all clients have admin privileges. This is fine when HTTP access is restricted to trusted users. ",n.createElement("strong",null,"If end-users will be accessing this CouchDB, you must create an admin account to prevent accidental (or malicious) data loss.")),n.createElement("p",null,"Server admins can create and destroy databases, install and update _design documents, run the test suite, and edit all aspects of CouchDB configuration."),n.createElement("form",{id:"create-admin-form",onSubmit:this.createAdmin},n.createElement("input",{id:"username",type:"text",ref:"username",name:"name",placeholder:"Username",size:"24",onChange:this.onChangeUsername}),n.createElement("br",null),n.createElement("input",{id:"password",type:"password",name:"password",placeholder:"Password",size:"24",onChange:this.onChangePassword}),n.createElement("p",null,"Non-admin users have read and write access to all databases, which are controlled by validation functions. CouchDB can be configured to block all access to anonymous users."),n.createElement("button",{type:"submit",id:"create-admin",className:"btn btn-primary"},"Create Admin")))}}),d=n.createClass({displayName:"CreateAdminSidebar",getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{selectedPage:a.getSelectedPage()}},onChange:function(){this.setState(this.getStoreState())},componentDidMount:function(){a.on("change",this.onChange,this)},componentWillUnmount:function(){a.off("change",this.onChange)},selectPage:function(e){var t=e.target.href.split("#")[1];r.selectPage(t)},render:function(){var e=t.session.user(),i=_.isNull(e)?"":t.session.user().name;return n.createElement("div",{className:"sidenav"},n.createElement("header",{className:"row-fluid"},n.createElement("h3",null,i)),n.createElement("ul",{className:"nav nav-list",onClick:this.selectPage},n.createElement("li",{className:"changePassword"===this.state.selectedPage?"active":"","data-page":"changePassword"},n.createElement("a",{href:"#changePassword"},"Change Password")),n.createElement("li",{className:"addAdmin"===this.state.selectedPage?"active":"","data-page":"addAdmin"},n.createElement("a",{href:"#addAdmin"},"Create Admins"))))}});return{LoginForm:l,ChangePasswordForm:c,CreateAdminForm:u,CreateAdminSidebar:d}}),define("addons/auth/routes",["app","api","addons/auth/resources","addons/auth/actions","addons/auth/components.react","addons/cluster/cluster.actions"],function(e,t,n,i,r,o){var s=t.RouteObject.extend({layout:"one_pane",routes:{"login?*extra":"login",login:"login",logout:"logout",createAdmin:"checkNodes","createAdmin/:node":"createAdminForNode"},disableLoader:!0,checkNodes:function(){o.navigateToNodeBasedOnNodeCount("/createAdmin/")},login:function(){this.crumbs=[{name:"Login",link:"#"}],this.setComponent("#dashboard-content",r.LoginForm,{urlBack:e.getParams().urlback})},logout:function(){t.addNotification({msg:"You have been logged out."}),t.session.logout().then(function(){t.navigate("/")})},createAdminForNode:function(){o.fetchNodes(),this.crumbs=[{name:"Create Admin",link:"#"}],this.setComponent("#dashboard-content",r.CreateAdminForm,{loginAfter:!0})}}),a=t.RouteObject.extend({layout:"with_sidebar",routes:{changePassword:{route:"checkNodesForPasswordChange",roles:["fx_loggedIn"]},"changePassword/:node":{route:"changePassword",roles:["fx_loggedIn"]},addAdmin:{route:"checkNodesForAddAdmin",roles:["_admin"]},"addAdmin/:node":{route:"addAdmin",roles:["_admin"]}},checkNodesForPasswordChange:function(){o.navigateToNodeBasedOnNodeCount("/changePassword/")},checkNodesForAddAdmin:function(){o.navigateToNodeBasedOnNodeCount("/addAdmin/")},selectedHeader:function(){return t.session.user().name},initialize:function(){this.setComponent("#sidebar-content",r.CreateAdminSidebar)},changePassword:function(){o.fetchNodes(),i.selectPage("changePassword"),this.setComponent("#dashboard-content",r.ChangePasswordForm)},addAdmin:function(){o.fetchNodes(),i.selectPage("addAdmin"),this.setComponent("#dashboard-content",r.CreateAdminForm,{loginAfter:!1})},crumbs:[{name:"User Management",link:"#"}]});return n.RouteObjects=[s,a],n}),define("addons/auth/base",["app","api","addons/auth/routes"],function(e,t,n){return n.session=new n.Session,t.setSession(n.session),e.session=n.session,n.initialize=function(){t.addHeaderLink({id:"auth",title:"Login",href:"#login",icon:"fonticon-user",bottomNav:!0}),n.session.on("change",function(){var e=n.session,i={};e.isAdminParty()?i={id:"auth",title:"Admin Party!",href:"#createAdmin",icon:"fonticon-user",bottomNav:!0}:e.isLoggedIn()?(i={id:"auth",title:e.user().name,href:"#changePassword",icon:"fonticon-user",bottomNav:!0},t.addHeaderLink({id:"logout",footerNav:!0,href:"#logout",title:"Logout",icon:"",className:"logout"})):(i={id:"auth",title:"Login",href:"#login",icon:"fonticon-user",bottomNav:!0},t.removeHeaderLink({id:"logout",footerNav:!0})),t.updateHeaderLink(i)}),n.session.fetchUser().then(function(){n.session.trigger("change")});var e=function(e,t){var n=$.Deferred();return e.isAdminParty()?(e.trigger("authenticated"),n.resolve()):e.matchesRoles(t)?(e.trigger("authenticated"),n.resolve()):n.reject(),[n]},i=function(){var e=window.location.hash.replace("#",""),n=/login\?urlback=/g;n.test(e)&&(e=e.replace("login?urlback=","")),t.navigate("/login?urlback="+e,{replace:!0})};t.auth.registerAuth(e),t.auth.registerAuthDenied(i)},n}),define("addons/verifyinstall/resources",["app","api","addons/databases/resources","addons/documents/resources"],function(e,t,n,i){var r,o,s=t.addon(),a=new n.Model({id:"verifytestdb",name:"verifytestdb"}),l=new n.Model({id:"verifytestdb_replicate",name:"verifytestdb_replicate"});return s.testProcess={saveDoc:function(){return r=new i.Doc({_id:"test_doc_1",a:1},{database:a}),r.save()},destroyDoc:function(){return r.destroy()},updateDoc:function(){return r.set({b:"hello"}),r.save()},saveDB:function(){return a.save()},setupDB:function(e){var n=t.Deferred();return e.fetch().then(function(){return e.destroy()},function(){n.resolve()}).then(function(){n.resolve()},function(e,t,i){"Unauthorized"===i&&n.reject(e,t,i)}),n},setup:function(){return t.when([this.setupDB(a),this.setupDB(l)])},testView:function(){var e=t.Deferred(),n=$.get(o.url()+"/_view/testview");return n.then(function(t){t=_.isString(t)?JSON.parse(t):t;var n=t.rows[0];if(6===n.value)return e.resolve();var i={reason:"Values expect 6, got "+n.value};e.reject({responseText:JSON.stringify(i)})},e.reject),e},setupView:function(){var e=new i.Doc({_id:"test_doc_10",a:1},{database:a}),n=new i.Doc({_id:"test_doc_20",a:2},{database:a}),r=new i.Doc({_id:"test_doc_30",a:3},{database:a});return o=new i.Doc({_id:"_design/view_check",views:{testview:{map:"function (doc) { emit(doc._id, doc.a); }",reduce:"_sum"}}},{database:a}),t.when([e.save(),n.save(),r.save(),o.save()])},setupReplicate:function(){return $.ajax({url:e.host+"/_replicate",contentType:"application/json",type:"POST",dataType:"json",processData:!1,data:JSON.stringify({create_target:!0,source:"verifytestdb",target:"verifytestdb_replicate"})})},testReplicate:function(){var e=t.Deferred(),n=l.fetch();return n.then(function(){var t=l.get("doc_count");if(4===t)return e.resolve(),void 0;var n={reason:"Replication Failed, expected 4 docs got "+t};e.reject({responseText:JSON.stringify(n)})},e.reject),e},removeDBs:function(){l.destroy(),a.destroy()}},s}),define("addons/verifyinstall/constants",[],function(){var e={TESTS:{CREATE_DATABASE:"TEST_CREATE_DATABASE",CREATE_DOCUMENT:"TEST_CREATE_DOCUMENT",UPDATE_DOCUMENT:"TEST_UPDATE_DOCUMENT",DELETE_DOCUMENT:"TEST_DELETE_DOCUMENT",CREATE_VIEW:"TEST_CREATE_VIEW",REPLICATION:"TEST_REPLICATION"}};return e}),define("addons/verifyinstall/actiontypes",[],function(){return{VERIFY_INSTALL_START:"VERIFY_INSTALL_START",VERIFY_INSTALL_RESET:"VERIFY_INSTALL_RESET",VERIFY_INSTALL_SINGLE_TEST_COMPLETE:"VERIFY_INSTALL_SINGLE_TEST_COMPLETE",VERIFY_INSTALL_ALL_TESTS_COMPLETE:"VERIFY_INSTALL_ALL_TESTS_COMPLETE"}}),define("addons/verifyinstall/actions",["app","api","addons/verifyinstall/constants","addons/verifyinstall/resources","addons/verifyinstall/actiontypes"],function(e,t,n,i,r){var o=function(e){t.dispatch({type:r.VERIFY_INSTALL_SINGLE_TEST_COMPLETE,test:e,success:!0})},s=function(e){return function(n){n&&(t.dispatch({type:r.VERIFY_INSTALL_SINGLE_TEST_COMPLETE,test:e,success:!1}),t.addNotification({msg:"Error: "+JSON.parse(n.responseText).reason,type:"error"}))}};return{resetStore:function(){t.dispatch({type:r.VERIFY_INSTALL_RESET})},startVerification:function(){t.dispatch({type:r.VERIFY_INSTALL_START});var e=i.testProcess;e.setup().then(function(){return e.saveDB()},s(n.TESTS.CREATE_DATABASE)).then(function(){return o(n.TESTS.CREATE_DATABASE),e.saveDoc()},s(n.TESTS.CREATE_DOCUMENT)).then(function(){return o(n.TESTS.CREATE_DOCUMENT),e.updateDoc()},s(n.TESTS.UPDATE_DOCUMENT)).then(function(){return o(n.TESTS.UPDATE_DOCUMENT),e.destroyDoc()},s(n.TESTS.DELETE_DOCUMENT)).then(function(){return o(n.TESTS.DELETE_DOCUMENT),e.setupView()},s(n.TESTS.CREATE_VIEW)).then(function(){return e.testView()},s(n.TESTS.CREATE_VIEW)).then(function(){return o(n.TESTS.CREATE_VIEW),e.setupReplicate()},s(n.TESTS.CREATE_VIEW)).then(function(){return e.testReplicate()},s(n.TESTS.REPLICATION)).then(function(){o(n.TESTS.REPLICATION),t.dispatch({type:r.VERIFY_INSTALL_ALL_TESTS_COMPLETE}),t.addNotification({msg:"Success! Your CouchDB installation is working. Time to Relax.",type:"success"}),e.removeDBs()},s(n.TESTS.REPLICATION))}}}),define("addons/verifyinstall/stores",["api","addons/verifyinstall/constants","addons/verifyinstall/actiontypes"],function(e,t,n){var i=e.Store.extend({initialize:function(){this.reset()},reset:function(){this._isVerifying=!1,this._tests={},_.each(Object.keys(t.TESTS),function(e){this._tests[t.TESTS[e]]={complete:!1}},this)},startVerification:function(){this._isVerifying=!0},stopVerification:function(){this._isVerifying=!1},checkIsVerifying:function(){return this._isVerifying},updateTestStatus:function(e,t){if(!_.has(this._tests,e))throw Error("Invalid test name passed to updateTestStatus()");this._tests[e]={complete:!0,success:t}},getTestResults:function(){return this._tests},dispatch:function(e){switch(e.type){case n.VERIFY_INSTALL_START:this.startVerification(),this.triggerChange();break;case n.VERIFY_INSTALL_RESET:this.reset(),this.triggerChange();break;case n.VERIFY_INSTALL_SINGLE_TEST_COMPLETE:this.updateTestStatus(e.test,e.success),this.triggerChange();break;case n.VERIFY_INSTALL_ALL_TESTS_COMPLETE:this.stopVerification(),this.triggerChange();break;default:return}}}),r={};return r.verifyInstallStore=new i,r.verifyInstallStore.dispatchToken=e.dispatcher.register(r.verifyInstallStore.dispatch),r}),define("addons/verifyinstall/components.react",["app","api","react","addons/verifyinstall/constants","addons/verifyinstall/resources","addons/verifyinstall/actions","addons/verifyinstall/stores"],function(e,t,n,i,r,o,s){var a=s.verifyInstallStore,l=n.createClass({displayName:"VerifyInstallController",getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{isVerifying:a.checkIsVerifying(),testResults:a.getTestResults()}},startVerification:function(){o.startVerification()},onChange:function(){this.setState(this.getStoreState())},componentDidMount:function(){a.on("change",this.onChange,this)},componentWillUnmount:function(){a.off("change",this.onChange)},render:function(){return n.createElement("div",null,n.createElement(c,{verify:this.startVerification,isVerifying:this.state.isVerifying}),n.createElement(u,{testResults:this.state.testResults}))}}),c=n.createClass({displayName:"VerifyInstallButton",propTypes:{verify:n.PropTypes.func.isRequired,isVerifying:n.PropTypes.bool.isRequired},render:function(){return n.createElement("button",{id:"start",className:"btn btn-large btn-success",onClick:this.props.verify,disabled:this.props.isVerifying},this.props.isVerifying?"Verifying":"Verify Installation")}}),u=n.createClass({displayName:"VerifyInstallResults",propTypes:{testResults:n.PropTypes.object.isRequired},showTestResult:function(e){return this.props.testResults[e].complete?this.props.testResults[e].success?n.createElement("span",null,""):n.createElement("span",null,""):""},render:function(){return n.createElement("table",{className:"table table-striped table-bordered"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"Test"),n.createElement("th",null,"Status"))),n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",null,"Create Database"),n.createElement("td",{id:"js-test-create-db"},this.showTestResult(i.TESTS.CREATE_DATABASE))),n.createElement("tr",null,n.createElement("td",null,"Create Document"),n.createElement("td",{id:"js-test-create-doc"},this.showTestResult(i.TESTS.CREATE_DOCUMENT))),n.createElement("tr",null,n.createElement("td",null,"Update Document"),n.createElement("td",{id:"js-test-update-doc"},this.showTestResult(i.TESTS.UPDATE_DOCUMENT))),n.createElement("tr",null,n.createElement("td",null,"Delete Document"),n.createElement("td",{id:"js-test-delete-doc"},this.showTestResult(i.TESTS.DELETE_DOCUMENT))),n.createElement("tr",null,n.createElement("td",null,"Create View"),n.createElement("td",{id:"js-test-create-view"},this.showTestResult(i.TESTS.CREATE_VIEW))),n.createElement("tr",null,n.createElement("td",null,"Replication"),n.createElement("td",{id:"js-test-replication"},this.showTestResult(i.TESTS.REPLICATION)))))}});return{VerifyInstallController:l,VerifyInstallButton:c,VerifyInstallResults:u}}),define("addons/verifyinstall/routes",["app","api","addons/verifyinstall/resources","addons/verifyinstall/actions","addons/verifyinstall/components.react"],function(e,t,n,i,r){var o=t.RouteObject.extend({layout:"one_pane",routes:{verifyinstall:"verifyInstall"},selectedHeader:"Verify",verifyInstall:function(){i.resetStore(),this.setComponent("#dashboard-content",r.VerifyInstallController)},crumbs:[{name:"Verify CouchDB Installation",link:"#"}]});return n.RouteObjects=[o],n}),define("addons/verifyinstall/base",["app","api","addons/verifyinstall/routes"],function(e,t,n){return n.initialize=function(){t.addHeaderLink({title:"Verify",href:"#verifyinstall",icon:"fonticon-ok-circled",bottomNav:!0})},n}),define("load_addons",["addons/fauxton/base","addons/components/base","addons/databases/base","addons/documents/base","addons/activetasks/base","addons/cluster/base","addons/config/base","addons/replication/base","addons/cors/base","addons/permissions/base","addons/compaction/base","addons/auth/base","addons/verifyinstall/base"],function(){var e={addons:arguments};return e}),require(["app","api","load_addons"],function(e,t,n){e.addons=n.addons,t.router=e.router=new t.Router(e.addons),Backbone.history.start({pushState:!1,root:e.root}),$(document).on("click","a:not([data-bypass])",function(t){var n={prop:$(this).prop("href"),attr:$(this).attr("href")},i=location.protocol+"//"+location.host;n.prop&&n.prop.slice(0,i.length)===i&&(t.preventDefault(),e.router.navigate(n.attr,!0))})}),define("main",function(){}),require.config({deps:["main"],paths:{libs:"../assets/js/libs",plugins:"../assets/js/plugins",jquery:"../assets/js/libs/jquery",lodash:"../assets/js/libs/lodash",backbone:"../assets/js/libs/backbone","backbone.layoutmanager":"../assets/js/plugins/backbone.layoutmanager",bootstrap:"../assets/js/libs/bootstrap",spin:"../assets/js/libs/spin.min",d3:"../assets/js/libs/d3",ace:"../assets/js/libs/ace","cloudant.pagingcollection":"../assets/js/plugins/cloudant.pagingcollection",velocity:"../assets/js/plugins/velocity","velocity.ui":"../assets/js/plugins/velocity.ui",react:"../assets/js/libs/react",flux:"../assets/js/libs/flux","es5-shim":"../assets/js/libs/es5-shim","css.escape":"../assets/js/libs/css.escape",moment:"../assets/js/libs/moment"},baseUrl:"/",map:{"*":{underscore:"lodash",api:"core/api"}},shim:{backbone:{deps:["lodash","jquery"],exports:"Backbone"},bootstrap:{deps:["jquery"],exports:"Bootstrap"},"plugins/prettify":[],"plugins/beautify":[],velocity:["jquery"],"velocity.ui":["velocity"]}}),define("config",function(){});
